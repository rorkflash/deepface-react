(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else if(typeof exports === 'object')
		exports["DCFaceID"] = factory();
	else
		root["DCFaceID"] = factory();
})(this, function() {
return /******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ 614:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "default": () => /* binding */ dcfaceid
});

const _0x1a17=['Received:','clear','videoinput','pitch','ID_BACK','defineCommands','bottom','outOfBounds','useServerSide','command','faceMask','act2Command','onerror','bbox','onError','setCommand','detectionLocked','rear\x20camera\x20used','quadraticCurveTo','session\x20timeout','shuffle','cutLastSlash','getPose','fireCommand','scan_worker_path','clearSnapshots','action','callCommandResult','mrz','hideTextArea','visual','headpos','image/jpeg','down','docFace','getImageB64','9HOrppO','forward','analyzeAfterOpen','slice','sourceDim','innerHTML','recognize','image','finishTime','stop','add','pass_front','TOO_SMALL','opacity','croppedSize','defineScanType','cropCanvas','toOriginalSize','offsetHeight','dim','actionWaitBeforeCheck','kind','30px','score','545879gWteJd','421999CsvEwh','single','START','length','startingWaitTime','checkCurrentCommandAction','onScanResult','onStartDownCount','errorTime','frontCamera','src','onMRZDetected','sizeKoef','callStepChange','getSnapshots','time','index','undefined','callError','postMessage','toLowerCase','createDeepStory','classList','atan2','DOWN','debug','timeID','join','apply','data','catch','noface','originalSize','onTinyFaceResult','isErrorExist','lock','camera','isMobile','text','number','anonymous','scale','type','look\x20left','keys','tagName','delay','look\x20forward','__canvas','web\x20camera\x20exception!','next','onStop','serverDelay','canvasToImageData','textAlign','serverSide','areaColor','onFinished','NONE','valid','cutEdge','devicePixelRatio','forEach','substr','appendChild','moveTo','checkURI','getArea','manyFace','lastCommand','videoWidth','callCardDetectedEvent','landmark','INIT','mediaDevices','drawStreamToCanvas','getLastDetected','json','defineScanFace','SUCCESS','videoSize','reset','devices','applyConstraints','actionArea','top','commands','id_front','stroke','isRearCameraUsed','imageToCanvas','pos','face_worker_path','request','curScan','innerHtml','canvas2grayscale','pass_full','maskSize','look\x20right','onload','media\x20devices','getLaplacianVariance','defineCurrentAction','indexOf','actionText','includes','state','clearRect','17VgKWtV','url','backgroundColor','autoplay','stringify','box','js/deepscanworker.min.js','getTime','detector','absolute','testDetect','1658397EDAWCY','closePath','substring','getInstance','getCurrentStep','mrzOptions','currentStepActive','canvasToBase64','then','list','green','userAgent','observe','showProcessing','max','detect','setAttribute','actionWaitTime','stream','match','actualCanvas','position','normalizing','finished','getContext','DIV','drawFaces','lastDetected','inputSize','load','parentElement','onpause','getElementById','callback','worker','faceWebWorker','errorWaitTime','worker_path','object','CANVAS','errors','checkPosAndActions','loadCard','getCoordX','onStart','dpr','parseObject','getTinyFace','streamSize','environment','defineContainer','lastScanned','showArea','error','id_back','getPassTime','687334jwSdcm','setDim','startSession','3263rCtMUV','unlock','function','rgba(','onCameraLoaded','isOffscreenCanvasSupport','currentCommand','detectedFaceCountDownBeforeStart','paused','insertBefore','finish','setOptions','current','maskInited','scanner','isPlaying','noFace','video','append','isWebGLExist','round','rgba(0,\x200,\x200,\x201)','isAllScanned','resHeight','notifyAll','onFaceDetected','getTracks','1rVNZxo','RIGHT','videoHeight','fillStyle','getCoordY','safari','analyser','cropAndResizeCanvas','roll','/verify','cardImage','hasCommand','init','lineWidth','scan','headers','isReady','initWorker','pass_main','mirrored','REJECT','textContent','options','beginPath','onStepChanged','globalCompositeOperation','canvas2IMG','detectTimer','push','getBox','floor','isSafari','commander','21212ZtEOau','crossOrigin','checkScanResult','blinking','status','log','lineTo','callCommandChange','landMarks','toDataURL','scans','random','class','restore','card/detect','onStreamLoaded','onloadeddata','getStep','other','PASS_FRONT','defineStream','fixedTime','GET','SCANNING','getVideoTracks','loaded','cardMinSize','filter','look\x20up','onDetected','raf','streams','remove','?rand=','lowlight','detector\x20result','tid','drawImage','srcDim','Error:','toosmall','onInit','draw','close','finishWaitTime','scan-worker','#FFFFFF','manycards','commandText','getSize','toRealCoordX','play','tID','observers','getImageData','getFace','height','calculate','getImageFromURL','look\x20down','fit2Size','globalAlpha','POST','application/json','notify','14px\x20Arial','docType','outofbounds','onWorkerMessage','playsinline','display','facingMode','end','area','changeStep','onFrameUpdated','onFaceResult','face','font','initContainer','setFace','onCardDetected','PASSPORT','save','drawCard','bind','callDetectedEvent','SMILE','tinyFaceDetected','width','Card\x20model\x20loaded','ACTIONS','getCard','results','622141RyiDiH','name','recognizeLocal','curFrame','imageDataToCanvas','interval','left','faceDetected','currentPosition','yaw','step','fill','SHOW','loadedTID','card','loading','onCommand','scanned','createElement','toFixed','FORWARD','snapshotlist','startTime','count','success','highlight','gray','showDetectors','sessionTime','blur','fillText','fillRect','checkSize','LEFT','onDetect','ID_FRONT','Valid','host','result','none','srcObject','video-layer','Your\x20browser\x20doesn\x27t\x20support\x20web\x20workers.','muted','style','Initializing','Success:','data\x20processing,\x20please\x20wait...','Worker','delete','verify','getLandmark','setup','resWidth','canvas','strokeStyle','drawPath','rect','scanWebWorker','block','path','onScanLoaded','sessionTimeCount','currentActionList','assign','createDeepScan','currentAction','server','createDeepFace','2jjDxfC','showTextArea','getUserMedia','lastResult','card/ready','webWorker','dom','show','lastDetectedTime','start','defineProcess','lastScannedTime','image/png','showCollection','onStep','net','drawArea','Card\x20is\x20too\x20small','onCameraStart','reject','manyfaces','__canvas_original','recognizeGlobal','drawMask','FINISH','onCameraStop','analizer','onLoaded','ellipse','open','toVerify','hide','rgb(66,109,139)','ctx','fillOnMobile','msg'];const _0x1fff=function(_0x5765f1,_0x321a55){_0x5765f1=_0x5765f1-0xa6;let _0x1a17c6=_0x1a17[_0x5765f1];return _0x1a17c6;};const _0x3f2bf6=_0x1fff;(function(_0x2facd3,_0x447a5e){const _0xa3b5ea=_0x1fff;while(!![]){try{const _0x48fe41=-parseInt(_0xa3b5ea(0x10f))*parseInt(_0xa3b5ea(0x1fa))+parseInt(_0xa3b5ea(0xd0))+parseInt(_0xa3b5ea(0x16d))+-parseInt(_0xa3b5ea(0x280))*-parseInt(_0xa3b5ea(0xd3))+-parseInt(_0xa3b5ea(0x213))*-parseInt(_0xa3b5ea(0x1b2))+-parseInt(_0xa3b5ea(0x28b))+-parseInt(_0xa3b5ea(0xee))*-parseInt(_0xa3b5ea(0x212));if(_0x48fe41===_0x447a5e)break;else _0x2facd3['push'](_0x2facd3['shift']());}catch(_0x25b983){_0x2facd3['push'](_0x2facd3['shift']());}}}(_0x1a17,0xdd12e));const deepMerge=(_0x2b9ab5,_0x4c4173)=>{const _0x429749=_0x1fff;for(let _0x511c95 of Object[_0x429749(0x23f)](_0x4c4173)){_0x4c4173[_0x511c95]instanceof Object&&Object[_0x429749(0x1ad)](_0x4c4173[_0x511c95],deepMerge(_0x2b9ab5[_0x511c95]||{},_0x4c4173[_0x511c95]));}return Object['assign'](_0x2b9ab5||{},_0x4c4173),_0x2b9ab5;},canvasRoundRect=(_0x375af2,_0xbfbceb,_0x432dce,_0x523dc6,_0x5b9ce4,_0x4dae3d,_0x1357eb,_0x5d51b5)=>{const _0xe4f7b5=_0x1fff;typeof _0x5d51b5===_0xe4f7b5(0x224)&&(_0x5d51b5=!![]);typeof _0x4dae3d===_0xe4f7b5(0x224)&&(_0x4dae3d=0x5);if(typeof _0x4dae3d===_0xe4f7b5(0x23a))_0x4dae3d={'tl':_0x4dae3d,'tr':_0x4dae3d,'br':_0x4dae3d,'bl':_0x4dae3d};else{var _0xdd1f3={'tl':0x0,'tr':0x0,'br':0x0,'bl':0x0};for(var _0x5cfead in _0xdd1f3){_0x4dae3d[_0x5cfead]=_0x4dae3d[_0x5cfead]||_0xdd1f3[_0x5cfead];}}_0x375af2['beginPath'](),_0x375af2[_0xe4f7b5(0x254)](_0xbfbceb+_0x4dae3d['tl'],_0x432dce),_0x375af2[_0xe4f7b5(0x115)](_0xbfbceb+_0x523dc6-_0x4dae3d['tr'],_0x432dce),_0x375af2[_0xe4f7b5(0x1e8)](_0xbfbceb+_0x523dc6,_0x432dce,_0xbfbceb+_0x523dc6,_0x432dce+_0x4dae3d['tr']),_0x375af2['lineTo'](_0xbfbceb+_0x523dc6,_0x432dce+_0x5b9ce4-_0x4dae3d['br']),_0x375af2[_0xe4f7b5(0x1e8)](_0xbfbceb+_0x523dc6,_0x432dce+_0x5b9ce4,_0xbfbceb+_0x523dc6-_0x4dae3d['br'],_0x432dce+_0x5b9ce4),_0x375af2[_0xe4f7b5(0x115)](_0xbfbceb+_0x4dae3d['bl'],_0x432dce+_0x5b9ce4),_0x375af2[_0xe4f7b5(0x1e8)](_0xbfbceb,_0x432dce+_0x5b9ce4,_0xbfbceb,_0x432dce+_0x5b9ce4-_0x4dae3d['bl']),_0x375af2[_0xe4f7b5(0x115)](_0xbfbceb,_0x432dce+_0x4dae3d['tl']),_0x375af2['quadraticCurveTo'](_0xbfbceb,_0x432dce,_0xbfbceb+_0x4dae3d['tl'],_0x432dce),_0x375af2[_0xe4f7b5(0x28c)](),_0x1357eb&&_0x375af2[_0xe4f7b5(0x178)](),_0x5d51b5&&_0x375af2[_0xe4f7b5(0x26b)]();};class StringExtra{static['cutLastSlash'](_0x108d74){const _0x2c303b=_0x1fff;if(_0x108d74[_0x2c303b(0x252)](_0x108d74[_0x2c303b(0x216)]-0x1)==='/')return _0x108d74[_0x2c303b(0x1fd)](0x0,-0x1);return _0x108d74;}};class DataModel{constructor(_0x3ce70b='',_0x4a245e={}){const _0x439dd4=_0x1fff;this['url']=_0x3ce70b,this[_0x439dd4(0x104)]={'headers':{}},this[_0x439dd4(0x104)]=deepMerge(this[_0x439dd4(0x104)],_0x4a245e);}['toVerify'](_0xc29d7,_0x225b67){const _0x17be3a=_0x1fff;if(_0xc29d7==null)return;if(_0xc29d7[_0x17be3a(0xe1)]!=null&&_0xc29d7[_0x17be3a(0x15c)]==null){let _0x42c426={'docType':_0xc29d7[_0x17be3a(0xe1)][_0x17be3a(0x151)]||null,'scans':[],'tid':_0xc29d7[_0x17be3a(0xe1)][_0x17be3a(0x143)]};for(let _0x2477e5 in _0xc29d7['scanner'][_0x17be3a(0x119)]){_0x42c426[_0x17be3a(0x119)][_0x17be3a(0x10a)]({'docFace':_0xc29d7[_0x17be3a(0xe1)][_0x17be3a(0x119)][_0x2477e5][_0x17be3a(0x1f8)]||null,'image':_0xc29d7[_0x17be3a(0xe1)][_0x17be3a(0x119)][_0x2477e5]['image']});}let _0x3df2c3=deepMerge({'Content-Type':_0x17be3a(0x14e)},this[_0x17be3a(0x104)][_0x17be3a(0xfd)]||{});fetch(StringExtra[_0x17be3a(0x1eb)](this['url'])+_0x17be3a(0xf7),{'method':_0x17be3a(0x14d),'headers':_0x3df2c3,'body':JSON[_0x17be3a(0x284)](_0x42c426)})[_0x17be3a(0x293)](_0x3b9fb6=>_0x3b9fb6[_0x17be3a(0x260)]())[_0x17be3a(0x293)](_0x24191a=>{const _0x3584ee=_0x17be3a;if(typeof _0x225b67==='function'){let _0x358c9e={'success':_0x24191a[_0x3584ee(0x185)],'data':_0x24191a['data']||null,'msg':_0x24191a[_0x3584ee(0x1d5)]||null};_0x225b67(_0x358c9e);}})[_0x17be3a(0x231)](_0x7f7664=>{console['error']('Error:',_0x7f7664),typeof _0x225b67==='function'&&_0x225b67({'success':![],'error':_0x7f7664});});}}};class CameraVisualLayer{constructor(_0x2c6dc6){this['canvas']=_0x2c6dc6;}['collect'](){}[_0x3f2bf6(0x1bf)](){}[_0x3f2bf6(0xe5)](){}[_0x3f2bf6(0x270)](){}};class OSPlus{static[_0x3f2bf6(0x238)](){const _0x22a452=[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i];return _0x22a452['some'](_0x30dd17=>{const _0x40bc76=_0x1fff;return navigator[_0x40bc76(0x296)][_0x40bc76(0xab)](_0x30dd17);});}static[_0x3f2bf6(0xe6)](){const _0x424f84=_0x3f2bf6;try{let _0x1b79f1=document[_0x424f84(0x17f)](_0x424f84(0x1a3));_0x1b79f1[_0x424f84(0xb0)]('webgl');}catch(_0x5a74cc){return![];}return!![];}static[_0x3f2bf6(0xd8)](){return typeof OffscreenCanvas==='function';}static[_0x3f2bf6(0x10d)](){const _0x32273d=_0x3f2bf6;let _0x5c4548=navigator[_0x32273d(0x296)][_0x32273d(0x227)]();return _0x5c4548[_0x32273d(0x27b)](_0x32273d(0xf3))!==-0x1&&_0x5c4548['indexOf']('chrome')===-0x1;}};let instance=null;class Logger{constructor(_0x4b10b4={}){if(!instance)instance=this;else return instance;this['options']={'debug':![]},this['setOptions'](_0x4b10b4);}static[_0x3f2bf6(0x28e)](_0xc2a2d8=null){const _0x40a6d9=_0x3f2bf6;if(!instance)instance=new Logger(_0xc2a2d8||{});else{if(_0xc2a2d8!=null)instance[_0x40a6d9(0xde)](_0xc2a2d8);return instance;}}[_0x3f2bf6(0xde)](_0x53e70f={}){const _0x165efa=_0x3f2bf6;this[_0x165efa(0x104)]=deepMerge(this[_0x165efa(0x104)],_0x53e70f);}[_0x3f2bf6(0x114)](){const _0x12332c=_0x3f2bf6;this['options'][_0x12332c(0x22c)]&&console[_0x12332c(0x114)][_0x12332c(0x22f)](null,arguments);}}const helper_logger=Logger;;class DCCamera{constructor(_0x247254,_0x4bb228={}){const _0x4c74ff=_0x3f2bf6;this[_0x4c74ff(0x1b8)]=null,this[_0x4c74ff(0x1a3)]=null,this[_0x4c74ff(0x243)]=null,this['__canvas_original']=null,this[_0x4c74ff(0xe4)]=null,this[_0x4c74ff(0xaa)]=null,this['visual']=null,this['raf']=null,this[_0x4c74ff(0xc8)]={'width':0x0,'height':0x0},this[_0x4c74ff(0x1fe)]={'k':0x1,'dx':0x0,'dy':0x0,'dw':0x0,'dh':0x0},this[_0x4c74ff(0x182)]=[],this[_0x4c74ff(0x265)]=[],this[_0x4c74ff(0x21c)]=!![],this[_0x4c74ff(0xc5)]=0x1,this[_0x4c74ff(0x104)]={'src':null,'sourceType':null,'width':0x280,'height':0x1e0,'resWidth':0x500,'resHeight':0x2d0,'fill':![],'fillOnMobile':!![],'cutEdge':![],'onLoaded':null,'onError':null,'onStop':null,'onStart':null,'onFrameUpdated':null},this[_0x4c74ff(0x104)]=deepMerge(this[_0x4c74ff(0x104)],_0x4bb228),this[_0x4c74ff(0xca)](_0x247254),this[_0x4c74ff(0x1a1)]();}['defineContainer'](_0x355d7b){const _0x4e4272=_0x3f2bf6;this['dpr']=window[_0x4e4272(0x250)]||0x1;if(typeof _0x355d7b=='string'){let _0x229104=document[_0x4e4272(0xb8)](_0x355d7b);if(_0x229104&&_0x229104[_0x4e4272(0x240)]){if(_0x229104[_0x4e4272(0x240)]==='DIV')this['dom']=_0x229104,this['dom'][_0x4e4272(0x1ff)]='',this[_0x4e4272(0x1a3)]=document[_0x4e4272(0x17f)](_0x4e4272(0xbf)),this[_0x4e4272(0x1a3)][_0x4e4272(0x168)]=this[_0x4e4272(0x104)]['width'],this[_0x4e4272(0x1a3)][_0x4e4272(0x147)]=this[_0x4e4272(0x104)][_0x4e4272(0x147)],this[_0x4e4272(0x1b8)]['appendChild'](this[_0x4e4272(0x1a3)]);else _0x229104['tagName']==='CANVAS'&&(this[_0x4e4272(0x1a3)]=_0x229104,this[_0x4e4272(0x1b8)]=document[_0x4e4272(0x17f)](_0x4e4272(0xb1)),this[_0x4e4272(0x1a3)][_0x4e4272(0xb6)][_0x4e4272(0xdc)](this[_0x4e4272(0x1b8)],this[_0x4e4272(0x1a3)]),this['dom'][_0x4e4272(0x253)](this[_0x4e4272(0x1a3)]));this[_0x4e4272(0x1b8)]&&(this[_0x4e4272(0x1b8)][_0x4e4272(0x229)][_0x4e4272(0x204)]('df-container'),this[_0x4e4272(0x1b8)][_0x4e4272(0x199)][_0x4e4272(0x168)]=this['options']['width']+'px',this[_0x4e4272(0x1b8)][_0x4e4272(0x199)][_0x4e4272(0x147)]=this['options']['height']+'px');}this[_0x4e4272(0x1a3)]&&(this[_0x4e4272(0x1a3)][_0x4e4272(0x229)]['add'](_0x4e4272(0x196)),this[_0x4e4272(0x1a3)]['style'][_0x4e4272(0x282)]=_0x4e4272(0x187));}this[_0x4e4272(0x243)]=document[_0x4e4272(0x17f)](_0x4e4272(0xbf)),this['__canvas'][_0x4e4272(0x168)]=this[_0x4e4272(0x104)][_0x4e4272(0x168)],this[_0x4e4272(0x243)][_0x4e4272(0x147)]=this[_0x4e4272(0x104)][_0x4e4272(0x147)],this['__canvas_original']=document[_0x4e4272(0x17f)](_0x4e4272(0xbf)),this[_0x4e4272(0x1c7)][_0x4e4272(0x168)]=this[_0x4e4272(0x104)][_0x4e4272(0x168)],this[_0x4e4272(0x1c7)][_0x4e4272(0x147)]=this['options'][_0x4e4272(0x147)];}[_0x3f2bf6(0x1a1)](){const _0x6a54fb=_0x3f2bf6;this[_0x6a54fb(0x1f4)]=new CameraVisualLayer(this[_0x6a54fb(0x1a3)]);}[_0x3f2bf6(0x1bb)](){const _0x7f15ec=_0x3f2bf6;(this['video']==null||!this['isPlaying']())&&this[_0x7f15ec(0x123)]();}[_0x3f2bf6(0x203)](){const _0x2edc10=_0x3f2bf6;this[_0x2edc10(0xaa)]&&this[_0x2edc10(0xaa)][_0x2edc10(0xed)]()[_0x2edc10(0x216)]>0x0&&(this['stream'][_0x2edc10(0xed)]()[0x0][_0x2edc10(0x203)](),this[_0x2edc10(0xaa)]=null);}[_0x3f2bf6(0x123)](){const _0x1a7db5=_0x3f2bf6;OSPlus[_0x1a7db5(0x238)]()&&this[_0x1a7db5(0x104)][_0x1a7db5(0x1d4)]===!![]&&(this['options'][_0x1a7db5(0x178)]=!![]);this[_0x1a7db5(0x104)][_0x1a7db5(0x21d)]==null?this[_0x1a7db5(0xaa)]==null?navigator[_0x1a7db5(0x25d)]&&navigator['mediaDevices'][_0x1a7db5(0x1b4)]&&(this[_0x1a7db5(0xe4)]===null&&(this[_0x1a7db5(0xe4)]=document[_0x1a7db5(0x17f)]('video'),this[_0x1a7db5(0xe4)][_0x1a7db5(0xa8)](_0x1a7db5(0x283),''),this['video'][_0x1a7db5(0xa8)](_0x1a7db5(0x198),''),this[_0x1a7db5(0xe4)]['setAttribute'](_0x1a7db5(0x154),''),this['video'][_0x1a7db5(0x199)][_0x1a7db5(0x168)]=_0x1a7db5(0x210),this['video'][_0x1a7db5(0x199)]['height']=_0x1a7db5(0x210),this['video']['style'][_0x1a7db5(0xad)]=_0x1a7db5(0x289),this[_0x1a7db5(0x1b8)][_0x1a7db5(0x253)](this['video']),this[_0x1a7db5(0xe4)][_0x1a7db5(0x199)][_0x1a7db5(0x207)]='0.5'),this[_0x1a7db5(0x12d)]=null,navigator['mediaDevices']['enumerateDevices']()[_0x1a7db5(0x293)](_0x380214=>{const _0x3ebaf7=_0x1a7db5;helper_logger['getInstance']()['log'](_0x3ebaf7(0x278),_0x380214),this['devices']=_0x380214;}),navigator['mediaDevices']['getUserMedia']({'audio':![],'video':{'facingMode':'environment','width':{'ideal':this['options'][_0x1a7db5(0x1a2)]},'height':{'ideal':this[_0x1a7db5(0x104)][_0x1a7db5(0xea)]}}})[_0x1a7db5(0x293)](_0x4807ae=>{const _0x3e7ef5=_0x1a7db5;this[_0x3e7ef5(0xaa)]=_0x4807ae,this[_0x3e7ef5(0xe4)][_0x3e7ef5(0x195)]=_0x4807ae;let _0x54f4ce=_0x4807ae[_0x3e7ef5(0x127)]()[0x0];_0x54f4ce[_0x3e7ef5(0x266)]({'focusMode':'auto','focusDistance':0.33}),this[_0x3e7ef5(0x26c)]()&&(helper_logger[_0x3e7ef5(0x28e)]()['log'](_0x3e7ef5(0x1e7)),this[_0x3e7ef5(0x21c)]=![]),_0x1fc2a8(),this['video'][_0x3e7ef5(0x142)]();})[_0x1a7db5(0x231)](_0x21e263=>{const _0x1c443e=_0x1a7db5;helper_logger['getInstance']()[_0x1c443e(0x114)](_0x1c443e(0x244),_0x21e263),this[_0x1c443e(0x1e4)](_0x21e263);})):this[_0x1a7db5(0xe4)][_0x1a7db5(0x142)]():(this['video']['src']=this['options'][_0x1a7db5(0x21d)],this[_0x1a7db5(0xe4)][_0x1a7db5(0x142)]());let _0x1fc2a8=()=>{const _0x10fb1f=_0x1a7db5;this[_0x10fb1f(0xe4)][_0x10fb1f(0x11f)]=()=>{const _0x107e23=_0x10fb1f;this[_0x107e23(0x11e)]();},this[_0x10fb1f(0xe4)]['onplaying']=()=>{const _0x3f1e48=_0x10fb1f;this[_0x3f1e48(0x243)][_0x3f1e48(0x168)]=this[_0x3f1e48(0xe4)][_0x3f1e48(0x259)],this[_0x3f1e48(0x243)][_0x3f1e48(0x147)]=this[_0x3f1e48(0xe4)]['videoHeight'],this['__canvas_original']['width']=this['video'][_0x3f1e48(0x259)],this['__canvas_original']['height']=this[_0x3f1e48(0xe4)][_0x3f1e48(0xf0)];let _0x3069b7=this[_0x3f1e48(0xe4)][_0x3f1e48(0x259)],_0x780401=this['video'][_0x3f1e48(0xf0)],_0x49fbc7=0x1;this[_0x3f1e48(0x1fe)]['dw']=this['canvas']['width'],this[_0x3f1e48(0x1fe)]['dh']=this['canvas'][_0x3f1e48(0x147)];this[_0x3f1e48(0x104)][_0x3f1e48(0x178)]?this['canvas'][_0x3f1e48(0x147)]/_0x780401<this[_0x3f1e48(0x1a3)][_0x3f1e48(0x168)]/_0x3069b7?(_0x49fbc7=this['canvas'][_0x3f1e48(0x168)]/_0x3069b7,this[_0x3f1e48(0x1fe)]['dh']=Math[_0x3f1e48(0xe7)](_0x49fbc7*_0x780401),this['sourceDim']['dy']=0x0,this[_0x3f1e48(0x104)]['cutEdge']&&(this['__canvas_original'][_0x3f1e48(0x147)]=this[_0x3f1e48(0x1a3)]['height']/_0x49fbc7,this[_0x3f1e48(0x243)][_0x3f1e48(0x147)]=this[_0x3f1e48(0x1a3)][_0x3f1e48(0x147)]/_0x49fbc7)):(_0x49fbc7=this[_0x3f1e48(0x1a3)][_0x3f1e48(0x147)]/_0x780401,this[_0x3f1e48(0x1fe)]['dw']=Math['round'](_0x49fbc7*_0x3069b7),this[_0x3f1e48(0x1fe)]['dx']=0x0,this[_0x3f1e48(0x104)][_0x3f1e48(0x24f)]&&(this[_0x3f1e48(0x1c7)]['width']=this[_0x3f1e48(0x1a3)][_0x3f1e48(0x168)]/_0x49fbc7,this[_0x3f1e48(0x243)]['width']=this[_0x3f1e48(0x1a3)]['width']/_0x49fbc7)):this[_0x3f1e48(0x1a3)]['height']/_0x780401<this['canvas'][_0x3f1e48(0x168)]/_0x3069b7?(_0x49fbc7=this[_0x3f1e48(0x1a3)][_0x3f1e48(0x147)]/_0x780401,this[_0x3f1e48(0x1fe)]['dw']=Math[_0x3f1e48(0xe7)](_0x49fbc7*_0x3069b7),this[_0x3f1e48(0x1fe)]['dx']=(this[_0x3f1e48(0x1a3)][_0x3f1e48(0x168)]-this[_0x3f1e48(0x1fe)]['dw'])/0x2):(_0x49fbc7=this[_0x3f1e48(0x1a3)][_0x3f1e48(0x168)]/_0x3069b7,this['sourceDim']['dh']=Math[_0x3f1e48(0xe7)](_0x49fbc7*_0x780401),this[_0x3f1e48(0x1fe)]['dy']=(this[_0x3f1e48(0x1a3)]['height']-this[_0x3f1e48(0x1fe)]['dh'])/0x2);this['sourceDim']['k']=_0x49fbc7;if(this[_0x3f1e48(0x12d)]!=null)cancelAnimationFrame(this['raf']);this[_0x3f1e48(0x12d)]=requestAnimationFrame(this['drawStreamToCanvas'][_0x3f1e48(0x164)](this)),this[_0x3f1e48(0xc8)]={'width':this[_0x3f1e48(0xe4)][_0x3f1e48(0x259)],'height':this['video'][_0x3f1e48(0xf0)]},this[_0x3f1e48(0xc4)]();},this[_0x10fb1f(0xe4)][_0x10fb1f(0xb7)]=()=>{const _0x350245=_0x10fb1f;cancelAnimationFrame(this[_0x350245(0x12d)]),this['onStop']();};};}async['drawStreamToCanvas'](){const _0x36e9fc=_0x3f2bf6;let _0xb96ccf=this[_0x36e9fc(0x21c)]?-0x1:0x1,_0x316664=this['sourceDim'],_0x12e163=this[_0x36e9fc(0xe4)][_0x36e9fc(0x259)],_0x291083=this[_0x36e9fc(0xe4)][_0x36e9fc(0xf0)],_0x7aac8e=this[_0x36e9fc(0x1c7)][_0x36e9fc(0xb0)]('2d');_0x7aac8e[_0x36e9fc(0x162)](),_0x7aac8e[_0x36e9fc(0x23c)](0x1,0x1);this['options'][_0x36e9fc(0x178)]&&this[_0x36e9fc(0x104)]['cutEdge']?_0x7aac8e[_0x36e9fc(0x134)](this[_0x36e9fc(0xe4)],(this[_0x36e9fc(0x1c7)]['width']-_0x12e163)/0x2,(this[_0x36e9fc(0x1c7)][_0x36e9fc(0x147)]-_0x291083)/0x2,_0x12e163,_0x291083):_0x7aac8e[_0x36e9fc(0x134)](this['video'],0x0,0x0,this[_0x36e9fc(0x1c7)][_0x36e9fc(0x168)],this[_0x36e9fc(0x1c7)][_0x36e9fc(0x147)]);_0x7aac8e[_0x36e9fc(0x11c)]();let _0x55274f=this[_0x36e9fc(0x243)][_0x36e9fc(0xb0)]('2d');_0x55274f['save'](),_0x55274f['scale'](_0xb96ccf,0x1);this[_0x36e9fc(0x104)][_0x36e9fc(0x178)]&&this[_0x36e9fc(0x104)][_0x36e9fc(0x24f)]?_0x55274f['drawImage'](this[_0x36e9fc(0xe4)],_0xb96ccf*(this[_0x36e9fc(0x243)]['width']-_0x12e163)/0x2+(_0xb96ccf===-0x1?_0xb96ccf*_0x12e163:0x0),(this[_0x36e9fc(0x243)]['height']-_0x291083)/0x2,_0x12e163,_0x291083):_0x55274f['drawImage'](this[_0x36e9fc(0xe4)],_0xb96ccf===-0x1?_0xb96ccf*_0x12e163:0x0,0x0,this[_0x36e9fc(0x243)][_0x36e9fc(0x168)],this[_0x36e9fc(0x243)][_0x36e9fc(0x147)]);_0x55274f['restore']();let _0x28a82d=this['canvas'][_0x36e9fc(0xb0)]('2d'),_0x45e1a7=(this[_0x36e9fc(0x1a3)][_0x36e9fc(0x168)]-this[_0x36e9fc(0x1fe)]['dw'])/0x2,_0x142e53=(this['canvas']['height']-this[_0x36e9fc(0x1fe)]['dh'])/0x2;_0x28a82d['clearRect'](0x0,0x0,this['canvas'][_0x36e9fc(0x168)],this[_0x36e9fc(0x1a3)][_0x36e9fc(0x147)]),_0x28a82d[_0x36e9fc(0x162)](),_0x28a82d['scale'](_0xb96ccf*0x1,0x1),_0x28a82d[_0x36e9fc(0x134)](this['video'],_0xb96ccf*_0x45e1a7+(_0xb96ccf===-0x1?_0xb96ccf*_0x316664['dw']:0x0),_0x142e53,_0x316664['dw'],_0x316664['dh']),_0x28a82d[_0x36e9fc(0x11c)]();if(this['stream']==null)return;this[_0x36e9fc(0x15a)](),this[_0x36e9fc(0x12d)]=requestAnimationFrame(this[_0x36e9fc(0x25e)][_0x36e9fc(0x164)](this));}[_0x3f2bf6(0x26c)](){const _0x6aed13=_0x3f2bf6;let _0x56ffec=[];for(let _0x3f75c8 in this[_0x6aed13(0x265)]){this[_0x6aed13(0x265)][_0x3f75c8][_0x6aed13(0x20f)]===_0x6aed13(0x1d8)&&_0x56ffec['push'](this[_0x6aed13(0x265)][_0x3f75c8]);}let _0x4988d4=this['stream']?this[_0x6aed13(0xaa)][_0x6aed13(0x127)]()[0x0]['getSettings']()[_0x6aed13(0x156)]||null:null;helper_logger[_0x6aed13(0x28e)]()[_0x6aed13(0x114)](_0x6aed13(0x265),this['devices']),helper_logger[_0x6aed13(0x28e)]()[_0x6aed13(0x114)](_0x6aed13(0x156),_0x4988d4);if(_0x4988d4===_0x6aed13(0xc9))return!![];return![];}[_0x3f2bf6(0xe2)](){const _0x5408c7=_0x3f2bf6;return this[_0x5408c7(0xaa)]&&this[_0x5408c7(0xe4)]&&!this['video'][_0x5408c7(0xdb)];}[_0x3f2bf6(0x145)](){const _0x2b07cc=_0x3f2bf6;let _0x22c15e=this[_0x2b07cc(0x243)][_0x2b07cc(0xb0)]('2d');return _0x22c15e[_0x2b07cc(0x145)](0x0,0x0,this[_0x2b07cc(0x243)][_0x2b07cc(0x168)],this[_0x2b07cc(0x243)][_0x2b07cc(0x147)]);}[_0x3f2bf6(0x1f9)](){const _0x380453=_0x3f2bf6;return this[_0x380453(0x243)][_0x380453(0x118)]();}[_0x3f2bf6(0x221)](){const _0x1ad9a6=_0x3f2bf6;return this[_0x1ad9a6(0x182)];}['snapshot'](){const _0x4140ec=_0x3f2bf6;this[_0x4140ec(0x182)][_0x4140ec(0x10a)](this[_0x4140ec(0x1f9)]());}[_0x3f2bf6(0x1ef)](){const _0x22f070=_0x3f2bf6;this[_0x22f070(0x182)]=[];}['onError'](_0x1c5294){const _0x508cb6=_0x3f2bf6;typeof this[_0x508cb6(0x104)][_0x508cb6(0x1e4)]==='function'&&this[_0x508cb6(0x104)][_0x508cb6(0x1e4)](_0x1c5294);}[_0x3f2bf6(0x11e)](){const _0x291a78=_0x3f2bf6;typeof this[_0x291a78(0x104)][_0x291a78(0x1cd)]==='function'&&this[_0x291a78(0x104)][_0x291a78(0x1cd)](this[_0x291a78(0xe4)],this['sourceDim']);}['onStop'](){const _0x1c16a1=_0x3f2bf6;typeof this[_0x1c16a1(0x104)][_0x1c16a1(0x246)]===_0x1c16a1(0xd5)&&this[_0x1c16a1(0x104)][_0x1c16a1(0x246)]();}[_0x3f2bf6(0xc4)](){const _0x4ec9c8=_0x3f2bf6;typeof this[_0x4ec9c8(0x104)][_0x4ec9c8(0xc4)]==='function'&&this[_0x4ec9c8(0x104)][_0x4ec9c8(0xc4)]();}['onFrameUpdated'](){const _0x1b27df=_0x3f2bf6;typeof this[_0x1b27df(0x104)][_0x1b27df(0x15a)]==='function'&&this['options'][_0x1b27df(0x15a)]();}}const camera=DCCamera;;class CoordConverter{constructor(_0x4ad152={'k':0x1,'dx':0x0,'dy':0x0,'dw':0x0,'dh':0x0}){const _0x4c937b=_0x3f2bf6;this[_0x4c937b(0x20d)]=_0x4ad152;}[_0x3f2bf6(0xd1)](_0x273f7e){const _0x256787=_0x3f2bf6;this[_0x256787(0x20d)]=_0x273f7e;}['getCoord'](_0x102460,_0x1bb441){const _0x1cdc7a=_0x3f2bf6;return{'x':_0x102460*this[_0x1cdc7a(0x20d)]['k']+this[_0x1cdc7a(0x20d)]['dx'],'y':_0x1bb441*this['dim']['k']+this[_0x1cdc7a(0x20d)]['dy']};}[_0x3f2bf6(0xc3)](_0x3843e4){const _0x8d7262=_0x3f2bf6;return _0x3843e4*this['dim']['k']+this[_0x8d7262(0x20d)]['dx'];}[_0x3f2bf6(0xf2)](_0xa2f5df){const _0x316619=_0x3f2bf6;return _0xa2f5df*this[_0x316619(0x20d)]['k']+this[_0x316619(0x20d)]['dy'];}[_0x3f2bf6(0x140)](_0xbc50d5){const _0x156518=_0x3f2bf6;return _0xbc50d5*this[_0x156518(0x20d)]['k'];}[_0x3f2bf6(0x141)](_0x175c1c){const _0x19d628=_0x3f2bf6;return _0x175c1c/this[_0x19d628(0x20d)]['k']-this['dim']['dx'];}['toRealCoordY'](_0x54b1cc){const _0x5965a7=_0x3f2bf6;return _0x54b1cc/this[_0x5965a7(0x20d)]['k']-this['dim']['dy'];}};class MaskLayer{constructor(_0x10487e,_0x40d94e={'width':0x0,'height':0x0},_0x26334f={'width':0x0,'height':0x0}){const _0x2745a0=_0x3f2bf6;this[_0x2745a0(0x1b8)]=_0x10487e,this[_0x2745a0(0x1a3)]=null,this[_0x2745a0(0x1d3)]=null,this[_0x2745a0(0x13f)]=null,this['actionText']=null,this[_0x2745a0(0x263)]=_0x40d94e,this[_0x2745a0(0x275)]=_0x26334f,this['maskInited']=![],this[_0x2745a0(0x21f)]={'h':0.4,'v':0.6},(this[_0x2745a0(0x275)][_0x2745a0(0x168)]===0x0||this[_0x2745a0(0x275)][_0x2745a0(0x147)]===0x0)&&(this[_0x2745a0(0x275)]={'width':this[_0x2745a0(0x263)]['width']*this[_0x2745a0(0x21f)]['h'],'height':this[_0x2745a0(0x263)][_0x2745a0(0x168)]*this[_0x2745a0(0x21f)]['v']}),this[_0x2745a0(0x1a1)]();}[_0x3f2bf6(0x1a1)](){const _0x10ecb4=_0x3f2bf6;this[_0x10ecb4(0x1b8)]!=null&&(this['canvas']=document[_0x10ecb4(0x17f)](_0x10ecb4(0xbf)),this['canvas']['id']='maskLayer',this['canvas'][_0x10ecb4(0x168)]=this[_0x10ecb4(0x263)][_0x10ecb4(0x168)],this[_0x10ecb4(0x1a3)]['height']=this[_0x10ecb4(0x263)][_0x10ecb4(0x147)],this[_0x10ecb4(0x1b8)][_0x10ecb4(0x253)](this[_0x10ecb4(0x1a3)]),this[_0x10ecb4(0x1d3)]=this[_0x10ecb4(0x1a3)]['getContext']('2d'));}['createTextArea'](){const _0x15360e=_0x3f2bf6;if(!this['commandText']){this[_0x15360e(0x13f)]=document[_0x15360e(0x17f)]('div'),this[_0x15360e(0x13f)]['id']='commandArea';let _0x1db516=document[_0x15360e(0x17f)]('P');_0x1db516['textContent']='',this[_0x15360e(0x13f)][_0x15360e(0x253)](_0x1db516),this[_0x15360e(0x1b8)][_0x15360e(0x253)](this[_0x15360e(0x13f)]);let _0x557727=((this['canvas'][_0x15360e(0x147)]-this[_0x15360e(0x275)]['height'])/0x2-this[_0x15360e(0x13f)][_0x15360e(0x20c)])/0x2;this[_0x15360e(0x13f)][_0x15360e(0x199)][_0x15360e(0x268)]=_0x557727+'px';}else this[_0x15360e(0x13f)][_0x15360e(0x199)][_0x15360e(0x155)]='block';if(!this[_0x15360e(0x27c)]){this['actionText']=document[_0x15360e(0x17f)]('div'),this[_0x15360e(0x27c)]['id']=_0x15360e(0x267);let _0x534ab9=document[_0x15360e(0x17f)]('P');_0x534ab9[_0x15360e(0x103)]='',this[_0x15360e(0x27c)][_0x15360e(0x253)](_0x534ab9),this[_0x15360e(0x1b8)][_0x15360e(0x253)](this[_0x15360e(0x27c)]);let _0x45fb73=((this['canvas'][_0x15360e(0x147)]-this[_0x15360e(0x275)]['height'])/0x2-this[_0x15360e(0x13f)][_0x15360e(0x20c)])/0x2;this[_0x15360e(0x27c)][_0x15360e(0x199)][_0x15360e(0x1dc)]=_0x45fb73+'px';}else this['actionText'][_0x15360e(0x199)][_0x15360e(0x155)]=_0x15360e(0x1a8);}[_0x3f2bf6(0x1b3)](){const _0x5cea65=_0x3f2bf6;if(this[_0x5cea65(0x13f)])this[_0x5cea65(0x13f)][_0x5cea65(0x199)][_0x5cea65(0x155)]='';if(this[_0x5cea65(0x27c)])this[_0x5cea65(0x27c)][_0x5cea65(0x199)][_0x5cea65(0x155)]='';}['hideTextArea'](){const _0x204dc8=_0x3f2bf6;if(this[_0x204dc8(0x13f)])this[_0x204dc8(0x13f)]['style']['display']=_0x204dc8(0x194);if(this[_0x204dc8(0x27c)])this['actionText'][_0x204dc8(0x199)]['display']=_0x204dc8(0x194);}['setText'](_0x310344){const _0x25239d=_0x3f2bf6;if(this[_0x25239d(0x27c)])this[_0x25239d(0x27c)][_0x25239d(0x272)]=_0x310344;}[_0x3f2bf6(0x1e5)](_0x4a1e8c){const _0x2fea65=_0x3f2bf6;if(this[_0x2fea65(0x13f)])this['commandText'][_0x2fea65(0x272)]=_0x4a1e8c;}['getArea'](){const _0x44ef9b=_0x3f2bf6;return{'x':this[_0x44ef9b(0x1a3)][_0x44ef9b(0x168)]/0x2-this[_0x44ef9b(0x275)][_0x44ef9b(0x168)]/0x2-0x14,'y':this[_0x44ef9b(0x1a3)][_0x44ef9b(0x147)]/0x2-this[_0x44ef9b(0x275)][_0x44ef9b(0x168)]/0x2-0x14,'width':this[_0x44ef9b(0x275)][_0x44ef9b(0x168)],'height':this['maskSize'][_0x44ef9b(0x147)]};}['draw'](){const _0x365e84=_0x3f2bf6;if(!this[_0x365e84(0xe0)]){console[_0x365e84(0x114)]('draw\x20mask\x20layer'),this[_0x365e84(0x1d3)][_0x365e84(0x162)](),this[_0x365e84(0x1d3)]['beginPath'](),this['ctx'][_0x365e84(0x1ce)](this[_0x365e84(0x1a3)][_0x365e84(0x168)]/0x2,this[_0x365e84(0x1a3)][_0x365e84(0x147)]/0x2,this[_0x365e84(0x275)][_0x365e84(0x168)]/0x2,this[_0x365e84(0x275)][_0x365e84(0x147)]/0x2,Math['PI'],0x0,0x2*Math['PI']),this['ctx'][_0x365e84(0xf1)]=_0x365e84(0x1d2),this[_0x365e84(0x1d3)][_0x365e84(0x178)](),this[_0x365e84(0x1d3)][_0x365e84(0x107)]='xor',this[_0x365e84(0x1d3)]['beginPath'](),this[_0x365e84(0x1d3)]['rect'](0x0,0x0,this[_0x365e84(0x1a3)]['width'],this[_0x365e84(0x1a3)][_0x365e84(0x147)]),this[_0x365e84(0x1d3)][_0x365e84(0xf1)]=_0x365e84(0xe8),this[_0x365e84(0x1d3)][_0x365e84(0x28c)](),this[_0x365e84(0x1d3)][_0x365e84(0x178)](),this[_0x365e84(0x1d3)][_0x365e84(0x14c)]=0.5;let _0xd3ae17=this[_0x365e84(0x1a3)][_0x365e84(0x118)]();this[_0x365e84(0x1d3)][_0x365e84(0x107)]='source-over';let _0x375778=new Image();_0x375778[_0x365e84(0x277)]=()=>{const _0x453636=_0x365e84;this['ctx']['clearRect'](0x0,0x0,this[_0x453636(0x1a3)][_0x453636(0x168)],this[_0x453636(0x1a3)]['height']),this[_0x453636(0x1d3)]['drawImage'](_0x375778,0x0,0x0);},_0x375778[_0x365e84(0x21d)]=_0xd3ae17,this[_0x365e84(0xe0)]=!![],this['createTextArea']();}}[_0x3f2bf6(0x1b9)](){const _0x2331ce=_0x3f2bf6;!this['maskInited']?(this[_0x2331ce(0x139)](),this[_0x2331ce(0x1a3)][_0x2331ce(0x199)]['display']=_0x2331ce(0x1a8)):(this[_0x2331ce(0x1b3)](),this['canvas'][_0x2331ce(0x199)][_0x2331ce(0x155)]=_0x2331ce(0x1a8));}['hide'](){const _0x1ec107=_0x3f2bf6;this[_0x1ec107(0x1f3)](),this[_0x1ec107(0x1a3)][_0x1ec107(0x199)][_0x1ec107(0x155)]=_0x1ec107(0x194);}[_0x3f2bf6(0x19e)](){const _0x42863f=_0x3f2bf6;this['ctx'][_0x42863f(0x27f)](0x0,0x0,this['canvas'][_0x42863f(0x168)],this[_0x42863f(0x1a3)][_0x42863f(0x147)]),this[_0x42863f(0x1d3)][_0x42863f(0x11c)]();}};class VisualLayer{constructor(_0x5f79e2,_0x33321f={}){const _0x581f1d=_0x3f2bf6;this[_0x581f1d(0x1a3)]=_0x5f79e2,this[_0x581f1d(0x104)]={'srcDim':{'k':0x1,'dx':0x0,'dy':0x0,'dw':0x0,'dh':0x0}},this[_0x581f1d(0x104)]=deepMerge(this[_0x581f1d(0x104)],_0x33321f),this['cc']=new CoordConverter(this[_0x581f1d(0x104)][_0x581f1d(0x135)]);}[_0x3f2bf6(0x1a5)](_0x19a516,_0x12bf5d,_0x4599f3){const _0x3480a7=_0x3f2bf6,_0x98dd90=new Path2D();_0x98dd90[_0x3480a7(0x254)](_0x12bf5d[0x0][0x0],_0x12bf5d[0x0][0x1]);for(let _0x124a31=0x1;_0x124a31<_0x12bf5d[_0x3480a7(0x216)];_0x124a31++){const _0x55c880=_0x12bf5d[_0x124a31];_0x98dd90['lineTo'](_0x55c880[0x0],_0x55c880[0x1]);}_0x4599f3&&_0x98dd90[_0x3480a7(0x28c)](),_0x19a516['stroke'](_0x98dd90);}[_0x3f2bf6(0xb2)](_0x1ac138){const _0xabad10=_0x3f2bf6;let _0x5eefe2=this[_0xabad10(0x104)]['srcDim']['k'],_0x12de62=null,_0x20be98=null,_0x52db13={'x':0x0,'y':0x0,'w':0x0,'h':0x0},_0x458e8c=this[_0xabad10(0x1a3)][_0xabad10(0xb0)]('2d');_0x458e8c[_0xabad10(0x162)]();for(let _0x54079e=0x0;_0x54079e<_0x1ac138[_0xabad10(0x216)];_0x54079e++){_0x20be98=_0x1ac138[_0x54079e][_0xabad10(0x117)];for(let _0x1ea5d2=0x0;_0x1ea5d2<_0x20be98[_0xabad10(0x216)];_0x1ea5d2++){const _0x40769b=_0x20be98[_0x1ea5d2][0x0],_0x52b1fe=_0x20be98[_0x1ea5d2][0x1];_0x458e8c['beginPath'](),_0x458e8c['arc'](this['cc'][_0xabad10(0xc3)](_0x40769b),this['cc']['getCoordY'](_0x52b1fe),0x1,0x0,0x2*Math['PI']),_0x458e8c[_0xabad10(0x178)](),_0x458e8c[_0xabad10(0x28c)]();}}_0x458e8c[_0xabad10(0x11c)]();}};class PipeStream{constructor(_0x216dbe){const _0x540f33=_0x3f2bf6;this[_0x540f33(0x16e)]=_0x216dbe,this[_0x540f33(0x144)]={};}['on'](_0x48a1a4,_0x25de04){const _0x5bb76f=_0x3f2bf6;if(this[_0x5bb76f(0x144)][_0x48a1a4]===undefined)this[_0x5bb76f(0x144)][_0x48a1a4]=[];if(typeof _0x25de04==_0x5bb76f(0xd5))this[_0x5bb76f(0x144)][_0x48a1a4][_0x5bb76f(0x10a)](_0x25de04);}['remove'](_0x483a8c,_0x2e5041){const _0x31f0d8=_0x3f2bf6;for(const _0x43090f in this[_0x31f0d8(0x144)]){this[_0x31f0d8(0x144)][_0x43090f]=this[_0x31f0d8(0x144)][_0x43090f][_0x31f0d8(0x12a)](_0x36433f=>_0x36433f!==_0x2e5041);}}[_0x3f2bf6(0x14f)](_0x5939ab,_0x101339){const _0x56fb8a=_0x3f2bf6;this['observers'][_0x5939ab]&&this[_0x56fb8a(0x144)][_0x5939ab]['forEach'](_0x114683=>{if(typeof _0x114683=='function')_0x114683(_0x101339);});}[_0x3f2bf6(0xeb)](_0x3b8700){const _0xa7ec32=_0x3f2bf6;this[_0xa7ec32(0x144)][_0xa7ec32(0x251)](_0x3d681d=>{const _0x48501f=_0xa7ec32;_0x3d681d[_0x48501f(0x251)](_0x1cc75c=>{const _0x3deac0=_0x48501f;typeof _0x1cc75c==_0x3deac0(0xd5)&&_0x1cc75c(_0x3b8700);});});}};class Pipe{constructor(){const _0x57802f=_0x3f2bf6;this[_0x57802f(0x12e)]={};}[_0x3f2bf6(0x1cf)](_0x39e3aa){const _0x2094ee=_0x3f2bf6;return!this['streams'][_0x39e3aa]&&(this[_0x2094ee(0x12e)][_0x39e3aa]=new PipeStream(_0x39e3aa)),this[_0x2094ee(0x12e)][_0x39e3aa];}}const pipe=new Pipe(),stream=pipe;;class ImageProcessing{constructor(){}static[_0x3f2bf6(0x20a)](_0x51f9c8,_0x3ae59c,_0x15ce0c,_0x4e4647,_0x577d2f){const _0xcd9de=_0x3f2bf6;let _0x2a6e94=document['createElement'](_0xcd9de(0xbf));_0x2a6e94[_0xcd9de(0x168)]=_0x4e4647,_0x2a6e94[_0xcd9de(0x147)]=_0x577d2f;let _0x3d256f=_0x2a6e94[_0xcd9de(0xb0)]('2d');return _0x3d256f[_0xcd9de(0x134)](_0x51f9c8,_0x3ae59c,_0x15ce0c,_0x4e4647,_0x577d2f,0x0,0x0,_0x4e4647,_0x577d2f),_0x2a6e94;}static['resizeCanvas'](_0x5d5103,_0xc5d0bc={'w':null,'h':null}){const _0x4e60dc=_0x3f2bf6;let _0x450ba4=document[_0x4e60dc(0x17f)](_0x4e60dc(0xbf));if(_0xc5d0bc['w']==null&&_0xc5d0bc['h']==null)_0x450ba4[_0x4e60dc(0x168)]=_0x5d5103[_0x4e60dc(0x168)],_0x450ba4[_0x4e60dc(0x147)]=_0x5d5103[_0x4e60dc(0x147)];else{if(_0xc5d0bc['w']==null)_0x450ba4[_0x4e60dc(0x147)]=_0xc5d0bc['h'],_0x450ba4[_0x4e60dc(0x168)]=_0xc5d0bc['h']/_0x5d5103[_0x4e60dc(0x147)]*_0x5d5103[_0x4e60dc(0x168)];else _0xc5d0bc['h']==null?(_0x450ba4[_0x4e60dc(0x168)]=_0xc5d0bc['w'],_0x450ba4['height']=_0xc5d0bc['w']/_0x5d5103[_0x4e60dc(0x168)]*_0x5d5103[_0x4e60dc(0x147)]):(_0x450ba4[_0x4e60dc(0x168)]=_0xc5d0bc['w'],_0x450ba4[_0x4e60dc(0x147)]=_0xc5d0bc['h']);}let _0x2d4154=_0x450ba4[_0x4e60dc(0xb0)]('2d');return _0x2d4154[_0x4e60dc(0x134)](_0x5d5103,0x0,0x0,_0x450ba4[_0x4e60dc(0x168)],_0x450ba4[_0x4e60dc(0x147)]),_0x450ba4;}static[_0x3f2bf6(0xf5)](_0x226e99,_0xf78d6,_0x2cf5f1,_0x106289,_0xb7a518,_0x2b343a,_0x5af4db){const _0x84e553=_0x3f2bf6;let _0x1a92fa=document['createElement'](_0x84e553(0xbf));_0x1a92fa[_0x84e553(0x168)]=_0x2b343a,_0x1a92fa[_0x84e553(0x147)]=_0x5af4db;let _0x14a1ad=_0x1a92fa[_0x84e553(0xb0)]('2d');return _0x14a1ad[_0x84e553(0x134)](_0x226e99,_0xf78d6,_0x2cf5f1,_0x106289,_0xb7a518,0x0,0x0,_0x2b343a,_0x5af4db),_0x1a92fa;}static['imageDataToCanvas'](_0x28c625){const _0x1b2ae7=_0x3f2bf6;let _0x48394e=document[_0x1b2ae7(0x17f)](_0x1b2ae7(0xbf));_0x48394e[_0x1b2ae7(0x168)]=_0x28c625[_0x1b2ae7(0x168)],_0x48394e[_0x1b2ae7(0x147)]=_0x28c625[_0x1b2ae7(0x147)];let _0x32dfd5=_0x48394e[_0x1b2ae7(0xb0)]('2d');return _0x32dfd5['putImageData'](_0x28c625,0x0,0x0),_0x48394e;}static[_0x3f2bf6(0x26d)](_0x5eece4){const _0x3e4a7d=_0x3f2bf6;let _0x4ec511=document[_0x3e4a7d(0x17f)](_0x3e4a7d(0xbf));_0x4ec511[_0x3e4a7d(0x168)]=_0x5eece4[_0x3e4a7d(0x168)],_0x4ec511[_0x3e4a7d(0x147)]=_0x5eece4[_0x3e4a7d(0x147)];let _0x151bbc=_0x4ec511[_0x3e4a7d(0xb0)]('2d');return _0x151bbc[_0x3e4a7d(0x134)](_0x5eece4,0x0,0x0),_0x4ec511;}static[_0x3f2bf6(0x248)](_0xdf5145){const _0x363a11=_0x3f2bf6;let _0x4f14e1=_0xdf5145[_0x363a11(0xb0)]('2d'),_0x3785c9=_0x4f14e1[_0x363a11(0x145)](0x0,0x0,_0xdf5145[_0x363a11(0x168)],_0xdf5145[_0x363a11(0x147)]);return _0x3785c9;}static['canvasToBase64'](_0x9e5862,_0x11fc1b=_0x3f2bf6(0x1be),_0x2a9997=0.92){return _0x9e5862['toDataURL'](_0x11fc1b,_0x2a9997);}static[_0x3f2bf6(0x108)](_0x3db02a,_0x307243=_0x3f2bf6(0x1be),_0x338ca7=0.92){return new Promise(function(_0x5afc8a,_0x40cb2c){const _0x1067c6=_0x1fff;let _0x2d37c8=new Image();_0x2d37c8[_0x1067c6(0xa8)](_0x1067c6(0x110),_0x1067c6(0x23b)),_0x2d37c8['onload']=()=>{_0x5afc8a(_0x2d37c8);},_0x2d37c8['onerror']=_0x41d8ab=>{_0x40cb2c('Error\x20loading\x20'+_0x41d8ab);},_0x2d37c8['src']=ImageProcessing[_0x1067c6(0x292)](_0x3db02a,_0x307243,_0x338ca7);});}static[_0x3f2bf6(0x273)](_0x2d62e9){const _0x326a4d=_0x3f2bf6;let _0xb4f010=_0x2d62e9['getContext']('2d'),_0x5cabb4=_0xb4f010[_0x326a4d(0x145)](0x0,0x0,_0x2d62e9[_0x326a4d(0x168)],_0x2d62e9[_0x326a4d(0x147)]),_0x4826e1=_0x5cabb4[_0x326a4d(0x230)],_0x4b6125=_0x2d62e9[_0x326a4d(0x168)]*_0x2d62e9['height']*0x4;for(let _0x2465a7=_0x4b6125-0x1;_0x2465a7>0x0;_0x2465a7-=0x4){let _0x3d66d5=0.3*_0x4826e1[_0x2465a7-0x3]+0.59*_0x4826e1[_0x2465a7-0x2]+0.11*_0x4826e1[_0x2465a7-0x1];_0x4826e1[_0x2465a7-0x3]=_0x3d66d5,_0x4826e1[_0x2465a7-0x2]=_0x3d66d5,_0x4826e1[_0x2465a7-0x1]=_0x3d66d5;}let _0x29a47f=document[_0x326a4d(0x17f)]('CANVAS'),_0x3b3110=_0x29a47f['getContext']('2d');return _0x3b3110['putImageData'](_0x5cabb4,0x0,0x0),_0x29a47f;}static['blankCanvas'](_0x194e97,_0x3f99e5,_0x46e03c='black'){const _0x278b35=_0x3f2bf6;let _0x3d7dc3=document[_0x278b35(0x17f)](_0x278b35(0xbf));_0x3d7dc3[_0x278b35(0x168)]=_0x194e97,_0x3d7dc3[_0x278b35(0x147)]=_0x3f99e5;let _0x2c0c22=_0x3d7dc3[_0x278b35(0xb0)]('2d');return _0x2c0c22[_0x278b35(0xf1)]=_0x46e03c,_0x2c0c22[_0x278b35(0x18c)](0x0,0x0,_0x194e97,_0x3f99e5),_0x3d7dc3;}static[_0x3f2bf6(0x279)](_0x19b420,_0x5147c8=0x1e){const _0x5399fa=_0x3f2bf6;let _0x456b58=_0x19b420[_0x5399fa(0xb0)]('2d'),_0xd1b08a=_0x456b58[_0x5399fa(0x145)](0x0,0x0,_0x19b420[_0x5399fa(0x168)],_0x19b420[_0x5399fa(0x147)]),_0x4ea046=_0xd1b08a[_0x5399fa(0x230)],_0x14d3a7=[[0x0,0x1,0x0],[0x1,-0x4,0x1],[0x0,0x1,0x0]],_0x155a73=_0x19b420[_0x5399fa(0x168)]*0x4,_0x15c0bc=0x0,_0x1a35d6=0x3,_0x17f32e=Math[_0x5399fa(0x10c)](_0x1a35d6/0x2),_0x143b24=0x0,_0x4edbdb=0x0;for(let _0xb774dc=0x1;_0xb774dc<_0x19b420[_0x5399fa(0x147)]-0x1;_0xb774dc++){for(let _0x3420f4=0x4;_0x3420f4<_0x155a73-0x4;_0x3420f4+=0x4){_0x143b24=0x0;for(let _0x35d8b4=0x0;_0x35d8b4<_0x1a35d6;_0x35d8b4++){for(let _0x566171=0x0;_0x566171<_0x1a35d6;_0x566171++){_0x15c0bc=_0x155a73*(_0xb774dc+_0x35d8b4-_0x17f32e)+_0x3420f4+(_0x566171-_0x17f32e)*0x4;let _0x4a9927=0.3*_0x4ea046[_0x15c0bc]+0.59*_0x4ea046[_0x15c0bc+0x1]+0.11*_0x4ea046[_0x15c0bc+0x2];_0x143b24+=_0x4a9927*_0x14d3a7[_0x35d8b4][_0x566171];}}_0x143b24>_0x5147c8&&(_0x4edbdb+=0x1);}}return _0x4edbdb;}static['getImageFromURL'](_0x6ae933){return new Promise(function(_0x4b438c,_0x2cf40f){const _0x30c7ee=_0x1fff;let _0x1c7ed7=new Image();_0x1c7ed7[_0x30c7ee(0xa8)]('crossOrigin',_0x30c7ee(0x23b)),_0x1c7ed7[_0x30c7ee(0x277)]=()=>{_0x4b438c(_0x1c7ed7);},_0x1c7ed7[_0x30c7ee(0x1e2)]=()=>{_0x2cf40f('Error\x20loading\x20'+_0x6ae933);},_0x1c7ed7[_0x30c7ee(0x21d)]=_0x6ae933;});}};class WebWorker{constructor(_0x6bb539={}){const _0x15fd1b=_0x3f2bf6;this['worker']=null,this[_0x15fd1b(0xaa)]=null,this[_0x15fd1b(0x104)]={'path':null},this['options']=deepMerge(this[_0x15fd1b(0x104)],_0x6bb539),this[_0x15fd1b(0x1a1)]();}['setup'](){const _0x4d16dd=_0x3f2bf6;this[_0x4d16dd(0xaa)]=stream[_0x4d16dd(0x1cf)](_0x4d16dd(0xba)),this[_0x4d16dd(0xaa)]['on']('getFace',this[_0x4d16dd(0x146)][_0x4d16dd(0x164)](this)),this[_0x4d16dd(0xaa)]['on'](_0x4d16dd(0xc7),this[_0x4d16dd(0xc7)][_0x4d16dd(0x164)](this)),this[_0x4d16dd(0xaa)]['on']('loadCard',this['loadCard'][_0x4d16dd(0x164)](this)),this[_0x4d16dd(0xaa)]['on'](_0x4d16dd(0x16b),this[_0x4d16dd(0x16b)][_0x4d16dd(0x164)](this)),window[_0x4d16dd(0x19d)]&&this['options'][_0x4d16dd(0x1a9)]!=null?(this[_0x4d16dd(0xba)]=new Worker(this['options'][_0x4d16dd(0x1a9)]),this[_0x4d16dd(0xba)]['onmessage']=this[_0x4d16dd(0x153)][_0x4d16dd(0x164)](this)):console['log'](_0x4d16dd(0x197));}[_0x3f2bf6(0x146)](_0xb1bf06){const _0x3892af=_0x3f2bf6;let _0x177488=null;if(_0xb1bf06 instanceof HTMLCanvasElement){let _0x44ef77=_0xb1bf06[_0x3892af(0xb0)]('2d');_0x177488=_0x44ef77[_0x3892af(0x145)](0x0,0x0,_0xb1bf06['width'],_0xb1bf06[_0x3892af(0x147)]);}else{if(_0xb1bf06 instanceof HTMLImageElement){let _0x211096=document[_0x3892af(0x17f)](_0x3892af(0x1a3)),_0xa5af6f=_0x211096['getContext']('2d');_0x211096[_0x3892af(0x168)]=_0xb1bf06['width'],_0x211096[_0x3892af(0x147)]=_0xb1bf06[_0x3892af(0x147)],_0xa5af6f[_0x3892af(0x134)](_0xb1bf06,0x0,0x0),_0x177488=_0xa5af6f[_0x3892af(0x145)](0x0,0x0,_0xb1bf06[_0x3892af(0x168)],_0xb1bf06[_0x3892af(0x147)]);}}this[_0x3892af(0xba)][_0x3892af(0x226)]({'type':_0x3892af(0x15c),'action':_0x3892af(0x146),'data':_0x177488});}[_0x3f2bf6(0xc7)](_0x272f7f){const _0xf24b09=_0x3f2bf6;let _0x126c8e=null;if(_0x272f7f instanceof HTMLCanvasElement){let _0x5a08ba=_0x272f7f['getContext']('2d');_0x126c8e=_0x5a08ba[_0xf24b09(0x145)](0x0,0x0,_0x272f7f[_0xf24b09(0x168)],_0x272f7f[_0xf24b09(0x147)]);}else{if(_0x272f7f instanceof HTMLImageElement){let _0x35a4ff=document[_0xf24b09(0x17f)]('canvas'),_0x5ea45e=_0x35a4ff['getContext']('2d');_0x35a4ff[_0xf24b09(0x168)]=_0x272f7f[_0xf24b09(0x168)],_0x35a4ff['height']=_0x272f7f['height'],_0x5ea45e[_0xf24b09(0x134)](_0x272f7f,0x0,0x0),_0x126c8e=_0x5ea45e['getImageData'](0x0,0x0,_0x272f7f[_0xf24b09(0x168)],_0x272f7f['height']);}}this['worker']['postMessage']({'type':_0xf24b09(0x15c),'action':_0xf24b09(0xc7),'data':_0x126c8e});}[_0x3f2bf6(0x16b)](_0x5371ca){const _0x5b7ae5=_0x3f2bf6;let _0x1c2abd=null;if(_0x5371ca instanceof HTMLCanvasElement)_0x1c2abd=ImageProcessing[_0x5b7ae5(0x248)](_0x5371ca);else _0x5371ca instanceof HTMLImageElement&&(_0x1c2abd=ImageProcessing[_0x5b7ae5(0x26d)](_0x5371ca));this[_0x5b7ae5(0xba)][_0x5b7ae5(0x226)]({'type':_0x5b7ae5(0xfc),'action':_0x5b7ae5(0x16b),'data':_0x1c2abd});}[_0x3f2bf6(0xc2)](){const _0x297a9e=_0x3f2bf6;this[_0x297a9e(0xba)][_0x297a9e(0x226)]({'type':_0x297a9e(0xfc),'action':_0x297a9e(0xc2)});}['onWorkerMessage'](_0x1d0b8a){const _0x133453=_0x3f2bf6;let _0x33e183=_0x1d0b8a['data']['type'],_0x5a5506=_0x1d0b8a['data']['action'],_0x492c37=_0x1d0b8a[_0x133453(0x230)]['data'];switch(_0x33e183){case _0x133453(0x15c):if(_0x5a5506===_0x133453(0x174))this[_0x133453(0xaa)][_0x133453(0x14f)]('onFaceResult',_0x492c37);else _0x5a5506===_0x133453(0x167)&&this[_0x133453(0xaa)][_0x133453(0x14f)](_0x133453(0x234),_0x492c37);break;case _0x133453(0xfc):this[_0x133453(0xaa)][_0x133453(0x14f)](_0x133453(0x219),_0x492c37);break;case'scanLoaded':this['stream']['notify'](_0x133453(0x1aa),_0x492c37);break;case _0x133453(0x121):break;default:break;}}};class HeadPos{constructor(){const _0x1a5f44=_0x3f2bf6;this[_0x1a5f44(0x1c1)]=null,this[_0x1a5f44(0x285)]={'x':0x0,'y':0x0,'width':0x0,'height':0x0},this[_0x1a5f44(0x25b)]=[],this[_0x1a5f44(0x15c)]=null,this[_0x1a5f44(0x176)]=0x0,this[_0x1a5f44(0x1d9)]=0x0,this['roll']=0x0;}[_0x3f2bf6(0x15f)](_0x3a2761){const _0x404990=_0x3f2bf6;this[_0x404990(0x15c)]=_0x3a2761,this[_0x404990(0x285)]={'x':_0x3a2761['x'],'y':_0x3a2761['y'],'height':_0x3a2761['height'],'width':_0x3a2761['width']},this['landmark']=_0x3a2761[_0x404990(0x117)],this[_0x404990(0x148)]();}['clear'](){const _0x6008e6=_0x3f2bf6;this[_0x6008e6(0x1c1)]=null,this[_0x6008e6(0x285)]={'x':0x0,'y':0x0,'width':0x0,'height':0x0},this[_0x6008e6(0x25b)]=[],this[_0x6008e6(0x15c)]=null,this[_0x6008e6(0x176)]=0x0,this[_0x6008e6(0x1d9)]=0x0,this[_0x6008e6(0xf6)]=0x0;}[_0x3f2bf6(0x148)](){const _0x49bb39=_0x3f2bf6;let _0x50a411=this[_0x49bb39(0x15c)][_0x49bb39(0x117)][0xea],_0xe570be=this[_0x49bb39(0x15c)]['landMarks'][0x1c6],_0x139d42=this[_0x49bb39(0x15c)][_0x49bb39(0x117)][0xa],_0x7ea399=this[_0x49bb39(0x15c)][_0x49bb39(0x117)][0x98];this[_0x49bb39(0x176)]=Math[_0x49bb39(0x22a)](_0xe570be[0x2]-_0x50a411[0x2],_0xe570be[0x0]-_0x50a411[0x0])*0xb4/Math['PI'],this[_0x49bb39(0x1d9)]=Math[_0x49bb39(0x22a)](_0x7ea399[0x0]-_0x139d42[0x0],_0x7ea399[0x2]-_0x139d42[0x2])*0xb4/Math['PI'],this[_0x49bb39(0xf6)]=Math[_0x49bb39(0x22a)](_0xe570be[0x1]-_0x50a411[0x1],_0xe570be[0x0]-_0x50a411[0x0])*0xb4/Math['PI'];}[_0x3f2bf6(0x1ec)](){}[_0x3f2bf6(0x10b)](){const _0x1160c0=_0x3f2bf6;return this[_0x1160c0(0x285)];}[_0x3f2bf6(0x1a0)](){const _0x5b4757=_0x3f2bf6;return this[_0x5b4757(0x25b)];}}const headpos=HeadPos;;const FaceCommands={'FORWARD':_0x3f2bf6(0x1fb),'LEFT':'left','RIGHT':'right','UP':'up','DOWN':_0x3f2bf6(0x1f7),'SMILE':'smile','BLINKING':_0x3f2bf6(0x112),'NONE':'none'};class Commander{constructor(){const _0x5275be=_0x3f2bf6;this['commands']=[],this['count']=0x2,this['chooselist']=[FaceCommands[_0x5275be(0x18e)],FaceCommands['RIGHT'],FaceCommands['UP'],FaceCommands[_0x5275be(0x22b)],FaceCommands[_0x5275be(0x166)]],this[_0x5275be(0x223)]=0x0;}[_0x3f2bf6(0x1ea)](){const _0x9213d9=_0x3f2bf6;this[_0x9213d9(0x1d7)]();for(let _0x27706f=0x0;_0x27706f<this[_0x9213d9(0x184)];_0x27706f++){this[_0x9213d9(0x269)][_0x9213d9(0x10a)]({'name':FaceCommands['FORWARD']});}return this[_0x9213d9(0x269)];}[_0x3f2bf6(0x245)](){const _0x2fbd69=_0x3f2bf6;return this[_0x2fbd69(0x223)]<this[_0x2fbd69(0x269)][_0x2fbd69(0x216)]-0x1?(this[_0x2fbd69(0x223)]++,this[_0x2fbd69(0x269)][this[_0x2fbd69(0x223)]]):null;}[_0x3f2bf6(0xdf)](){const _0x33a685=_0x3f2bf6;return this[_0x33a685(0x269)][this[_0x33a685(0x223)]];}[_0x3f2bf6(0xf9)](){const _0x9984cd=_0x3f2bf6;return this['index']<this[_0x9984cd(0x269)][_0x9984cd(0x216)]-0x1;}[_0x3f2bf6(0x1d7)](){const _0x20e534=_0x3f2bf6;this['index']=0x0,this[_0x20e534(0x269)]=[];}};const DCFaceError={'NO_FACE':_0x3f2bf6(0x232),'MANY_FACES':_0x3f2bf6(0x1c6),'LOW_LIGHT':_0x3f2bf6(0x131),'HIGH_LIGHT':_0x3f2bf6(0x186),'OUT_OF_BOUNDS':_0x3f2bf6(0x152)},DCFacePos={'NONE':'none','UP':'up','DOWN':_0x3f2bf6(0x1f7),'FORWARD':_0x3f2bf6(0x1fb),'LEFT':'left','RIGHT':'right'},FaceActionSteps={'NONE':_0x3f2bf6(0x194),'INIT':_0x3f2bf6(0xfa),'START':_0x3f2bf6(0x1bb),'ACTIONS':'actions','FINISH':_0x3f2bf6(0xdd)},CommandResult={'SUCCESS':'success','NONE':'none','REJECT':_0x3f2bf6(0x1c5)};class FaceAnalyser{constructor(_0x1f5499,_0x21acad={}){const _0x5ac4d3=_0x3f2bf6;this[_0x5ac4d3(0x1a3)]=_0x1f5499,this[_0x5ac4d3(0x104)]={'video':null,'area':{'x':0x0,'y':0x0,'width':0x0,'height':0x0},'detectTime':0x64,'startingWaitTime':0x7d0,'onFaceDetected':null,'onError':null,'onFinished':null,'onCommand':null,'onCommandResult':null,'onStep':null,'onStartDownCount':null},this['options']=deepMerge(this[_0x5ac4d3(0x104)],_0x21acad),this[_0x5ac4d3(0x109)]=null,this['errors']={'lowLight':![],'highLight':![],'noFace':![],'manyFace':![],'outOfBounds':![]},this[_0x5ac4d3(0x175)]=DCFacePos[_0x5ac4d3(0x24d)],this[_0x5ac4d3(0xaa)]=null,this[_0x5ac4d3(0x1f5)]=new headpos(),this[_0x5ac4d3(0x10e)]=new Commander(),this['lock']=![],this['lastDetected']=[],this[_0x5ac4d3(0x177)]=FaceActionSteps[_0x5ac4d3(0x24d)],this[_0x5ac4d3(0xda)]=0x3,this[_0x5ac4d3(0x124)]=0x0,this[_0x5ac4d3(0x21b)]=0x0,this[_0x5ac4d3(0xbc)]=0x7d0,this[_0x5ac4d3(0xa9)]=0x1770,this[_0x5ac4d3(0x20e)]=0x3e8,this['finishWaitTime']=0x7d0,this['currentStepActive']=![],this[_0x5ac4d3(0x133)]=null,this['results']=[],this[_0x5ac4d3(0xd9)]=FaceCommands[_0x5ac4d3(0x24d)],this[_0x5ac4d3(0x1af)]=DCFacePos[_0x5ac4d3(0x24d)],this[_0x5ac4d3(0x1ac)]=[],this['cc']=null,this[_0x5ac4d3(0xff)]();}[_0x3f2bf6(0xff)](){const _0x3a40c8=_0x3f2bf6;this[_0x3a40c8(0xaa)]=stream[_0x3a40c8(0x1cf)](_0x3a40c8(0xba)),this[_0x3a40c8(0xaa)]['on'](_0x3a40c8(0x15b),_0x5768cf=>{const _0xa6b9ce=_0x3a40c8;this[_0xa6b9ce(0x109)]!=null&&(this[_0xa6b9ce(0xec)](_0x5768cf),this[_0xa6b9ce(0x236)]=![]);});}[_0x3f2bf6(0x1bb)](){const _0x23707d=_0x3f2bf6;this[_0x23707d(0x236)]=![],this[_0x23707d(0xb3)]=[],this[_0x23707d(0x291)]=![],this['step']=FaceActionSteps[_0x23707d(0x25c)],this[_0x23707d(0x16c)]=[],this[_0x23707d(0xda)]=0x3,this['tid']=new Date()['getTime'](),this['defineCommands'](),this[_0x23707d(0x220)](this[_0x23707d(0x177)]),clearTimeout(this[_0x23707d(0x109)]),this[_0x23707d(0x109)]=setTimeout(this[_0x23707d(0x297)][_0x23707d(0x164)](this),this['options']['detectTime']);}[_0x3f2bf6(0x203)](){const _0x1e4c39=_0x3f2bf6;this[_0x1e4c39(0x133)]=null,clearTimeout(this[_0x1e4c39(0x109)]),this['detectTimer']=null,this[_0x1e4c39(0x236)]=![],this[_0x1e4c39(0x1d7)]();}['clear'](){const _0x3006e9=_0x3f2bf6;this[_0x3006e9(0xb3)]=[],this['step']=FaceActionSteps[_0x3006e9(0x24d)],this['detectedFaceCountDownBeforeStart']=0x3,this[_0x3006e9(0x1af)]=DCFacePos[_0x3006e9(0x24d)],this['currentActionList']=[],this['currentStepActive']=![];}[_0x3f2bf6(0x1db)](){const _0x2da92d=_0x3f2bf6;let _0x9e1920=this['commander'][_0x2da92d(0x1ea)]();for(let _0x52fb75 in _0x9e1920){this[_0x2da92d(0x16c)][_0x2da92d(0x10a)]({'pos':DCFacePos[_0x2da92d(0x24d)],'image':null,'command':FaceCommands[_0x2da92d(0x24d)],'status':![]});}helper_logger[_0x2da92d(0x28e)]()[_0x2da92d(0x114)](_0x2da92d(0x1db),_0x9e1920);}[_0x3f2bf6(0x297)](){const _0x58e2ad=_0x3f2bf6;!this['lock']&&(this[_0x58e2ad(0xaa)][_0x58e2ad(0x14f)](_0x58e2ad(0x146),this[_0x58e2ad(0x1a3)]),this['lock']=!![]),this[_0x58e2ad(0x109)]=setTimeout(this['observe'][_0x58e2ad(0x164)](this),this[_0x58e2ad(0x104)]['detectTime']);}[_0x3f2bf6(0xec)](_0x5147a5){const _0x487a75=_0x3f2bf6;this[_0x487a75(0xc0)][_0x487a75(0xe3)]=![],this[_0x487a75(0xc0)]['manyFace']=![],this[_0x487a75(0x175)]=DCFacePos[_0x487a75(0x24d)];if(_0x5147a5[_0x487a75(0x216)]>0x1)this[_0x487a75(0xc0)][_0x487a75(0x257)]=!![];else{if(_0x5147a5[_0x487a75(0x216)]===0x0){this[_0x487a75(0xc0)][_0x487a75(0xe3)]=!![];if(typeof this[_0x487a75(0x104)][_0x487a75(0xec)]===_0x487a75(0xd5))this[_0x487a75(0x104)][_0x487a75(0xec)]([]);this[_0x487a75(0x236)]=![];return;}}this[_0x487a75(0xb3)]=_0x5147a5;if(typeof this[_0x487a75(0x104)][_0x487a75(0xec)]==='function')this[_0x487a75(0x104)][_0x487a75(0xec)](_0x5147a5);this[_0x487a75(0xda)]>0x0?(this['detectedFaceCountDownBeforeStart']--,this[_0x487a75(0x124)]=new Date()['getTime'](),this[_0x487a75(0x21b)]=new Date()[_0x487a75(0x287)]()):(this[_0x487a75(0x1f5)]['setFace'](_0x5147a5[0x0]),this['defineCurrentAction'](),this[_0x487a75(0x218)]()),this[_0x487a75(0x236)]=![];}[_0x3f2bf6(0xdd)](_0x2f1ae4,_0x2a8477){const _0x187471=_0x3f2bf6;if(this[_0x187471(0x133)]==null)return![];let _0x496096={'tid':this[_0x187471(0x133)],'status':_0x2a8477,'results':this['results'],'image':null};for(let _0x59e676 in this[_0x187471(0x16c)]){if(this[_0x187471(0x16c)][_0x59e676][_0x187471(0x1df)]===FaceCommands[_0x187471(0x181)]&&this['results'][_0x59e676][_0x187471(0x113)]===!![]){_0x496096[_0x59e676][_0x187471(0x201)]=this[_0x187471(0x16c)][_0x59e676][_0x187471(0x201)];break;}}typeof this[_0x187471(0x104)][_0x187471(0x24c)]===_0x187471(0xd5)&&this[_0x187471(0x104)][_0x187471(0x24c)](_0x496096),this[_0x187471(0x203)]();}[_0x3f2bf6(0x27a)](){const _0x530eab=_0x3f2bf6;let _0x4c17ff=this[_0x530eab(0x1f5)]['getBox'](),_0x16edfe={'x':this['cc'][_0x530eab(0xc3)](_0x4c17ff['x']),'y':this['cc'][_0x530eab(0xf2)](_0x4c17ff['y']),'width':this['cc'][_0x530eab(0x140)](_0x4c17ff[_0x530eab(0x168)]),'height':this['cc'][_0x530eab(0x140)](_0x4c17ff['height'])},_0x309850=this[_0x530eab(0x104)]['area'][_0x530eab(0x168)]*0.3,_0x53b03f=this['options'][_0x530eab(0x158)][_0x530eab(0x147)]*0.3,_0x189723=_0x16edfe['x']+_0x16edfe[_0x530eab(0x168)],_0x1dc5db=_0x16edfe['y']+_0x16edfe['height'];if(_0x16edfe['x']>this[_0x530eab(0x104)][_0x530eab(0x158)]['x']-_0x309850&&_0x16edfe['y']>this[_0x530eab(0x104)][_0x530eab(0x158)]['y']-_0x53b03f&&_0x189723<this[_0x530eab(0x104)][_0x530eab(0x158)]['x']+this[_0x530eab(0x104)][_0x530eab(0x158)]['width']+_0x309850&&_0x1dc5db<this[_0x530eab(0x104)][_0x530eab(0x158)]['y']+this[_0x530eab(0x104)][_0x530eab(0x158)][_0x530eab(0x147)]+_0x53b03f)this[_0x530eab(0xc0)][_0x530eab(0x1dd)]=![];else return this[_0x530eab(0xc0)]['outOfBounds']=!![],![];this[_0x530eab(0x1f5)][_0x530eab(0xf6)]<0xc&&this[_0x530eab(0x1f5)][_0x530eab(0xf6)]>-0xc&&this[_0x530eab(0x1f5)]['pitch']<=-0x14&&this[_0x530eab(0x1f5)][_0x530eab(0x1d9)]>=-0x82&&this[_0x530eab(0x1f5)][_0x530eab(0x176)]>=-0xa&&this['headpos'][_0x530eab(0x176)]<=0xa&&(this[_0x530eab(0x1af)]=DCFacePos['FORWARD']),this[_0x530eab(0x1f5)][_0x530eab(0xf6)]<0xc&&this['headpos'][_0x530eab(0xf6)]>-0xc&&this['headpos'][_0x530eab(0x176)]<-0xa&&(this[_0x530eab(0x1af)]=DCFacePos['LEFT']),this[_0x530eab(0x1f5)][_0x530eab(0xf6)]<0xc&&this[_0x530eab(0x1f5)][_0x530eab(0xf6)]>-0xc&&this[_0x530eab(0x1f5)]['yaw']>0xa&&(this[_0x530eab(0x1af)]=DCFacePos[_0x530eab(0xef)]),this[_0x530eab(0x1f5)]['roll']<0xc&&this[_0x530eab(0x1f5)][_0x530eab(0xf6)]>-0xc&&this[_0x530eab(0x1f5)]['pitch']<-0x82&&(this[_0x530eab(0x1af)]=DCFacePos['UP']),this[_0x530eab(0x1f5)]['roll']<0xc&&this['headpos'][_0x530eab(0xf6)]>-0xc&&this[_0x530eab(0x1f5)][_0x530eab(0x1d9)]>-0x14&&(this['currentAction']=DCFacePos[_0x530eab(0x22b)]);}[_0x3f2bf6(0x218)](){const _0x5ecd13=_0x3f2bf6;let _0x383f2f=this['isErrorExist'](),_0x5dae0e=this['getTimeDiff'](this['fixedTime']);_0x383f2f?(this[_0x5ecd13(0x175)]=DCFacePos[_0x5ecd13(0x24d)],this[_0x5ecd13(0x225)](this['errors'])):this['errorTime']=new Date()[_0x5ecd13(0x287)]();this['step']===FaceActionSteps[_0x5ecd13(0x25c)]&&(this[_0x5ecd13(0x291)]=![],this['step']=FaceActionSteps[_0x5ecd13(0x215)],this[_0x5ecd13(0x220)](this['step']));if(this[_0x5ecd13(0x177)]===FaceActionSteps[_0x5ecd13(0x215)]){let _0x414d1a=Math[_0x5ecd13(0xe7)]((this[_0x5ecd13(0x104)][_0x5ecd13(0x217)]-_0x5dae0e)/0x3e8);if(_0x414d1a>0x0){if(typeof this['options']['onStartDownCount']===_0x5ecd13(0xd5))this[_0x5ecd13(0x104)][_0x5ecd13(0x21a)](_0x414d1a);}else this[_0x5ecd13(0x177)]=FaceActionSteps[_0x5ecd13(0x16a)],this[_0x5ecd13(0x291)]=![],this[_0x5ecd13(0x124)]=new Date()['getTime'](),this[_0x5ecd13(0x189)]=new Date()[_0x5ecd13(0x287)](),this[_0x5ecd13(0x220)](this['step']);}if(this[_0x5ecd13(0x177)]===FaceActionSteps[_0x5ecd13(0x16a)]&&(_0x383f2f===![]||this[_0x5ecd13(0xbc)]===0x0)){let _0xdda0e0=this[_0x5ecd13(0x10e)]['index'],_0x3864b2=this['commander'][_0x5ecd13(0xdf)]();this[_0x5ecd13(0xd9)]!==_0x3864b2[_0x5ecd13(0x16e)]&&(this[_0x5ecd13(0xd9)]=_0x3864b2['name'],this[_0x5ecd13(0x1ac)]=[],this['callCommandChange'](_0x3864b2[_0x5ecd13(0x16e)]));_0x5dae0e>0x0&&this[_0x5ecd13(0x1ac)][_0x5ecd13(0x10a)]({'pos':this[_0x5ecd13(0x1af)],'posPitch':this[_0x5ecd13(0x1f5)][_0x5ecd13(0x1d9)],'posYaw':this[_0x5ecd13(0x1f5)]['yaw'],'time':new Date()['getTime'](),'valid':!![],'command':_0x3864b2});let _0x2db529=this[_0x5ecd13(0xa9)]+this[_0x5ecd13(0x20e)]-_0x5dae0e,_0xb84025=_0x5dae0e>this[_0x5ecd13(0x20e)]?this[_0x5ecd13(0xc1)](_0x3864b2['name'],this['currentAction']):CommandResult[_0x5ecd13(0x24d)];if(_0x2db529>0x0&&_0xb84025===CommandResult['NONE']){}else{if(_0x5dae0e>this[_0x5ecd13(0x20e)]){let _0x233ddb=ImageProcessing['cropCanvas'](this[_0x5ecd13(0x1a3)],this['headpos']['box']['x'],this[_0x5ecd13(0x1f5)][_0x5ecd13(0x285)]['y'],this['headpos'][_0x5ecd13(0x285)][_0x5ecd13(0x168)],this[_0x5ecd13(0x1f5)][_0x5ecd13(0x285)][_0x5ecd13(0x147)]);_0xb84025===CommandResult['SUCCESS']?this[_0x5ecd13(0x16c)][_0xdda0e0]={'pos':this[_0x5ecd13(0x1af)],'command':_0x3864b2,'status':!![],'image':_0x233ddb}:this[_0x5ecd13(0x16c)][_0xdda0e0]={'pos':this[_0x5ecd13(0x1af)],'command':_0x3864b2,'status':![],'image':_0x233ddb},this[_0x5ecd13(0x1f1)](this[_0x5ecd13(0x16c)][_0xdda0e0]),this[_0x5ecd13(0x10e)][_0x5ecd13(0xf9)]()?this[_0x5ecd13(0x10e)][_0x5ecd13(0x245)]():(this[_0x5ecd13(0x177)]=FaceActionSteps['FINISH'],this[_0x5ecd13(0x1f5)][_0x5ecd13(0x1d7)](),this[_0x5ecd13(0x220)](this[_0x5ecd13(0x177)])),this[_0x5ecd13(0x124)]=new Date()[_0x5ecd13(0x287)]();}}}if(this[_0x5ecd13(0x177)]===FaceActionSteps[_0x5ecd13(0x1ca)]){let _0x125408=this[_0x5ecd13(0x13b)]-_0x5dae0e;if(_0x125408>0x0){}else this['step']=FaceActionSteps[_0x5ecd13(0x1ca)],this['fixedTime']=new Date()['getTime'](),this[_0x5ecd13(0xdd)](!![],!![]);}}['checkPosAndActions'](_0x4d0509,_0x721428){const _0x74b53=_0x3f2bf6;let _0x1e6b58={},_0x8e3f3=FaceCommands['NONE'],_0x4cdfca=FaceCommands['NONE'],_0x4b8d18={};for(let _0x449b3d in this[_0x74b53(0x1ac)]){let _0x29863e=this[_0x74b53(0x1ac)][_0x449b3d];_0x29863e!=null&&_0x29863e[_0x74b53(0x24e)]&&(_0x29863e[_0x74b53(0x26e)]!=null&&(_0x8e3f3=this[_0x74b53(0x1e1)](_0x29863e[_0x74b53(0x26e)])),_0x1e6b58[_0x8e3f3]==null&&(_0x1e6b58[_0x8e3f3]={'list':[],'max':0x0}),_0x1e6b58[_0x8e3f3]=this['addActionTime'](_0x1e6b58[_0x8e3f3],_0x29863e,_0x4cdfca!==_0x8e3f3),_0x4b8d18[_0x8e3f3]=(_0x4b8d18[_0x8e3f3]||0x0)+0x1,_0x4cdfca=_0x8e3f3);}let _0x56ccb6=_0x4b8d18[_0x74b53(0x216)];if(_0x4d0509===FaceCommands[_0x74b53(0x18e)]||_0x4d0509===FaceCommands['UP']||_0x4d0509===FaceCommands[_0x74b53(0xef)]||_0x4d0509===FaceCommands[_0x74b53(0x22b)]){if(_0x56ccb6>0x3)return CommandResult[_0x74b53(0x102)];if(_0x1e6b58[_0x4d0509]!=null&&_0x1e6b58[_0x4d0509][_0x74b53(0xa6)]>0x3e8)return CommandResult[_0x74b53(0x262)];}if(_0x4d0509===FaceCommands[_0x74b53(0x181)]){if(_0x56ccb6>=0x3)return CommandResult[_0x74b53(0x102)];if(_0x1e6b58[_0x4d0509]!=null&&_0x1e6b58[_0x4d0509][_0x74b53(0xa6)]>0x3e8)return CommandResult[_0x74b53(0x262)];}return CommandResult['NONE'];}['callStepChange'](_0x9eb983){const _0x105951=_0x3f2bf6;typeof this[_0x105951(0x104)]['onStep']===_0x105951(0xd5)&&this[_0x105951(0x104)][_0x105951(0x1c0)](_0x9eb983);}[_0x3f2bf6(0x225)](_0x287c09){const _0x5644e7=_0x3f2bf6;typeof this['options']['onError']===_0x5644e7(0xd5)&&this[_0x5644e7(0x104)]['onError'](_0x287c09);}[_0x3f2bf6(0x116)](_0x3d8c5a){const _0x23f282=_0x3f2bf6;typeof this[_0x23f282(0x104)][_0x23f282(0x17d)]==='function'&&this[_0x23f282(0x104)]['onCommand'](_0x3d8c5a);}[_0x3f2bf6(0x1f1)](_0x264bf6){const _0x464dfb=_0x3f2bf6;typeof this['options']['onCommandResult']===_0x464dfb(0xd5)&&this['options']['onCommandResult'](_0x264bf6);}[_0x3f2bf6(0x25f)](){const _0x26587e=_0x3f2bf6;return this[_0x26587e(0xb3)];}[_0x3f2bf6(0x235)](){const _0x717d89=_0x3f2bf6;for(const _0x21fb4a in this[_0x717d89(0xc0)]){if(this[_0x717d89(0xc0)][_0x21fb4a]===!![])return!![];}return![];}['getTimeDiff'](_0x240697){let _0x4dd6e9=new Date()['getTime']();return _0x4dd6e9-_0x240697;}[_0x3f2bf6(0x1e1)](_0x4f1fd5){const _0x3185b3=_0x3f2bf6;switch(_0x4f1fd5){case DCFacePos[_0x3185b3(0x18e)]:return FaceCommands['LEFT'];case DCFacePos['UP']:return FaceCommands['UP'];case DCFacePos[_0x3185b3(0xef)]:return FaceCommands[_0x3185b3(0xef)];case DCFacePos[_0x3185b3(0x22b)]:return FaceCommands[_0x3185b3(0x22b)];case DCFacePos[_0x3185b3(0x181)]:return FaceCommands[_0x3185b3(0x181)];default:return FaceCommands[_0x3185b3(0x24d)];}}['addActionTime'](_0x12c315,_0x2bff79,_0x271852){const _0x2dccac=_0x3f2bf6;let _0x493dd9=_0x12c315,_0x2476cd=0x0;return _0x493dd9[_0x2dccac(0x294)][_0x2dccac(0x216)]>0x0&&_0x493dd9['list'][_0x2476cd][_0x2dccac(0x1bb)]!=null&&_0x271852?(_0x2476cd=_0x493dd9[_0x2dccac(0x294)]['length']-0x1,_0x2bff79[_0x2dccac(0x222)]!=null&&(_0x493dd9[_0x2dccac(0x294)][_0x2476cd][_0x2dccac(0x157)]=_0x2bff79[_0x2dccac(0x222)],_0x493dd9[_0x2dccac(0x294)][_0x2476cd][_0x2dccac(0x172)]=_0x2bff79[_0x2dccac(0x222)]-_0x493dd9[_0x2dccac(0x294)][_0x2476cd]['start'],_0x493dd9['max']=(_0x493dd9[_0x2dccac(0x294)][_0x2476cd]['interval']||0x0)>_0x493dd9[_0x2dccac(0xa6)]?_0x493dd9['list'][_0x2476cd][_0x2dccac(0x172)]||0x0:_0x493dd9[_0x2dccac(0xa6)])):_0x493dd9[_0x2dccac(0x294)]['push']({'start':_0x2bff79['time'],'end':null,'interval':null}),_0x493dd9;}};class DeepFace{constructor(_0x325847,_0x151171={}){const _0xa33d76=_0x3f2bf6;this['dom']=null,this[_0xa33d76(0x1a3)]=null,this[_0xa33d76(0x237)]=null,this['state']={'start':![],'detectInit':![],'analyzeAfterOpen':![]},this[_0xa33d76(0x104)]={'src':null,'sourceType':null,'width':0x280,'height':0x1e0,'liveness':!![],'onFrameCaptured':null,'detectTime':0x64,'onFinished':null,'worker_path':'js/deepfaceworker.js'},this['options']=deepMerge(this[_0xa33d76(0x104)],_0x151171),this['initContainer'](_0x325847),this[_0xa33d76(0x1a1)]();}[_0x3f2bf6(0x15e)](_0x16dc94){const _0x1f3113=_0x3f2bf6;this[_0x1f3113(0x237)]=new camera(_0x16dc94,{'src':this['options'][_0x1f3113(0x21d)],'width':this[_0x1f3113(0x104)][_0x1f3113(0x168)],'height':this[_0x1f3113(0x104)][_0x1f3113(0x147)],'onFrameUpdated':this[_0x1f3113(0x15a)]['bind'](this),'onLoaded':this[_0x1f3113(0xd7)][_0x1f3113(0x164)](this),'onStart':this[_0x1f3113(0x1c4)][_0x1f3113(0x164)](this),'onStop':this[_0x1f3113(0x1cb)][_0x1f3113(0x164)](this)}),this['dom']=this['camera'][_0x1f3113(0x1b8)],this[_0x1f3113(0x1a3)]=this[_0x1f3113(0x237)]['canvas'];}[_0x3f2bf6(0x1a1)](){const _0x175cf1=_0x3f2bf6;this['cc']=new CoordConverter(this[_0x175cf1(0x237)][_0x175cf1(0x1fe)]),this[_0x175cf1(0x1e0)]=new MaskLayer(this[_0x175cf1(0x1b8)],{'width':this[_0x175cf1(0x104)]['width'],'height':this['options']['height']}),this[_0x175cf1(0x1f4)]=new VisualLayer(this[_0x175cf1(0x1a3)]),this[_0x175cf1(0x1b7)]=new WebWorker({'path':this[_0x175cf1(0x104)][_0x175cf1(0xbd)]}),this[_0x175cf1(0xf4)]=new FaceAnalyser(this['camera']['__canvas'],{'area':this[_0x175cf1(0x1e0)][_0x175cf1(0x256)](),'detectTime':this[_0x175cf1(0x104)]['detectTime'],'onFaceDetected':this[_0x175cf1(0xec)][_0x175cf1(0x164)](this),'onError':this[_0x175cf1(0x1e4)][_0x175cf1(0x164)](this),'onFinished':this[_0x175cf1(0x24c)]['bind'](this),'onCommand':this[_0x175cf1(0x17d)][_0x175cf1(0x164)](this),'onCommandResult':this['onCommandResult']['bind'](this),'onStep':this[_0x175cf1(0x1c0)]['bind'](this),'onStartDownCount':this[_0x175cf1(0x21a)][_0x175cf1(0x164)](this)}),this[_0x175cf1(0xf4)]['cc']=this['cc'];}[_0x3f2bf6(0x1cf)](){const _0x513403=_0x3f2bf6;!this['camera'][_0x513403(0xe2)]()&&(this[_0x513403(0x237)]['start'](),this[_0x513403(0x1e0)][_0x513403(0x1b9)]());}[_0x3f2bf6(0x13a)](){const _0x567453=_0x3f2bf6;this[_0x567453(0x203)](),this['camera'][_0x567453(0x203)](),this['faceMask'][_0x567453(0x1d1)]();}['start'](){const _0x32d76b=_0x3f2bf6;!this['camera'][_0x32d76b(0xe2)]()?(this[_0x32d76b(0x1cf)](),this[_0x32d76b(0x27e)][_0x32d76b(0x1fc)]=!![]):(this[_0x32d76b(0x27e)][_0x32d76b(0x1bb)]=!![],this[_0x32d76b(0xf4)][_0x32d76b(0x1bb)]());}[_0x3f2bf6(0x203)](){const _0x342835=_0x3f2bf6;this[_0x342835(0x27e)][_0x342835(0x1bb)]=![],this[_0x342835(0xf4)][_0x342835(0x203)](),this[_0x342835(0x27e)][_0x342835(0x1fc)]=![];}['onFinished'](_0x30c171,_0x223d38){const _0x2ee275=_0x3f2bf6;helper_logger['getInstance']()[_0x2ee275(0x114)](_0x2ee275(0xaf)),this[_0x2ee275(0x1e0)][_0x2ee275(0x1e5)]('Finished'),typeof this[_0x2ee275(0x104)]['onFinished']=='function'&&this['options'][_0x2ee275(0x24c)](_0x30c171,_0x223d38);}[_0x3f2bf6(0xec)](_0x315773){}[_0x3f2bf6(0x17d)](_0x15b3ac){const _0x11abfe=_0x3f2bf6;helper_logger['getInstance']()[_0x11abfe(0x114)](_0x11abfe(0x17d),_0x15b3ac);let _0xfd0675='';switch(_0x15b3ac){case FaceCommands[_0x11abfe(0x181)]:_0xfd0675=_0x11abfe(0x242);break;case FaceCommands[_0x11abfe(0x18e)]:_0xfd0675=_0x11abfe(0x23e);break;case FaceCommands[_0x11abfe(0xef)]:_0xfd0675=_0x11abfe(0x276);break;case FaceCommands['UP']:_0xfd0675=_0x11abfe(0x12b);break;case FaceCommands['DOWN']:_0xfd0675=_0x11abfe(0x14a);break;default:_0xfd0675='';}this[_0x11abfe(0x1e0)][_0x11abfe(0x1e5)](_0xfd0675);}['onCommandResult'](){}[_0x3f2bf6(0x1c0)](_0x34db28){const _0x103c80=_0x3f2bf6;helper_logger['getInstance']()['log']('onStepChanged',_0x34db28);let _0x2d565e='';switch(_0x34db28){case FaceActionSteps[_0x103c80(0x25c)]:_0x2d565e=_0x103c80(0x19a);break;case FaceActionSteps[_0x103c80(0x215)]:_0x2d565e='Starting';break;case FaceActionSteps[_0x103c80(0x16a)]:_0x2d565e='Please\x20follow\x20the\x20commands';break;case FaceActionSteps[_0x103c80(0x1ca)]:_0x2d565e='Computing\x20for\x20finishing';break;default:_0x2d565e='';}this[_0x103c80(0x1e0)][_0x103c80(0x1e5)](_0x2d565e);}[_0x3f2bf6(0x21a)](_0x3635e5){const _0x287d41=_0x3f2bf6;helper_logger[_0x287d41(0x28e)]()[_0x287d41(0x114)](_0x287d41(0x21a),_0x3635e5);}[_0x3f2bf6(0x1e4)](_0x4209ec){const _0x5415aa=_0x3f2bf6;helper_logger[_0x5415aa(0x28e)]()[_0x5415aa(0x114)](_0x5415aa(0x1e4),_0x4209ec);}[_0x3f2bf6(0x15a)](){const _0x182d7d=_0x3f2bf6;let _0xf1e629=this['analyser'][_0x182d7d(0x25f)]();this[_0x182d7d(0x1f4)][_0x182d7d(0xb2)](_0xf1e629);}[_0x3f2bf6(0xd7)](_0x47e57a,_0x4ca39c){const _0x3f0b74=_0x3f2bf6;this['cc'][_0x3f0b74(0xd1)](_0x4ca39c),this[_0x3f0b74(0x1f4)]['cc'][_0x3f0b74(0xd1)](_0x4ca39c),this[_0x3f0b74(0xf4)]['options'][_0x3f0b74(0xe4)]=_0x47e57a;}['onCameraStart'](){const _0x1f14cb=_0x3f2bf6;this[_0x1f14cb(0x27e)]['analyzeAfterOpen']&&(this['state']['analyzeAfterOpen']=![],this[_0x1f14cb(0x1bb)]());}[_0x3f2bf6(0x1cb)](){}[_0x3f2bf6(0x298)](_0x382d52){const _0x212bf5=_0x3f2bf6;this[_0x212bf5(0x1b8)]&&(this[_0x212bf5(0x1b8)][_0x212bf5(0x229)][_0x212bf5(0x12f)](_0x212bf5(0x17c)),this[_0x212bf5(0x1b8)][_0x212bf5(0x229)][_0x212bf5(0x12f)](_0x212bf5(0x18a)),_0x382d52&&(this['dom']['classList'][_0x212bf5(0x204)](_0x212bf5(0x17c)),this['dom'][_0x212bf5(0x229)][_0x212bf5(0x204)](_0x212bf5(0x18a))));}};class CardDetector{constructor(_0x2a7592={}){const _0x34e74b=_0x3f2bf6;this[_0x34e74b(0x104)]={'host':null,'headers':null,'serverSide':null,'modelUrl':null,'mirrored':!![],'single':!![]},this['callback']=null,this[_0x34e74b(0x128)]=![],this['loadedTID']=null,this[_0x34e74b(0x104)]=deepMerge(this['options'],_0x2a7592),this[_0x34e74b(0x233)]={'width':0x0,'height':0x0},this[_0x34e74b(0x208)]={'x':0x0,'y':0x0,'width':0x0,'height':0x0},this[_0x34e74b(0xb4)]={'width':0x12c,'height':0x12c};if(!this['options']['serverSide'])this[_0x34e74b(0xff)]();else{}}[_0x3f2bf6(0x1bc)](){const _0x1c4403=_0x3f2bf6;this[_0x1c4403(0x104)]['serverSide']=OSPlus[_0x1c4403(0x238)]()||OSPlus[_0x1c4403(0x10d)]();}[_0x3f2bf6(0xff)](){const _0x2a1631=_0x3f2bf6;this[_0x2a1631(0xaa)]=stream['open'](_0x2a1631(0x13c)),this[_0x2a1631(0xaa)]['on'](_0x2a1631(0x219),_0x923e6d=>{const _0x30c3e4=_0x2a1631;if(typeof this['callback']===_0x30c3e4(0xd5)){let _0x315216=this[_0x30c3e4(0xae)](_0x923e6d,!![]);this[_0x30c3e4(0xb9)](_0x315216);}}),this['stream']['on'](_0x2a1631(0x1aa),_0x55d58e=>{const _0x3306eb=_0x2a1631;helper_logger[_0x3306eb(0x28e)]()[_0x3306eb(0x114)](_0x3306eb(0x169)),this[_0x3306eb(0x128)]=_0x55d58e;});}[_0x3f2bf6(0xb5)](){const _0x516dde=_0x3f2bf6;if(!this['options']['serverSide'])this[_0x516dde(0xaa)][_0x516dde(0x14f)]('loadCard');else{let _0x5a869f=this[_0x516dde(0x104)][_0x516dde(0x192)]!=null?StringExtra[_0x516dde(0x1eb)](this['options']['host']):'',_0x326d7b=_0x5a869f+'/'+_0x516dde(0x1b6),_0x4a33ef=deepMerge({'Content-Type':_0x516dde(0x14e)},this[_0x516dde(0x104)][_0x516dde(0xfd)]||{});fetch(_0x326d7b,{'method':_0x516dde(0x125),'headers':_0x4a33ef})['then'](_0x56eb67=>_0x56eb67[_0x516dde(0x260)]())[_0x516dde(0x293)](_0x115602=>{const _0x23b613=_0x516dde;this[_0x23b613(0x128)]=_0x115602[_0x23b613(0x185)],helper_logger[_0x23b613(0x28e)]()['log'](_0x23b613(0x19b),_0x115602);})['catch'](_0x43d054=>{const _0xe7e6dd=_0x516dde;this[_0xe7e6dd(0x128)]=![],helper_logger['getInstance']()['log'](_0xe7e6dd(0x136),_0x43d054);});}}['startSession'](_0x5653b1=null){const _0x5333f7=_0x3f2bf6;let _0x1011a7=this[_0x5333f7(0x104)][_0x5333f7(0x192)]!=null?StringExtra['cutLastSlash'](this['options']['host']):'',_0x350fa8=_0x1011a7+'/'+_0x5333f7(0x1bb),_0x255665=deepMerge({'Content-Type':_0x5333f7(0x14e)},this[_0x5333f7(0x104)][_0x5333f7(0xfd)]||{});fetch(_0x350fa8,{'method':_0x5333f7(0x125),'headers':_0x255665})[_0x5333f7(0x293)](_0x480f6e=>_0x480f6e[_0x5333f7(0x260)]())[_0x5333f7(0x293)](_0x352d31=>{const _0x35cc17=_0x5333f7;this[_0x35cc17(0x17a)]=_0x352d31[_0x35cc17(0x133)]||null,helper_logger[_0x35cc17(0x28e)]()[_0x35cc17(0x114)](_0x35cc17(0x19b),_0x352d31),typeof _0x5653b1==='function'&&_0x5653b1(this[_0x35cc17(0x128)],this['loadedTID']);})[_0x5333f7(0x231)](_0x3098a5=>{const _0x460f5e=_0x5333f7;this[_0x460f5e(0x17a)]=null,helper_logger[_0x460f5e(0x28e)]()[_0x460f5e(0x114)](_0x460f5e(0x136),_0x3098a5);});}['detect'](_0x41ccdd,_0x5481bc,_0x1bbcac){const _0x1d4f04=_0x3f2bf6;if(!this['options']['serverSide']){this[_0x1d4f04(0xb9)]=_0x1bbcac;let _0x142d88=this[_0x1d4f04(0x14b)](_0x41ccdd);this[_0x1d4f04(0xaa)][_0x1d4f04(0x14f)](_0x1d4f04(0x16b),_0x142d88);}else{let _0x4c03ae=ImageProcessing['canvasToBase64'](_0x41ccdd,'image/jpeg',0.95),_0x522bbd=new FormData();_0x522bbd[_0x1d4f04(0xe5)]('image',_0x4c03ae),_0x522bbd[_0x1d4f04(0xe5)]('type','0'),_0x522bbd[_0x1d4f04(0xe5)](_0x1d4f04(0x133),_0x5481bc);let _0xc295f4=this[_0x1d4f04(0x104)][_0x1d4f04(0x192)]!=null?StringExtra[_0x1d4f04(0x1eb)](this[_0x1d4f04(0x104)][_0x1d4f04(0x192)]):'',_0x3e5e80=_0xc295f4+'/'+_0x1d4f04(0x11d),_0xed54f1=deepMerge({},this[_0x1d4f04(0x104)][_0x1d4f04(0xfd)]||{});fetch(_0x3e5e80,{'method':'POST','body':_0x522bbd,'headers':_0xed54f1})[_0x1d4f04(0x293)](function(_0x15ec34){const _0x1c6c41=_0x1d4f04;if(_0x15ec34['ok'])return _0x15ec34['json']();console[_0x1c6c41(0xcd)](_0x1c6c41(0x136),_0x15ec34),typeof _0x1bbcac===_0x1c6c41(0xd5)&&_0x1bbcac(null);})[_0x1d4f04(0x293)](_0x2ca28f=>{const _0x525821=_0x1d4f04;helper_logger[_0x525821(0x28e)]()[_0x525821(0x114)](_0x525821(0x1d6),_0x2ca28f);let _0xed8f6c=[];_0x2ca28f[_0x525821(0x185)]===!![]&&_0x2ca28f['data']!==undefined&&(_0xed8f6c=_0x2ca28f[_0x525821(0x230)]);if(_0xed8f6c['length']>0x0){}if(typeof _0x1bbcac===_0x525821(0xd5)){let _0x15e658=this[_0x525821(0xae)](_0xed8f6c);_0x1bbcac(_0x15e658);}})['catch'](_0x39adc4=>{const _0x4664f8=_0x1d4f04;console[_0x4664f8(0xcd)]('Error:',_0x39adc4),typeof _0x1bbcac==='function'&&_0x1bbcac(null);});}}['isReady'](){const _0x42b7ac=_0x3f2bf6;return this[_0x42b7ac(0x128)];}[_0x3f2bf6(0x14b)](_0x2003d1){const _0x38d87f=_0x3f2bf6;let _0x32a8fd={'x':0x0,'y':0x0,'w':_0x2003d1['width'],'h':_0x2003d1[_0x38d87f(0x147)]};return _0x2003d1[_0x38d87f(0x168)]>_0x2003d1[_0x38d87f(0x147)]?(_0x32a8fd['w']=_0x2003d1['height'],_0x32a8fd['x']=(_0x2003d1['width']-_0x32a8fd['w'])/0x2):(_0x32a8fd['h']=_0x2003d1[_0x38d87f(0x168)],_0x32a8fd['y']=(_0x2003d1[_0x38d87f(0x147)]-_0x32a8fd['h'])/0x2),this[_0x38d87f(0x233)]={'x':_0x2003d1[_0x38d87f(0x168)],'y':_0x2003d1[_0x38d87f(0x147)]},this[_0x38d87f(0x208)]=_0x32a8fd,ImageProcessing[_0x38d87f(0xf5)](_0x2003d1,_0x32a8fd['x'],_0x32a8fd['y'],_0x32a8fd['w'],_0x32a8fd['h'],this[_0x38d87f(0xb4)][_0x38d87f(0x168)],this['inputSize'][_0x38d87f(0x147)]);}[_0x3f2bf6(0x20b)](_0x4daa84,_0x1eef4e){const _0x361be1=_0x3f2bf6;let _0x453bff=0x1;switch(_0x1eef4e){case'x':_0x453bff=this[_0x361be1(0x208)]['w']/this[_0x361be1(0xb4)]['width'];return _0x4daa84*_0x453bff+this[_0x361be1(0x208)]['x'];case'y':_0x453bff=this['croppedSize']['h']/this[_0x361be1(0xb4)]['height'];return _0x4daa84*_0x453bff+this['croppedSize']['y'];case _0x361be1(0x168):_0x453bff=this[_0x361be1(0x208)]['w']/this[_0x361be1(0xb4)][_0x361be1(0x168)];return _0x4daa84*_0x453bff;case'height':_0x453bff=this[_0x361be1(0x208)]['h']/this[_0x361be1(0xb4)][_0x361be1(0x147)];return _0x4daa84*_0x453bff;}}[_0x3f2bf6(0xae)](_0x309b60,_0x73e1f8=![]){const _0x31a728=_0x3f2bf6;let _0x50d098=[],_0x568239=null,_0x3d6a19=![];for(let _0x4e8d82 in _0x309b60){_0x568239=_0x309b60[_0x4e8d82];_0x73e1f8&&(_0x568239[_0x31a728(0x1e3)][0x0]=this[_0x31a728(0x20b)](_0x568239[_0x31a728(0x1e3)][0x0],'x'),_0x568239[_0x31a728(0x1e3)][0x1]=this[_0x31a728(0x20b)](_0x568239[_0x31a728(0x1e3)][0x1],'y'),_0x568239[_0x31a728(0x1e3)][0x2]=this['toOriginalSize'](_0x568239[_0x31a728(0x1e3)][0x2],_0x31a728(0x168)),_0x568239[_0x31a728(0x1e3)][0x3]=this[_0x31a728(0x20b)](_0x568239['bbox'][0x3],'height'));_0x3d6a19=![];for(let _0x2278ef in _0x50d098){if(_0x50d098[_0x2278ef][_0x31a728(0x11b)]===_0x568239['class']){let _0x2e6c23=_0x50d098[_0x2278ef],_0x3766ec=_0x568239,_0x182040=0x0,_0x1d92ee=0x0;if(_0x3766ec[_0x31a728(0x1e3)][0x0]>_0x2e6c23[_0x31a728(0x1e3)][0x0]&&_0x3766ec['bbox'][0x0]<_0x2e6c23[_0x31a728(0x1e3)][0x0]+_0x2e6c23[_0x31a728(0x1e3)][0x2])_0x182040=_0x2e6c23['bbox'][0x0]+_0x2e6c23[_0x31a728(0x1e3)][0x2]-_0x3766ec[_0x31a728(0x1e3)][0x0],_0x1d92ee=_0x182040/_0x3766ec['bbox'][0x2];else _0x2e6c23[_0x31a728(0x1e3)][0x0]>_0x3766ec[_0x31a728(0x1e3)][0x0]&&_0x2e6c23[_0x31a728(0x1e3)][0x0]<_0x3766ec[_0x31a728(0x1e3)][0x0]+_0x3766ec[_0x31a728(0x1e3)][0x2]&&(_0x182040=_0x3766ec[_0x31a728(0x1e3)][0x0]+_0x3766ec[_0x31a728(0x1e3)][0x2]-_0x2e6c23['bbox'][0x0],_0x1d92ee=_0x182040/_0x2e6c23['bbox'][0x2]);let _0x15945a=0x0,_0x77928b=0x0;if(_0x3766ec['bbox'][0x1]>_0x2e6c23['bbox'][0x1]&&_0x3766ec[_0x31a728(0x1e3)][0x1]<_0x2e6c23[_0x31a728(0x1e3)][0x1]+_0x2e6c23[_0x31a728(0x1e3)][0x3])_0x15945a=_0x2e6c23[_0x31a728(0x1e3)][0x1]+_0x2e6c23[_0x31a728(0x1e3)][0x3]-_0x3766ec[_0x31a728(0x1e3)][0x1],_0x77928b=_0x182040/_0x3766ec[_0x31a728(0x1e3)][0x3];else _0x2e6c23['bbox'][0x1]>_0x3766ec[_0x31a728(0x1e3)][0x1]&&_0x2e6c23[_0x31a728(0x1e3)][0x1]<_0x3766ec[_0x31a728(0x1e3)][0x1]+_0x3766ec['bbox'][0x3]&&(_0x15945a=_0x3766ec[_0x31a728(0x1e3)][0x1]+_0x3766ec['bbox'][0x3]-_0x2e6c23['bbox'][0x1],_0x77928b=_0x182040/_0x2e6c23[_0x31a728(0x1e3)][0x3]);_0x1d92ee>0.6&&_0x77928b>0.6&&(_0x3d6a19=!![],_0x3766ec['score']>_0x2e6c23[_0x31a728(0x211)]&&(_0x50d098[_0x2278ef]=_0x568239));}}!_0x3d6a19&&_0x50d098[_0x31a728(0x10a)](_0x309b60[_0x4e8d82]);}if(this[_0x31a728(0x104)][_0x31a728(0x214)]&&_0x50d098[_0x31a728(0x216)]>0x0){let _0x5b6379=0x0,_0x3c9762=0x0;for(let _0x522450 in _0x50d098){_0x50d098[_0x522450][_0x31a728(0x211)]>_0x5b6379&&(_0x5b6379=_0x50d098[_0x522450][_0x31a728(0x211)],_0x3c9762=_0x522450);}return[_0x50d098[_0x3c9762]];}return _0x50d098;}[_0x3f2bf6(0x264)](){this['loadedTID']=null;}};class MRZReader{constructor(_0x185c46={}){const _0x835170=_0x3f2bf6;this['options']={'server':!![],'url':null,'host':null,'checkURI':null},this[_0x835170(0x104)]=deepMerge(this[_0x835170(0x104)],_0x185c46);if(this[_0x835170(0x104)][_0x835170(0x255)]==null)this[_0x835170(0x104)]['checkURI']='mrzcheck';this[_0x835170(0x128)]=![],this[_0x835170(0x1a1)]();}[_0x3f2bf6(0x1a1)](){const _0x4a42b4=_0x3f2bf6;if(!this[_0x4a42b4(0x104)][_0x4a42b4(0x1b0)]){}}[_0x3f2bf6(0xb5)](){const _0x3abb2a=_0x3f2bf6;if(this['options'][_0x3abb2a(0x1b0)])this[_0x3abb2a(0x128)]=!![];else{}}[_0x3f2bf6(0x200)](_0x50cbe2,_0x51480d,_0x21d92d){const _0x402f64=_0x3f2bf6;if(this[_0x402f64(0x104)]['server'])this[_0x402f64(0x1c8)](_0x50cbe2,_0x51480d,_0x21d92d);else{}}['recognizeGlobal'](_0x231952,_0x3c0009,_0x3ee796){const _0x5d8de4=_0x3f2bf6;let _0x41db83=ImageProcessing['canvasToBase64'](_0x231952,'image/jpeg',0.9),_0x562cbb=new FormData();_0x562cbb['append']('image',_0x41db83),_0x562cbb[_0x5d8de4(0xe5)](_0x5d8de4(0x133),_0x3c0009);let _0x4a3ebe=this[_0x5d8de4(0x104)][_0x5d8de4(0x192)]!=null?StringExtra[_0x5d8de4(0x1eb)](this['options'][_0x5d8de4(0x192)]):'',_0xcae8a7=this[_0x5d8de4(0x104)][_0x5d8de4(0x281)]!=null?this[_0x5d8de4(0x104)][_0x5d8de4(0x281)]:_0x4a3ebe+'/'+this[_0x5d8de4(0x104)][_0x5d8de4(0x255)];fetch(_0xcae8a7,{'method':'POST','body':_0x562cbb})[_0x5d8de4(0x293)](_0xbf6fbb=>_0xbf6fbb['json']())[_0x5d8de4(0x293)](_0x4fccdc=>{const _0x25703b=_0x5d8de4;helper_logger[_0x25703b(0x28e)]()[_0x25703b(0x114)](_0x25703b(0x1d6),_0x4fccdc);let _0x3a064f=MRZReader['parseObject'](_0x4fccdc[_0x25703b(0x230)]);_0x4fccdc[_0x25703b(0x185)]===![]&&(_0x3a064f['type']=null),typeof _0x3ee796===_0x25703b(0xd5)&&_0x3ee796(_0x3a064f);})[_0x5d8de4(0x231)](_0x14f2f0=>{const _0x442717=_0x5d8de4;console[_0x442717(0xcd)](_0x442717(0x136),_0x14f2f0),typeof _0x3ee796===_0x442717(0xd5)&&_0x3ee796(null);});}[_0x3f2bf6(0x16f)](_0xbe1962,_0x5c4131){}['parse'](_0x10242d){const _0x3f8ce1=_0x3f2bf6;let _0x4559de={'type':null,'text':_0x10242d,'object':null};if(_0x4559de['count']>0x4b){const _0x3893e5=_0x10242d[_0x3f8ce1(0x28d)](0x0,0x3);if(_0x3893e5['includes']('I<')||_0x3893e5['includes']('1<'))_0x4559de[_0x3f8ce1(0x23d)]='I';else(_0x3893e5[_0x3f8ce1(0x27d)]('P<')||_0x3893e5[_0x3f8ce1(0x27d)]('PC'))&&(_0x4559de[_0x3f8ce1(0x23d)]='P');}return _0x4559de;}static[_0x3f2bf6(0xc6)](_0xc5f53c){const _0x56a2f2=_0x3f2bf6;let _0x4a519c={'type':null,'text':_0xc5f53c['Lines'][_0x56a2f2(0x22e)](''),'object':_0xc5f53c};if(_0x4a519c[_0x56a2f2(0x239)][_0x56a2f2(0x216)]>0x4b){const _0x19cea5=_0xc5f53c['Type'];if(_0x19cea5['includes']('I<')||_0x19cea5[_0x56a2f2(0x27d)]('1<'))_0x4a519c[_0x56a2f2(0x23d)]='I';else(_0x19cea5[_0x56a2f2(0x27d)]('P<')||_0x19cea5[_0x56a2f2(0x27d)]('PC'))&&(_0x4a519c[_0x56a2f2(0x23d)]='P');}return _0x4a519c;}};const DCScanError={'NO_CARD':'nocard','MANY_CARDS':_0x3f2bf6(0x13e),'LOW_LIGHT':_0x3f2bf6(0x131),'HIGH_LIGHT':_0x3f2bf6(0x186),'TOO_SMALL':_0x3f2bf6(0x137)},DCScanDocType={'NONE':_0x3f2bf6(0x194),'ID':'id','PASSPORT':'passport'},DCScanDocFaces={'NONE':_0x3f2bf6(0x194),'ID_FRONT':_0x3f2bf6(0x26a),'ID_BACK':'id_back','PASS_FRONT':_0x3f2bf6(0x205)},DCScanCommand={'NONE':_0x3f2bf6(0x194),'SHOW':'show','ID_BACK':_0x3f2bf6(0xce),'FINISH':_0x3f2bf6(0xdd)},DCScanSteps={'NONE':_0x3f2bf6(0x194),'SCANNING':'scanning','FINISH':_0x3f2bf6(0xdd)};class ScanAnalyser{constructor(_0x397cab,_0x50884b={}){const _0xc28eec=_0x3f2bf6;this[_0xc28eec(0x1a3)]=_0x397cab,this[_0xc28eec(0x104)]={'host':null,'headers':null,'mrzOptions':null,'detector':null,'video':null,'area':{'x':0x0,'y':0x0,'width':0x0,'height':0x0},'detectTime':0x64,'useServerSide':null,'onCardDetected':null,'onFaceDetected':null,'onMRZDetected':null,'onDetected':null,'onError':null,'onFinished':null,'onCommand':null,'onCommandResult':null,'onStepChanged':null,'mirrored':!![],'delay':0x1f4,'serverDelay':0x1f4,'cardMinSize':{'width':0x46,'height':0x37}},this[_0xc28eec(0x104)]=deepMerge(this[_0xc28eec(0x104)],_0x50884b),this[_0xc28eec(0xaa)]=null,this[_0xc28eec(0x1e6)]=![],this[_0xc28eec(0x22d)]=null,this[_0xc28eec(0x177)]=DCScanSteps[_0xc28eec(0x24d)],this[_0xc28eec(0x271)]=null,this[_0xc28eec(0x17e)]={},this[_0xc28eec(0x193)]={},this['curFrame']=null,this[_0xc28eec(0xac)]=null,this[_0xc28eec(0xf8)]=null,this[_0xc28eec(0x183)]=null,this[_0xc28eec(0x202)]=null,this[_0xc28eec(0x241)]=this[_0xc28eec(0x104)][_0xc28eec(0x241)],this[_0xc28eec(0x143)]=null,this['options'][_0xc28eec(0x1de)]&&(this['delay']=this[_0xc28eec(0x104)][_0xc28eec(0x247)]),this[_0xc28eec(0x288)]=new CardDetector({'mirrored':this['options'][_0xc28eec(0x101)],'single':!![],'serverSide':this[_0xc28eec(0x104)]['useServerSide'],'host':this[_0xc28eec(0x104)]['host'],'headers':this[_0xc28eec(0x104)]['headers']}),this[_0xc28eec(0x1f2)]=new MRZReader({'host':this[_0xc28eec(0x104)]['host'],'url':this[_0xc28eec(0x104)][_0xc28eec(0x290)]?this[_0xc28eec(0x104)]['mrzOptions']['url']||null:null}),this['cc']=null,this[_0xc28eec(0x264)](),!this[_0xc28eec(0x104)][_0xc28eec(0x1de)]&&this[_0xc28eec(0xff)]();}['init'](){const _0x4c3e3b=_0x3f2bf6;this[_0x4c3e3b(0x288)]['load'](),this['mrz'][_0x4c3e3b(0xb5)](),this[_0x4c3e3b(0xaa)]!=null&&ImageProcessing['getImageFromURL']('/img/face.jpg')[_0x4c3e3b(0x293)](_0x41dd2a=>{const _0x4b1953=_0x4c3e3b;this['stream'][_0x4b1953(0x14f)](_0x4b1953(0xc7),_0x41dd2a);});}[_0x3f2bf6(0xff)](){const _0x8b935d=_0x3f2bf6;this[_0x8b935d(0xaa)]=stream[_0x8b935d(0x1cf)](_0x8b935d(0xba)),this[_0x8b935d(0xaa)]['on'](_0x8b935d(0x234),_0x16ccae=>{const _0x53e044=_0x8b935d;helper_logger['getInstance']()[_0x53e044(0x114)](_0x53e044(0x15b),_0x16ccae),this[_0x53e044(0x177)]===DCScanSteps[_0x53e044(0x126)]&&this['curScan']!=null&&this[_0x53e044(0xec)](_0x16ccae);});}[_0x3f2bf6(0x28a)](_0x206502,_0x2ab076){const _0x5d5a5e=_0x3f2bf6;this[_0x5d5a5e(0x288)][_0x5d5a5e(0xfe)]()&&this[_0x5d5a5e(0x288)][_0x5d5a5e(0xa7)](_0x206502,_0x364b0b=>{const _0x24a4b2=_0x5d5a5e;typeof _0x2ab076===_0x24a4b2(0xd5)&&_0x2ab076(_0x364b0b);});}[_0x3f2bf6(0x297)](){const _0x1d09f1=_0x3f2bf6;if(!this[_0x1d09f1(0x288)][_0x1d09f1(0xfe)]()||this[_0x1d09f1(0x143)]==null)return;else{let _0xba92a4=new Date()['getTime']();if(this[_0x1d09f1(0x177)]===DCScanSteps[_0x1d09f1(0x24d)]&&_0xba92a4-this[_0x1d09f1(0x183)]>0x3e8)this[_0x1d09f1(0x177)]=DCScanSteps[_0x1d09f1(0x126)],this[_0x1d09f1(0x1ed)](DCScanCommand[_0x1d09f1(0x179)]);else{if(this[_0x1d09f1(0x177)]===DCScanSteps['NONE'])return;else{if(this[_0x1d09f1(0x177)]===DCScanCommand['FINISH']){this[_0x1d09f1(0x202)]!=null&&_0xba92a4-this[_0x1d09f1(0x202)]>0x7d0&&(this[_0x1d09f1(0xdd)](),this[_0x1d09f1(0x202)]=null);return;}}}}!this['detectionLocked']&&(this['curScan']=null,this['scanned']={'card':![],'face':![],'mrz':![]},this[_0x1d09f1(0x1e6)]=!![],this['actualCanvas']=this[_0x1d09f1(0x1a3)],this[_0x1d09f1(0x170)]=ImageProcessing['canvasToImageData'](this[_0x1d09f1(0xac)]),this[_0x1d09f1(0x288)][_0x1d09f1(0xa7)](this['actualCanvas'],this[_0x1d09f1(0x143)],_0x19cddf=>{const _0x1a9d23=_0x1d09f1;this[_0x1a9d23(0x160)](_0x19cddf);}));}[_0x3f2bf6(0x160)](_0x1f6398){const _0x560567=_0x3f2bf6;let _0x53e0fb=_0x1f6398!=null&&_0x1f6398[_0x560567(0x216)]>0x0?_0x1f6398[0x0]:null,_0x153386=null;this['scanned'][_0x560567(0x17b)]=!![];let _0x3f4fbd=_0x53e0fb!=null?this['checkSize'](_0x53e0fb[_0x560567(0x1e3)]):![];_0x53e0fb!=null&&!_0x3f4fbd&&this[_0x560567(0x225)](DCScanError[_0x560567(0x206)]);if(_0x53e0fb!=null&&_0x3f4fbd===!![]){helper_logger[_0x560567(0x28e)]()[_0x560567(0x114)](_0x560567(0x132),_0x1f6398);let _0x42f9dd={'docType':this[_0x560567(0x209)](_0x53e0fb[_0x560567(0x11b)]),'docFace':this[_0x560567(0x261)](_0x53e0fb[_0x560567(0x11b)]),'card':_0x53e0fb,'face':null,'mrz':null,'image':null};this[_0x560567(0x271)]=_0x42f9dd;let _0x105540=ImageProcessing[_0x560567(0x171)](this[_0x560567(0x170)]);_0x153386=ImageProcessing[_0x560567(0x20a)](_0x105540,_0x53e0fb[_0x560567(0x1e3)][0x0],_0x53e0fb[_0x560567(0x1e3)][0x1],_0x53e0fb[_0x560567(0x1e3)][0x2],_0x53e0fb[_0x560567(0x1e3)][0x3]),_0x42f9dd[_0x560567(0x201)]=_0x153386[_0x560567(0x118)](_0x560567(0x1f6),0.9),this[_0x560567(0xf8)]=_0x153386;if(this[_0x560567(0x193)][_0x560567(0x119)]['length']===0x0&&(_0x42f9dd['docFace']===DCScanDocFaces[_0x560567(0x190)]||_0x42f9dd[_0x560567(0x1f8)]===DCScanDocFaces['PASS_FRONT'])){_0x53e0fb[_0x560567(0x15c)]===undefined||_0x53e0fb['face']==null?this[_0x560567(0xaa)][_0x560567(0x14f)](_0x560567(0xc7),_0x153386):this[_0x560567(0xec)]([_0x53e0fb['face']]);if(_0x42f9dd[_0x560567(0x1f8)]===DCScanDocFaces[_0x560567(0x122)]){let _0x1c62d3=_0x153386[_0x560567(0x147)]*0.7,_0x2e0651=ImageProcessing[_0x560567(0x20a)](_0x153386,0x0,_0x1c62d3,_0x153386[_0x560567(0x168)],_0x153386[_0x560567(0x147)]-_0x1c62d3);if(_0x53e0fb['mrz']===undefined||_0x53e0fb[_0x560567(0x1f2)]==null){let _0x450d90=ImageProcessing[_0x560567(0x279)](_0x2e0651);_0x450d90>0x5?this[_0x560567(0x1f2)]['recognize'](_0x2e0651,this[_0x560567(0x143)],_0x1429b5=>{this['onMRZDetected'](_0x1429b5);}):this['unlock'](this[_0x560567(0x241)]);}else this[_0x560567(0x21e)](_0x53e0fb[_0x560567(0x1f2)]);}else this[_0x560567(0x17e)][_0x560567(0x1f2)]=!![];}else{if(this['result'][_0x560567(0x119)]['length']>0x0&&this[_0x560567(0x193)][_0x560567(0x151)]===DCScanDocType['ID']&&_0x42f9dd[_0x560567(0x1f8)]===DCScanDocFaces[_0x560567(0x1da)]){let _0x58c981=_0x153386['height']*0.6,_0x48ed3b=ImageProcessing[_0x560567(0x20a)](_0x153386,0x0,_0x58c981,_0x153386['width'],_0x153386[_0x560567(0x147)]-_0x58c981);if(_0x53e0fb[_0x560567(0x1f2)]===undefined||_0x53e0fb[_0x560567(0x1f2)]==null){let _0x4f4901=ImageProcessing['getLaplacianVariance'](_0x48ed3b,0xa);_0x4f4901>0xa?this[_0x560567(0x1f2)][_0x560567(0x200)](_0x48ed3b,this[_0x560567(0x143)],_0x5b9a3e=>{const _0xc30d85=_0x560567;this[_0xc30d85(0x21e)](_0x5b9a3e);}):this[_0x560567(0xd4)](this[_0x560567(0x241)]);}else this['onMRZDetected'](_0x53e0fb[_0x560567(0x1f2)]);this[_0x560567(0x17e)][_0x560567(0x15c)]=!![];}else this[_0x560567(0xd4)](this['delay']);}this[_0x560567(0x25a)](_0x1f6398),this[_0x560567(0x111)]();}else this[_0x560567(0x25a)]([]),this[_0x560567(0x165)]([]),this[_0x560567(0xd4)](this[_0x560567(0x241)]);}[_0x3f2bf6(0x18d)](_0x284ae5){const _0x12cdcc=_0x3f2bf6;let _0x50645c=this[_0x12cdcc(0xac)][_0x12cdcc(0x168)],_0x326496=this[_0x12cdcc(0xac)][_0x12cdcc(0x147)],_0x1de269=this[_0x12cdcc(0x104)][_0x12cdcc(0x129)];if(_0x284ae5!=null&&_0x284ae5['length']>=0x4){if(_0x284ae5[0x2]/_0x50645c*0x64>_0x1de269['width']||_0x284ae5[0x3]/_0x326496*0x64>_0x1de269[_0x12cdcc(0x147)])return!![];}return![];}[_0x3f2bf6(0xec)](_0x363a20){const _0x2f323f=_0x3f2bf6;helper_logger['getInstance']()[_0x2f323f(0x114)](_0x2f323f(0xec),_0x363a20),this[_0x2f323f(0x17e)][_0x2f323f(0x15c)]=!![];if(this[_0x2f323f(0x271)]!=null){this['curScan'][_0x2f323f(0x15c)]=null;if(_0x363a20[_0x2f323f(0x216)]>0x0){let _0x248598=ImageProcessing[_0x2f323f(0x20a)](this[_0x2f323f(0xf8)],_0x363a20[0x0]['x'],_0x363a20[0x0]['y'],_0x363a20[0x0]['width'],_0x363a20[0x0][_0x2f323f(0x147)]),_0x373808=ImageProcessing[_0x2f323f(0x279)](_0x248598,0xa);helper_logger['getInstance']()['log']('face\x20laplacian',_0x373808),_0x373808>0xa&&(this['curScan'][_0x2f323f(0x15c)]=_0x363a20);}typeof this[_0x2f323f(0x104)][_0x2f323f(0xec)]==='function'&&this[_0x2f323f(0x104)][_0x2f323f(0xec)](_0x363a20),this['checkScanResult']();}}[_0x3f2bf6(0x21e)](_0x197fbc){const _0x4996f9=_0x3f2bf6;helper_logger[_0x4996f9(0x28e)]()[_0x4996f9(0x114)](_0x4996f9(0x21e),_0x197fbc),this[_0x4996f9(0x17e)][_0x4996f9(0x1f2)]=!![];if(this[_0x4996f9(0x271)]==null)return;if(_0x197fbc!=null&&_0x197fbc[_0x4996f9(0xbe)]!=null&&_0x197fbc[_0x4996f9(0xbe)][_0x4996f9(0x191)]===!![])this[_0x4996f9(0x271)][_0x4996f9(0x1f2)]=_0x197fbc;else _0x197fbc!=null&&_0x197fbc[_0x4996f9(0x191)]===!![]?this['curScan'][_0x4996f9(0x1f2)]=MRZReader['parseObject'](_0x197fbc):this[_0x4996f9(0x271)][_0x4996f9(0x1f2)]=null;typeof this[_0x4996f9(0x104)][_0x4996f9(0x21e)]==='function'&&this['options']['onMRZDetected'](_0x197fbc),this['checkScanResult']();}['checkScanResult'](){const _0x37b3d4=_0x3f2bf6;if(!this['isAllScanned']())return;let _0x234c0b=this['curScan'],_0xaac331=![];if(this[_0x37b3d4(0x193)][_0x37b3d4(0x119)]['length']===0x0&&(_0x234c0b['docFace']===DCScanDocFaces[_0x37b3d4(0x190)]||_0x234c0b['docFace']===DCScanDocFaces[_0x37b3d4(0x122)]))_0x234c0b[_0x37b3d4(0x1f8)]===DCScanDocFaces[_0x37b3d4(0x190)]?_0x234c0b['card']!=null&&_0x234c0b[_0x37b3d4(0x15c)]!=null&&_0x234c0b['face'][_0x37b3d4(0x216)]===0x1&&(this[_0x37b3d4(0x193)][_0x37b3d4(0x119)]['push'](_0x234c0b),this[_0x37b3d4(0x193)][_0x37b3d4(0x151)]=DCScanDocType['ID'],this[_0x37b3d4(0x193)][_0x37b3d4(0x113)]=![],this['callDetectedEvent'](this[_0x37b3d4(0x271)]),this[_0x37b3d4(0x1ed)](DCScanCommand[_0x37b3d4(0x1da)]),_0xaac331=!![],this['unlock'](this[_0x37b3d4(0x241)])):_0x234c0b['card']!=null&&_0x234c0b[_0x37b3d4(0x15c)]!=null&&_0x234c0b['mrz']!=null&&_0x234c0b[_0x37b3d4(0x1f2)][_0x37b3d4(0x23d)]!=null&&(this['result'][_0x37b3d4(0x119)][_0x37b3d4(0x10a)](_0x234c0b),this[_0x37b3d4(0x193)][_0x37b3d4(0x151)]=DCScanDocType[_0x37b3d4(0x161)],this[_0x37b3d4(0x193)][_0x37b3d4(0x113)]=!![],this[_0x37b3d4(0x165)](this[_0x37b3d4(0x271)]),this[_0x37b3d4(0x159)](DCScanSteps[_0x37b3d4(0x1ca)]),this[_0x37b3d4(0x202)]=new Date()[_0x37b3d4(0x287)](),_0xaac331=!![]);else this[_0x37b3d4(0x193)]['scans'][_0x37b3d4(0x216)]===0x1&&this['result'][_0x37b3d4(0x151)]===DCScanDocType['ID']&&_0x234c0b['docFace']===DCScanDocFaces[_0x37b3d4(0x1da)]&&(_0x234c0b[_0x37b3d4(0x17b)]!=null&&_0x234c0b[_0x37b3d4(0x1f2)]!=null&&_0x234c0b['mrz'][_0x37b3d4(0x23d)]!=null&&(this[_0x37b3d4(0x193)][_0x37b3d4(0x119)][_0x37b3d4(0x10a)](_0x234c0b),this[_0x37b3d4(0x193)]['status']=!![],this[_0x37b3d4(0x165)](this[_0x37b3d4(0x271)]),this[_0x37b3d4(0x159)](DCScanSteps[_0x37b3d4(0x1ca)]),this[_0x37b3d4(0x202)]=new Date()['getTime'](),_0xaac331=!![]));!_0xaac331&&this[_0x37b3d4(0x17e)][_0x37b3d4(0x17b)]&&this[_0x37b3d4(0x17e)][_0x37b3d4(0x15c)]&&this[_0x37b3d4(0x17e)][_0x37b3d4(0x1f2)]&&this[_0x37b3d4(0xd4)](this[_0x37b3d4(0x241)]);}[_0x3f2bf6(0xe9)](){const _0x2f7d70=_0x3f2bf6;for(let _0x4be0e1 in this[_0x2f7d70(0x17e)]){if(this[_0x2f7d70(0x17e)][_0x4be0e1]!==!![])return![];}return!![];}[_0x3f2bf6(0x159)](_0x5b84f7){const _0x195705=_0x3f2bf6;this[_0x195705(0x177)]!==_0x5b84f7&&(this['step']=_0x5b84f7,typeof this[_0x195705(0x104)][_0x195705(0x106)]==_0x195705(0xd5)&&this['options']['onStepChanged'](_0x5b84f7));}[_0x3f2bf6(0x25a)](_0x226f5a){const _0x35c488=_0x3f2bf6;_0x226f5a!==null&&typeof this[_0x35c488(0x104)][_0x35c488(0x160)]===_0x35c488(0xd5)&&this['options']['onCardDetected'](_0x226f5a);}[_0x3f2bf6(0x165)](_0x13e518){const _0x12fe63=_0x3f2bf6;typeof this[_0x12fe63(0x104)]['onDetected']===_0x12fe63(0xd5)&&this['options'][_0x12fe63(0x12c)](_0x13e518);}[_0x3f2bf6(0x225)](_0x3ba7f9){const _0x5dd0e5=_0x3f2bf6;typeof this['options'][_0x5dd0e5(0x1e4)]==='function'&&this[_0x5dd0e5(0x104)][_0x5dd0e5(0x1e4)](_0x3ba7f9);}[_0x3f2bf6(0x28f)](){return this['step'];}[_0x3f2bf6(0xd4)](_0x5003e9=null){const _0x2aedd3=_0x3f2bf6;_0x5003e9=_0x5003e9==null?this[_0x2aedd3(0x241)]:_0x5003e9,clearTimeout(this[_0x2aedd3(0x22d)]),this['timeID']=setTimeout(()=>{const _0x3a1718=_0x2aedd3;this[_0x3a1718(0x1e6)]=![];},_0x5003e9);}[_0x3f2bf6(0x264)](){const _0x18b6eb=_0x3f2bf6;this[_0x18b6eb(0x177)]=DCScanCommand[_0x18b6eb(0x24d)],this[_0x18b6eb(0x193)]={'status':![],'docType':DCScanDocType[_0x18b6eb(0x24d)],'scans':[],'tID':null},this['curScan']=null,this[_0x18b6eb(0x17e)]={},this[_0x18b6eb(0x1e6)]=![],this[_0x18b6eb(0xf8)]=null,this[_0x18b6eb(0x143)]=null,this[_0x18b6eb(0x288)]['reset']();}['start'](){const _0x193b88=_0x3f2bf6;this[_0x193b88(0x177)]=DCScanSteps[_0x193b88(0x24d)],this[_0x193b88(0x1ed)](DCScanCommand[_0x193b88(0x24d)]),this[_0x193b88(0x183)]=new Date()['getTime'](),!this[_0x193b88(0x288)][_0x193b88(0x104)][_0x193b88(0x24a)]?(this[_0x193b88(0x143)]=String(this[_0x193b88(0x183)]+Math[_0x193b88(0xe7)](Math[_0x193b88(0x11a)]()*0x186a0)),this['result'][_0x193b88(0x143)]=this['tID']):this['detector'][_0x193b88(0xd2)]((_0x5a1269,_0x316b48)=>{const _0x3ffb38=_0x193b88;this[_0x3ffb38(0x143)]=_0x316b48,this[_0x3ffb38(0x193)]['tID']=this['tID'];});}['finish'](){const _0x5a9085=_0x3f2bf6;this[_0x5a9085(0x1ed)](DCScanCommand[_0x5a9085(0x1ca)]),typeof this[_0x5a9085(0x104)][_0x5a9085(0x24c)]===_0x5a9085(0xd5)&&this[_0x5a9085(0x104)]['onFinished'](this['result']);}[_0x3f2bf6(0x1ed)](_0x843d95){const _0x54ba7e=_0x3f2bf6;typeof this[_0x54ba7e(0x104)][_0x54ba7e(0x17d)]===_0x54ba7e(0xd5)&&this[_0x54ba7e(0x104)]['onCommand'](_0x843d95);}['defineScanType'](_0x37a956){const _0x5b8e39=_0x3f2bf6;switch(_0x37a956){case'id_front':case _0x5b8e39(0xce):return DCScanDocType['ID'];case'pass_main':case _0x5b8e39(0x274):return DCScanDocType['PASSPORT'];default:return DCScanDocType[_0x5b8e39(0x24d)];}}[_0x3f2bf6(0x261)](_0x2e393c){const _0x5e6604=_0x3f2bf6;switch(_0x2e393c){case'id_front':return DCScanDocFaces[_0x5e6604(0x190)];case _0x5e6604(0xce):return DCScanDocFaces[_0x5e6604(0x1da)];case _0x5e6604(0x100):case _0x5e6604(0x274):return DCScanDocFaces[_0x5e6604(0x122)];default:return DCScanDocFaces[_0x5e6604(0x24d)];}}[_0x3f2bf6(0x120)](){return this['step'];}};class vislayer_VisualLayer{constructor(_0x3dfb75,_0x224d18={}){const _0x55afc0=_0x3f2bf6;this[_0x55afc0(0x1a3)]=_0x3dfb75,this[_0x55afc0(0x104)]={'srcDim':{'k':0x1,'dx':0x0,'dy':0x0,'dw':0x0,'dh':0x0},'mirrored':!![],'areaColor':_0x55afc0(0x13d),'areaOpacity':0.5,'showArea':!![],'showDetectors':!![]},this[_0x55afc0(0x104)]=deepMerge(this[_0x55afc0(0x104)],_0x224d18),this['cc']=new CoordConverter(this[_0x55afc0(0x104)][_0x55afc0(0x135)]);}[_0x3f2bf6(0x1a5)](_0x47cb9c,_0x1412b3,_0x31690d){}[_0x3f2bf6(0x1c9)](){}[_0x3f2bf6(0x1c2)](_0x45a4eb){const _0x3fe1e7=_0x3f2bf6;if(!this[_0x3fe1e7(0x104)][_0x3fe1e7(0xcc)])return;let _0x48a5fe=_0x45a4eb['width']+0x14,_0x23e8e8=_0x45a4eb[_0x3fe1e7(0x147)]+0x14,_0xdd8aa3=(this['canvas'][_0x3fe1e7(0x168)]-_0x48a5fe*this[_0x3fe1e7(0x1a3)][_0x3fe1e7(0x168)]/0x64)/0x2,_0x5ac966=(this[_0x3fe1e7(0x1a3)]['height']-_0x23e8e8*this[_0x3fe1e7(0x1a3)][_0x3fe1e7(0x147)]/0x64)/0x2,_0x4db352=this[_0x3fe1e7(0x1a3)]['getContext']('2d');_0x4db352[_0x3fe1e7(0x162)](),_0x4db352['beginPath'](),_0x4db352[_0x3fe1e7(0xfb)]=0x3;let _0x4f8819=parseInt(this[_0x3fe1e7(0x104)][_0x3fe1e7(0x24b)][_0x3fe1e7(0x252)](0x1,0x2),0x10),_0x5769b8=parseInt(this['options'][_0x3fe1e7(0x24b)][_0x3fe1e7(0x252)](0x3,0x2),0x10),_0x4f40e4=parseInt(this[_0x3fe1e7(0x104)][_0x3fe1e7(0x24b)][_0x3fe1e7(0x252)](0x5,0x2),0x10);_0x4db352[_0x3fe1e7(0x1a4)]=_0x3fe1e7(0xd6)+_0x4f8819+',\x20'+_0x5769b8+',\x20'+_0x4f40e4+',\x20'+this[_0x3fe1e7(0x104)]['areaOpacity']+')',_0x4db352[_0x3fe1e7(0x1a6)](_0xdd8aa3,_0x5ac966,this[_0x3fe1e7(0x1a3)][_0x3fe1e7(0x168)]-_0xdd8aa3*0x2,this['canvas'][_0x3fe1e7(0x147)]-_0x5ac966*0x2),_0x4db352[_0x3fe1e7(0x26b)](),_0x4db352[_0x3fe1e7(0x28c)](),_0x4db352[_0x3fe1e7(0x11c)]();}[_0x3f2bf6(0x163)](_0x177a9f,_0x4ad458=_0x3f2bf6(0x295),_0x1322a6=''){const _0x57aa6a=_0x3f2bf6;if(!this[_0x57aa6a(0x104)][_0x57aa6a(0x188)])return;let _0x554f88=this['canvas'][_0x57aa6a(0xb0)]('2d'),_0x30d418=null,_0x540bb0=null,_0xdaa84a=null;for(let _0x11515b in _0x177a9f){_0xdaa84a=_0x177a9f[_0x11515b],this['options'][_0x57aa6a(0x101)]?_0x30d418=this[_0x57aa6a(0x1a3)][_0x57aa6a(0x168)]-this['cc'][_0x57aa6a(0xc3)](_0xdaa84a['bbox'][0x0])-this['cc'][_0x57aa6a(0x140)](_0xdaa84a[_0x57aa6a(0x1e3)][0x2]):_0x30d418=this['cc']['getCoordX'](_0xdaa84a['bbox'][0x0]),_0x540bb0=this['cc'][_0x57aa6a(0xf2)](_0xdaa84a[_0x57aa6a(0x1e3)][0x1]),_0x554f88[_0x57aa6a(0x105)](),_0x554f88['lineWidth']='2',_0x554f88[_0x57aa6a(0x1a4)]=_0x4ad458,_0x554f88['rect'](_0x30d418,_0x540bb0,this['cc'][_0x57aa6a(0x140)](_0xdaa84a[_0x57aa6a(0x1e3)][0x2]),this['cc'][_0x57aa6a(0x140)](_0xdaa84a[_0x57aa6a(0x1e3)][0x3])),_0x554f88[_0x57aa6a(0x26b)](),_0x554f88[_0x57aa6a(0xfb)]='0',_0x554f88[_0x57aa6a(0xf1)]=_0x4ad458,_0x554f88[_0x57aa6a(0x18c)](_0x30d418-0x1,_0x540bb0-0x14,0x96,0x14),_0x554f88[_0x57aa6a(0x15d)]=_0x57aa6a(0x150),_0x554f88[_0x57aa6a(0xf1)]='white',_0x554f88[_0x57aa6a(0x249)]=_0x57aa6a(0x173),_0x554f88['fillText'](_0xdaa84a[_0x57aa6a(0x11b)]+'\x20'+Number(_0xdaa84a[_0x57aa6a(0x211)])[_0x57aa6a(0x180)](0x2),_0x30d418+0x5,_0x540bb0-0x5),_0x554f88[_0x57aa6a(0x26b)](),_0x554f88[_0x57aa6a(0x15d)]='20px\x20Arial',_0x554f88[_0x57aa6a(0xf1)]=_0x4ad458,_0x554f88[_0x57aa6a(0x249)]='center',_0x554f88[_0x57aa6a(0x18b)](_0x1322a6,_0x30d418+this['cc']['getSize'](_0xdaa84a[_0x57aa6a(0x1e3)][0x2])/0x2,_0x540bb0+this['cc'][_0x57aa6a(0x140)](_0xdaa84a[_0x57aa6a(0x1e3)][0x3])/0x2),_0x554f88['closePath']();}_0x554f88[_0x57aa6a(0x11c)]();}};class ScanWebWorker{constructor(_0x1863a3={}){const _0x399d30=_0x3f2bf6;this['worker']=null,this[_0x399d30(0xaa)]=null,this[_0x399d30(0x104)]={'path':null},this[_0x399d30(0x104)]=deepMerge(this[_0x399d30(0x104)],_0x1863a3),this[_0x399d30(0x1a1)]();}[_0x3f2bf6(0x1a1)](){const _0x196f6c=_0x3f2bf6;this[_0x196f6c(0xaa)]=stream[_0x196f6c(0x1cf)](_0x196f6c(0x13c)),this[_0x196f6c(0xaa)]['on'](_0x196f6c(0xc2),this[_0x196f6c(0xc2)]['bind'](this)),this[_0x196f6c(0xaa)]['on']('getCard',this[_0x196f6c(0x16b)][_0x196f6c(0x164)](this)),window['Worker']&&this[_0x196f6c(0x104)]['path']!=null?(this[_0x196f6c(0xba)]=new Worker(this[_0x196f6c(0x104)][_0x196f6c(0x1a9)]),this[_0x196f6c(0xba)]['onmessage']=this[_0x196f6c(0x153)][_0x196f6c(0x164)](this)):helper_logger[_0x196f6c(0x28e)]()[_0x196f6c(0x114)]('Your\x20browser\x20doesn\x27t\x20support\x20web\x20workers.');}[_0x3f2bf6(0x16b)](_0xae10b){const _0x227c1c=_0x3f2bf6;let _0x25420e=null;if(_0xae10b instanceof HTMLCanvasElement)_0x25420e=ImageProcessing[_0x227c1c(0x248)](_0xae10b);else _0xae10b instanceof HTMLImageElement&&(_0x25420e=ImageProcessing[_0x227c1c(0x26d)](_0xae10b));this[_0x227c1c(0xba)][_0x227c1c(0x226)]({'type':_0x227c1c(0xfc),'action':_0x227c1c(0x16b),'data':_0x25420e});}[_0x3f2bf6(0xc2)](){const _0x28de8f=_0x3f2bf6;this[_0x28de8f(0xba)][_0x28de8f(0x226)]({'type':_0x28de8f(0xfc),'action':_0x28de8f(0xc2)});}[_0x3f2bf6(0x153)](_0x5e5fde){const _0x288700=_0x3f2bf6;let _0x42cbf0=_0x5e5fde['data'][_0x288700(0x23d)],_0x2208d6=_0x5e5fde['data'][_0x288700(0x1f0)],_0x23ddb3=_0x5e5fde['data'][_0x288700(0x230)];switch(_0x42cbf0){case _0x288700(0xfc):this[_0x288700(0xaa)]['notify'](_0x288700(0x219),_0x23ddb3);break;case'scanLoaded':this['stream'][_0x288700(0x14f)](_0x288700(0x1aa),_0x23ddb3);break;default:break;}}};class DeepScanner{constructor(_0x24f2bf,_0x3c8a48={}){const _0x402074=_0x3f2bf6;this[_0x402074(0x1b8)]=null,this['canvas']=null,this['camera']=null,this['state']={'start':![],'detectInit':![],'analyzeAfterOpen':![]},this[_0x402074(0xba)]=null,this[_0x402074(0x104)]={'url':null,'headers':null,'src':null,'sourceType':null,'width':0x780,'height':0x438,'onInit':null,'onFrameCaptured':null,'onCardDetected':null,'onDetected':null,'onCommand':null,'sessionTime':0xea60,'detectTime':0x64,'onFinished':null,'mirrored':!![],'scan_worker_path':_0x402074(0x286),'face_worker_path':'js/deeptinyfaceworker.min.js','testURL':null,'mrzOptions':null,'useServerSide':null,'serverRequestDelay':0x1f4,'detector':{},'camera':{'fillOnMobile':!![],'fill':!![],'cutEdge':!![]},'visual':{'areaColor':_0x402074(0x13d),'showArea':!![],'showDetectors':!![]}},this['analizer']=null,this[_0x402074(0x1f4)]=null,this[_0x402074(0xbb)]=null,this[_0x402074(0x1a7)]=null,this[_0x402074(0xb3)]=null,this[_0x402074(0x1ba)]=null,this[_0x402074(0xcb)]=null,this[_0x402074(0x1bd)]=null,this[_0x402074(0x258)]=DCScanCommand[_0x402074(0x24d)],this['lastResult']=null,this[_0x402074(0x1ab)]=0x0,this[_0x402074(0x104)]=deepMerge(this[_0x402074(0x104)],_0x3c8a48),(this['options'][_0x402074(0x1de)]==null&&OSPlus[_0x402074(0x238)]()||OSPlus[_0x402074(0x10d)]())&&(this['options'][_0x402074(0x1de)]=!![]),this[_0x402074(0x15e)](_0x24f2bf),this['setup']();}[_0x3f2bf6(0x15e)](_0x3bb727){const _0x32fbc0=_0x3f2bf6;this['camera']=new camera(_0x3bb727,{'src':this[_0x32fbc0(0x104)][_0x32fbc0(0x21d)],'width':this[_0x32fbc0(0x104)][_0x32fbc0(0x168)],'height':this['options'][_0x32fbc0(0x147)],'fill':this[_0x32fbc0(0x104)][_0x32fbc0(0x237)][_0x32fbc0(0x178)],'fillOnMobile':this['options'][_0x32fbc0(0x237)][_0x32fbc0(0x1d4)],'cutEdge':this[_0x32fbc0(0x104)][_0x32fbc0(0x237)][_0x32fbc0(0x24f)],'onFrameUpdated':this[_0x32fbc0(0x15a)][_0x32fbc0(0x164)](this),'onLoaded':this[_0x32fbc0(0xd7)][_0x32fbc0(0x164)](this),'onStart':this[_0x32fbc0(0x1c4)][_0x32fbc0(0x164)](this),'onStop':this[_0x32fbc0(0x1cb)][_0x32fbc0(0x164)](this)}),this[_0x32fbc0(0x1b8)]=this['camera'][_0x32fbc0(0x1b8)],this['canvas']=this[_0x32fbc0(0x237)][_0x32fbc0(0x1a3)];}[_0x3f2bf6(0x1a1)](){const _0xa86b7c=_0x3f2bf6;this['cc']=new CoordConverter(this[_0xa86b7c(0x237)][_0xa86b7c(0x1fe)]),this['visual']=new vislayer_VisualLayer(this[_0xa86b7c(0x1a3)],{'srcDim':this[_0xa86b7c(0x237)][_0xa86b7c(0x1fe)],'mirrored':this[_0xa86b7c(0x104)][_0xa86b7c(0x101)],'areaColor':this[_0xa86b7c(0x104)]['visual'][_0xa86b7c(0x24b)],'showArea':this[_0xa86b7c(0x104)]['visual'][_0xa86b7c(0xcc)],'showDetectors':this['options'][_0xa86b7c(0x1f4)][_0xa86b7c(0x188)]}),this[_0xa86b7c(0x1cc)]=new ScanAnalyser(this[_0xa86b7c(0x237)][_0xa86b7c(0x1c7)],{'host':this['options']['url'],'headers':this['options']['headers'],'mrzOptions':this['options']['mrzOptions'],'detector':this[_0xa86b7c(0x104)][_0xa86b7c(0x288)],'useServerSide':this[_0xa86b7c(0x104)][_0xa86b7c(0x1de)],'onCommand':this[_0xa86b7c(0x17d)][_0xa86b7c(0x164)](this),'onCardDetected':this[_0xa86b7c(0x160)]['bind'](this),'onDetected':this['onDetected'][_0xa86b7c(0x164)](this),'onFinished':this[_0xa86b7c(0x24c)][_0xa86b7c(0x164)](this),'onError':this[_0xa86b7c(0x1e4)][_0xa86b7c(0x164)](this),'mirrored':this[_0xa86b7c(0x104)]['mirrored'],'serverDelay':this[_0xa86b7c(0x104)]['serverRequestDelay']});if(!this[_0xa86b7c(0x104)]['useServerSide']){let _0x201100=_0xa86b7c(0x130)+new Date()[_0xa86b7c(0x287)]();this['faceWebWorker']=new WebWorker({'path':this[_0xa86b7c(0x104)][_0xa86b7c(0x26f)]+_0x201100}),this[_0xa86b7c(0x1a7)]=new ScanWebWorker({'path':this[_0xa86b7c(0x104)][_0xa86b7c(0x1ee)]+_0x201100});}this[_0xa86b7c(0x1cc)]['cc']=this['cc'],typeof this[_0xa86b7c(0x104)][_0xa86b7c(0x138)]==_0xa86b7c(0xd5)&&this['options'][_0xa86b7c(0x138)]();}['open'](){const _0x5f3ca5=_0x3f2bf6;!this['camera'][_0x5f3ca5(0xe2)]()&&(this['camera']['start'](),this[_0x5f3ca5(0x1cc)][_0x5f3ca5(0xfa)]());}['close'](){const _0x56cd76=_0x3f2bf6;this['stop'](),this['camera'][_0x56cd76(0x203)]();}['start'](){const _0x53f346=_0x3f2bf6;this[_0x53f346(0x1b5)]=null,this['lastCommand']=DCScanCommand[_0x53f346(0x24d)],!this[_0x53f346(0x237)][_0x53f346(0xe2)]()?(this[_0x53f346(0x1cf)](),this[_0x53f346(0x27e)][_0x53f346(0x1fc)]=!![]):(this[_0x53f346(0x27e)][_0x53f346(0x1bb)]=!![],this[_0x53f346(0x1cc)][_0x53f346(0x1bb)]()),this['clear'](),this[_0x53f346(0x1ab)]=new Date()['getTime']();}['stop'](){const _0x170b4b=_0x3f2bf6;this[_0x170b4b(0x27e)][_0x170b4b(0x1bb)]=![],this[_0x170b4b(0x27e)][_0x170b4b(0x1fc)]=![],this[_0x170b4b(0x1cc)][_0x170b4b(0x264)](),this[_0x170b4b(0x1d7)]();}['testSource'](_0x3d8b7e,_0x211a41){const _0xdbcebc=_0x3f2bf6;ImageProcessing[_0xdbcebc(0x149)](_0x3d8b7e)[_0xdbcebc(0x293)](_0x4fbf3d=>{const _0x10af53=_0xdbcebc;let _0x291945=ImageProcessing[_0x10af53(0x26d)](_0x4fbf3d);this['analizer']['testDetect'](_0x291945,_0x211a41);});}['clear'](){const _0x1f4f36=_0x3f2bf6;this[_0x1f4f36(0xb3)]=[],this[_0x1f4f36(0xcb)]=null,this[_0x1f4f36(0x1bd)]=null,this[_0x1f4f36(0x1ba)]=null,this[_0x1f4f36(0x1ab)]=0x0;}[_0x3f2bf6(0x24c)](_0x5df8b4){const _0x993cc4=_0x3f2bf6;this['lastDetected']=[],this['lastScanned']=null,this[_0x993cc4(0x1f4)][_0x993cc4(0x163)]([]),this[_0x993cc4(0x203)](),typeof this[_0x993cc4(0x104)][_0x993cc4(0x24c)]==_0x993cc4(0xd5)&&this['options'][_0x993cc4(0x24c)](_0x5df8b4);}[_0x3f2bf6(0x160)](_0x51e219){const _0x420b6f=_0x3f2bf6;this[_0x420b6f(0xb3)]=_0x51e219,this[_0x420b6f(0x1ba)]=new Date()[_0x420b6f(0x287)](),typeof this[_0x420b6f(0x104)][_0x420b6f(0x160)]==='function'&&this[_0x420b6f(0x104)][_0x420b6f(0x160)](_0x51e219);}['onDetected'](_0x174510){const _0x1a8b88=_0x3f2bf6;this[_0x1a8b88(0xcb)]=_0x174510,this['lastScannedTime']=new Date()['getTime'](),helper_logger[_0x1a8b88(0x28e)]()[_0x1a8b88(0x114)](_0x1a8b88(0x18f),_0x174510),typeof this[_0x1a8b88(0x104)][_0x1a8b88(0x12c)]===_0x1a8b88(0xd5)&&this[_0x1a8b88(0x104)]['onDetected'](this[_0x1a8b88(0xcb)]);}[_0x3f2bf6(0x17d)](_0x5c571c){const _0x2de10c=_0x3f2bf6;this[_0x2de10c(0x258)]=_0x5c571c;if(!this[_0x2de10c(0x27e)][_0x2de10c(0x1bb)])return;typeof this[_0x2de10c(0x104)][_0x2de10c(0x17d)]===_0x2de10c(0xd5)&&this['options'][_0x2de10c(0x17d)](_0x5c571c);}['onCommandResult'](){}[_0x3f2bf6(0x1e4)](_0x2b351c){const _0x3ca0e3=_0x3f2bf6;switch(_0x2b351c){case DCScanError[_0x3ca0e3(0x206)]:helper_logger[_0x3ca0e3(0x28e)]()['log'](_0x3ca0e3(0x1c3));break;default:}}['onFrameUpdated'](){const _0x1bd40d=_0x3f2bf6;if(this[_0x1bd40d(0x27e)][_0x1bd40d(0x1bb)]){let _0x413635=this[_0x1bd40d(0xcb)]&&this[_0x1bd40d(0xcb)]['card']?[this[_0x1bd40d(0xcb)][_0x1bd40d(0x17b)]]:[];if(_0x413635[_0x1bd40d(0x216)]===0x0&&this[_0x1bd40d(0xb3)]!=null&&this[_0x1bd40d(0xb3)][_0x1bd40d(0x216)]>0x0){_0x413635=this[_0x1bd40d(0xb3)];let _0x472c8d='';if(this[_0x1bd40d(0x258)]===DCScanCommand['ID_BACK']&&this['lastDetected'][0x0][_0x1bd40d(0x11b)]===_0x1bd40d(0xce))_0x472c8d=_0x1bd40d(0x19c),this[_0x1bd40d(0x1f4)][_0x1bd40d(0x163)](_0x413635,'orange',_0x472c8d);else this[_0x1bd40d(0x258)]===DCScanCommand[_0x1bd40d(0x179)]&&(this[_0x1bd40d(0xb3)][0x0][_0x1bd40d(0x11b)]===_0x1bd40d(0x100)||this[_0x1bd40d(0xb3)][0x0][_0x1bd40d(0x11b)]===_0x1bd40d(0x274))&&(_0x472c8d=_0x1bd40d(0x19c),this['visual']['drawCard'](_0x413635,'orange',_0x472c8d));}else{let _0x229b03=this[_0x1bd40d(0xcf)](this[_0x1bd40d(0x1bd)]);_0x229b03!=null&&_0x229b03<0x7d0&&this[_0x1bd40d(0x1f4)][_0x1bd40d(0x163)](_0x413635);}this[_0x1bd40d(0x1cc)]['getStep']()===DCScanSteps[_0x1bd40d(0x126)]&&this[_0x1bd40d(0x1f4)][_0x1bd40d(0x1c2)](this[_0x1bd40d(0x1cc)]['options']['cardMinSize']);let _0x4ee3f9=new Date()[_0x1bd40d(0x287)]();_0x4ee3f9-this['sessionTimeCount']>this[_0x1bd40d(0x104)][_0x1bd40d(0x189)]?this[_0x1bd40d(0x24c)]({'status':![],'msg':_0x1bd40d(0x1e9)}):this[_0x1bd40d(0x1cc)]['observe']();}}['onCameraLoaded'](_0x161ac9,_0x1712f4){const _0xe92865=_0x3f2bf6;this['cc'][_0xe92865(0xd1)](_0x1712f4);}[_0x3f2bf6(0x1c4)](){const _0x9c4fe2=_0x3f2bf6;this[_0x9c4fe2(0x27e)][_0x9c4fe2(0x1fc)]&&(this[_0x9c4fe2(0x27e)][_0x9c4fe2(0x1fc)]=![],this[_0x9c4fe2(0x1bb)]());}[_0x3f2bf6(0x1cb)](){}[_0x3f2bf6(0xcf)](_0x3062){if(_0x3062==null)return null;return new Date()['getTime']()-_0x3062;}};const DCAnalyzer={'FACE':_0x3f2bf6(0x15c),'SCANNER':_0x3f2bf6(0xe1)};class DCFaceID{constructor(_0x119538={}){const _0x3af6fc=_0x3f2bf6;this[_0x3af6fc(0x104)]={'url':null,'headers':null,'debug':![]},this['options']=deepMerge(this[_0x3af6fc(0x104)],_0x119538),this['data']=new DataModel(_0x119538[_0x3af6fc(0x281)]||null,this['options']);let _0xa3fe0=new helper_logger({'debug':this[_0x3af6fc(0x104)][_0x3af6fc(0x22c)]});}[_0x3f2bf6(0x1b1)](_0x3bb4fd,_0x3e93e4){let _0x5347d2=new DeepFace(_0x3bb4fd,_0x3e93e4);return _0x5347d2;}[_0x3f2bf6(0x1ae)](_0x341d4a,_0x3fc0e1){const _0x49d4d4=_0x3f2bf6;let _0x2459db=deepMerge({'url':this[_0x49d4d4(0x104)][_0x49d4d4(0x281)],'headers':this[_0x49d4d4(0x104)]['headers']},_0x3fc0e1),_0x3ce704=new DeepScanner(_0x341d4a,_0x2459db);return _0x3ce704;}[_0x3f2bf6(0x228)](_0x21c203,_0x47eb7c){}[_0x3f2bf6(0x19f)](_0x5e2504,_0x58756a){const _0x823356=_0x3f2bf6;this[_0x823356(0x230)][_0x823356(0x1d0)](_0x5e2504,_0x22b9ec=>{const _0xfe0ad9=_0x823356;typeof _0x58756a===_0xfe0ad9(0xd5)&&_0x58756a(_0x22b9ec);});}[_0x3f2bf6(0x238)](){const _0x32f856=_0x3f2bf6;return OSPlus[_0x32f856(0x238)]();}}

/* harmony default export */ const dcfaceid = (DCFaceID);


/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		if(__webpack_module_cache__[moduleId]) {
/******/ 			return __webpack_module_cache__[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop)
/******/ 	})();
/******/
/************************************************************************/
/******/ 	// module exports must be returned from runtime so entry inlining is disabled
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(614);
/******/ })()
.default;
});
