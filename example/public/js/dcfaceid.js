(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else if(typeof exports === 'object')
		exports["DCFaceID"] = factory();
	else
		root["DCFaceID"] = factory();
})(this, function() {
return /******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ 614:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "default": () => /* binding */ dcfaceid
});

      const _0x4b41=['manyFace','card','blankCanvas','testDetect','appendChild','errorTime','parentElement','addActionTime','DIV','fit2Size','recognize','style','catch','Card\x20model\x20loaded','pos','toRealCoordY','server','Type','Finished','filter','onDetect','getVideoTracks','lowlight','getPassTime','orange','push','smile','raf','mirrored','setAttribute','video-layer','bind','outofbounds','kind','onStop','id_back','onloadeddata','time','croppedSize','card/ready','videoSize','area','defineCurrentAction','userAgent','box','SMILE','step','height','source-over','getInstance','cutEdge','Computing\x20for\x20finishing','center','ctx','lastScanned','1003592LTYClJ','offsetHeight','webgl','detectionLocked','blinking','single','getTinyFace','srcDim','scanWebWorker','showTextArea','finishWaitTime','defineCommands','loaded','30px','headers','isAllScanned','crossOrigin','then','drawCard','serverRequestDelay','stream','manycards','forEach','onLoaded','serverSide','ID_BACK','initWorker','bottom','textContent','defineContainer','ACTIONS','lineWidth','scale','__canvas','onStartDownCount','remove','request','right','actionWaitBeforeCheck','onDetected','function','isRearCameraUsed','df-container','rgb(66,109,139)','snapshotlist','forward','match','scan_worker_path','video','733766SGqlGa','getSnapshots','snapshot','resizeCanvas','web\x20camera\x20exception!','commander','worker_path','errorWaitTime','mrzOptions','analyzeAfterOpen','name','fillStyle','checkURI','onError','/verify','scans','onFinished','rect','canvasToImageData','onStart','fillOnMobile','cardImage','setText','serverDelay','collect','getSettings','results','state','width','getBox','testSource','visual','facingMode','startingWaitTime','pass_main','finishTime','parse','setFace','normalizing','loadCard','autoplay','lineTo','toDataURL','safari','landMarks','result','SUCCESS','getCoord','checkCurrentCommandAction','drawStreamToCanvas','dim','onCameraStop','onFaceResult','list','sizeKoef','?rand=','closePath','floor','hasCommand','initContainer','detector','landmark','position','dom','commandText','reset','headpos','426082tvZJgJ','onScanResult','getTimeDiff','getTime','getTracks','blur','white','SHOW','none','bbox','Worker','load','defineProcess','slice','curFrame','scanned','FINISH','detectTime','manyfaces','defineScanType','setCommand','detect','Error:','scan-worker','isReady','strokeStyle','arc','frontCamera','getFace','atan2','Valid','xor','drawArea','getCard','face','div','random','append','msg','init','success','noFace','observe','play','length','LEFT','tid','callCardDetectedEvent','lastDetectedTime','loadedTID','recognizeGlobal','index','pass_front','chooselist','json','setOptions','unlock','id_front','useServerSide','net','black','NONE','tID','getStep','detectTimer','substr','canvas2IMG','top','checkPosAndActions','1zNFXCK','auto','path','fillText','isMobile','devices','START','DOWN','onpause','790711jIkEEV','onCameraStart','toFixed','currentCommand','getImageFromURL','getUserMedia','globalAlpha','finished','face_worker_path','Lines','getLandmark','parseObject','onCardDetected','clearRect','curScan','worker','left','data','draw','stroke','getSize','scanLoaded','yaw','backgroundColor','/img/face.jpg','imageToCanvas','errors','calculate','analizer','application/json','detector\x20result','onplaying','getImageData','undefined','ID_FRONT','face\x20laplacian','loading','type','2131661qAlusy','callDetectedEvent','POST','createTextArea','videoWidth','innerHTML','end','PASS_FRONT','fillRect','actions','show','toLowerCase','getCoordX','SCANNING','getLastDetected','cardMinSize','checkScanResult','callback','interval','add','REJECT','scanner','devicePixelRatio','url','onFaceDetected','GET','onWorkerMessage','join','clearSnapshots','onerror','docFace','onCommandResult','faceWebWorker','classList','Error\x20loading\x20','session\x20timeout','lastDetected','currentAction','mrzcheck','gray','class','getImageB64','close','apply','muted','score','currentPosition','defineStream','actionText','tagName','rear\x20camera\x20used','checkSize','changeStep','number','stop','actualCanvas','max','fill','analyser','actionArea','command','hide','includes','image','createElement','FORWARD','Starting','onStep','display','20px\x20Arial','defineScanFace','482132VKkaXX','PASSPORT','toRealCoordX','Initializing','onFrameUpdated','putImageData','getCurrentStep','videoHeight','act2Command','host','innerHtml','getLaplacianVariance','drawImage','open','timeID','isSafari','options','maskInited','roll','other','callStepChange','getCoordY','setup','canvas','onload','postMessage','notifyAll','Your\x20browser\x20doesn\x27t\x20support\x20web\x20workers.','delay','image/jpeg','inputSize','textAlign','Card\x20is\x20too\x20small','streams','scanning','showCollection','globalCompositeOperation','sourceDim','beginPath','CANVAS','cutLastSlash','TOO_SMALL','absolute','currentStepActive','onCommand','src','getElementById','finish','moveTo','sessionTime','Success:','isErrorExist','down','lastResult','look\x20right','quadraticCurveTo','start','dpr','anonymous','applyConstraints','onMRZDetected','notify','commands','status','fireCommand','log','actionWaitTime','outOfBounds','toOriginalSize','startTime','block','Received:','startSession','386861PPwwGt','highlight','setDim','save','card/detect','docType','js/deeptinyfaceworker.min.js','lock','lastScannedTime','data\x20processing,\x20please\x20wait...','toosmall','round','enumerateDevices','maskSize','debug','image/png','maskLayer','1mQbEfW','passport','RIGHT','detectedFaceCountDownBeforeStart','environment','rgba(0,\x200,\x200,\x201)','lastCommand','chrome','toVerify','clear','callError','1Fshyxr','observers','mrz','faceMask','scan','__canvas_original','count','0.5','pitch','onStepChanged','currentActionList','restore','canvas2grayscale','cropAndResizeCanvas','canvasToBase64','cropCanvas','action','fixedTime','originalSize','srcObject','showProcessing','resWidth','INIT','onInit','drawPath','assign','callCommandResult','onStreamLoaded','shuffle','onCameraLoaded','isPlaying','error','getArea','delete','camera','faceDetected','sessionTimeCount','getContext'];const _0x4f2f=function(_0x471887,_0x25fbb7){_0x471887=_0x471887-0x14f;let _0x4b41fc=_0x4b41[_0x471887];return _0x4b41fc;};const _0x2de1fc=_0x4f2f;(function(_0x4b0c61,_0x123102){const _0x178cbf=_0x4f2f;while(!![]){try{const _0x573dbf=parseInt(_0x178cbf(0x198))+-parseInt(_0x178cbf(0x251))*-parseInt(_0x178cbf(0x25a))+-parseInt(_0x178cbf(0x2c7))+-parseInt(_0x178cbf(0x310))*-parseInt(_0x178cbf(0x32c))+parseInt(_0x178cbf(0x1c9))+parseInt(_0x178cbf(0x20c))+-parseInt(_0x178cbf(0x321))*parseInt(_0x178cbf(0x280));if(_0x573dbf===_0x123102)break;else _0x4b0c61['push'](_0x4b0c61['shift']());}catch(_0x37fc01){_0x4b0c61['push'](_0x4b0c61['shift']());}}}(_0x4b41,0xb18b3));const deepMerge=(_0x88bb32,_0x2a6958)=>{const _0xa3acff=_0x4f2f;for(let _0x4517da of Object['keys'](_0x2a6958)){_0x2a6958[_0x4517da]instanceof Object&&Object[_0xa3acff(0x154)](_0x2a6958[_0x4517da],deepMerge(_0x88bb32[_0x4517da]||{},_0x2a6958[_0x4517da]));}return Object[_0xa3acff(0x154)](_0x88bb32||{},_0x2a6958),_0x88bb32;},canvasRoundRect=(_0x37d91d,_0x24001d,_0x344bdb,_0x31eaaf,_0x2a5533,_0xed11a,_0x2c8d09,_0x5c8abe)=>{const _0x1f42f4=_0x4f2f;typeof _0x5c8abe==='undefined'&&(_0x5c8abe=!![]);typeof _0xed11a===_0x1f42f4(0x27b)&&(_0xed11a=0x5);if(typeof _0xed11a===_0x1f42f4(0x2b5))_0xed11a={'tl':_0xed11a,'tr':_0xed11a,'br':_0xed11a,'bl':_0xed11a};else{var _0x3e2e4a={'tl':0x0,'tr':0x0,'br':0x0,'bl':0x0};for(var _0x557cf9 in _0x3e2e4a){_0xed11a[_0x557cf9]=_0xed11a[_0x557cf9]||_0x3e2e4a[_0x557cf9];}}_0x37d91d[_0x1f42f4(0x2ed)](),_0x37d91d[_0x1f42f4(0x2f7)](_0x24001d+_0xed11a['tl'],_0x344bdb),_0x37d91d[_0x1f42f4(0x1f2)](_0x24001d+_0x31eaaf-_0xed11a['tr'],_0x344bdb),_0x37d91d['quadraticCurveTo'](_0x24001d+_0x31eaaf,_0x344bdb,_0x24001d+_0x31eaaf,_0x344bdb+_0xed11a['tr']),_0x37d91d[_0x1f42f4(0x1f2)](_0x24001d+_0x31eaaf,_0x344bdb+_0x2a5533-_0xed11a['br']),_0x37d91d[_0x1f42f4(0x2fe)](_0x24001d+_0x31eaaf,_0x344bdb+_0x2a5533,_0x24001d+_0x31eaaf-_0xed11a['br'],_0x344bdb+_0x2a5533),_0x37d91d[_0x1f42f4(0x1f2)](_0x24001d+_0xed11a['bl'],_0x344bdb+_0x2a5533),_0x37d91d[_0x1f42f4(0x2fe)](_0x24001d,_0x344bdb+_0x2a5533,_0x24001d,_0x344bdb+_0x2a5533-_0xed11a['bl']),_0x37d91d[_0x1f42f4(0x1f2)](_0x24001d,_0x344bdb+_0xed11a['tl']),_0x37d91d['quadraticCurveTo'](_0x24001d,_0x344bdb,_0x24001d+_0xed11a['tl'],_0x344bdb),_0x37d91d['closePath'](),_0x2c8d09&&_0x37d91d[_0x1f42f4(0x2b9)](),_0x5c8abe&&_0x37d91d['stroke']();};class StringExtra{static[_0x2de1fc(0x2ef)](_0x3cc3b5){const _0x345dc0=_0x2de1fc;if(_0x3cc3b5[_0x345dc0(0x24d)](_0x3cc3b5[_0x345dc0(0x238)]-0x1)==='/')return _0x3cc3b5[_0x345dc0(0x219)](0x0,-0x1);return _0x3cc3b5;}};class DataModel{constructor(_0x3338ca='',_0x11cc27={}){const _0x3e0f68=_0x2de1fc;this[_0x3e0f68(0x297)]=_0x3338ca,this['options']={'headers':{}},this[_0x3e0f68(0x2d7)]=deepMerge(this[_0x3e0f68(0x2d7)],_0x11cc27);}[_0x2de1fc(0x329)](_0x28eb0e,_0x1e4a40){const _0xeaf74f=_0x2de1fc;if(_0x28eb0e==null)return;if(_0x28eb0e['scanner']!=null&&_0x28eb0e[_0xeaf74f(0x22e)]==null){let _0x2c8d28={'docType':_0x28eb0e[_0xeaf74f(0x295)][_0xeaf74f(0x315)]||null,'scans':[],'tid':_0x28eb0e['scanner'][_0xeaf74f(0x24a)]};for(let _0x117b82 in _0x28eb0e['scanner']['scans']){_0x2c8d28[_0xeaf74f(0x1d8)][_0xeaf74f(0x17a)]({'docFace':_0x28eb0e[_0xeaf74f(0x295)][_0xeaf74f(0x1d8)][_0x117b82][_0xeaf74f(0x29e)]||null,'image':_0x28eb0e[_0xeaf74f(0x295)][_0xeaf74f(0x1d8)][_0x117b82][_0xeaf74f(0x2bf)]});}let _0x2c4cc3=deepMerge({'Content-Type':'application/json'},this[_0xeaf74f(0x2d7)][_0xeaf74f(0x1a6)]||{});fetch(StringExtra['cutLastSlash'](this[_0xeaf74f(0x297)])+_0xeaf74f(0x1d7),{'method':_0xeaf74f(0x282),'headers':_0x2c4cc3,'body':JSON['stringify'](_0x2c8d28)})[_0xeaf74f(0x1a9)](_0x2f2d82=>_0x2f2d82[_0xeaf74f(0x242)]())['then'](_0x303203=>{const _0x39c48d=_0xeaf74f;if(typeof _0x1e4a40===_0x39c48d(0x1c0)){let _0x35db68={'success':_0x303203[_0x39c48d(0x234)],'data':_0x303203[_0x39c48d(0x26b)]||null,'msg':_0x303203[_0x39c48d(0x232)]||null};_0x1e4a40(_0x35db68);}})[_0xeaf74f(0x16d)](_0x4441a8=>{const _0x3287ba=_0xeaf74f;console[_0x3287ba(0x15a)](_0x3287ba(0x222),_0x4441a8),typeof _0x1e4a40===_0x3287ba(0x1c0)&&_0x1e4a40({'success':![],'error':_0x4441a8});});}}};class CameraVisualLayer{constructor(_0x300f4c){const _0x377a9f=_0x2de1fc;this[_0x377a9f(0x2de)]=_0x300f4c;}[_0x2de1fc(0x1e1)](){}[_0x2de1fc(0x2ea)](){}[_0x2de1fc(0x231)](){}[_0x2de1fc(0x1bc)](){}};class OSPlus{static[_0x2de1fc(0x255)](){const _0x39f467=[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i];return _0x39f467['some'](_0x529f62=>{const _0x7c862d=_0x4f2f;return navigator[_0x7c862d(0x18c)][_0x7c862d(0x1c6)](_0x529f62);});}static['isWebGLExist'](){const _0x1db4e5=_0x2de1fc;try{let _0x4d856c=document[_0x1db4e5(0x2c0)](_0x1db4e5(0x2de));_0x4d856c[_0x1db4e5(0x160)](_0x1db4e5(0x19a));}catch(_0x328e87){return![];}return!![];}static['isOffscreenCanvasSupport'](){const _0x1b17df=_0x2de1fc;return typeof OffscreenCanvas===_0x1b17df(0x1c0);}static[_0x2de1fc(0x2d6)](){const _0x1e143a=_0x2de1fc;let _0x31ad86=navigator[_0x1e143a(0x18c)][_0x1e143a(0x28b)]();return _0x31ad86['indexOf'](_0x1e143a(0x1f4))!==-0x1&&_0x31ad86['indexOf'](_0x1e143a(0x328))===-0x1;}};let instance=null;class Logger{constructor(_0x5dabd3={}){if(!instance)instance=this;else return instance;this['options']={'debug':![]},this['setOptions'](_0x5dabd3);}static[_0x2de1fc(0x192)](_0x32500a=null){const _0x540339=_0x2de1fc;if(!instance)instance=new Logger(_0x32500a||{});else{if(_0x32500a!=null)instance[_0x540339(0x243)](_0x32500a);return instance;}}['setOptions'](_0x4dbc1b={}){this['options']=deepMerge(this['options'],_0x4dbc1b);}['log'](){const _0x1a2b1b=_0x2de1fc;this['options'][_0x1a2b1b(0x31e)]&&console[_0x1a2b1b(0x308)][_0x1a2b1b(0x2ab)](null,arguments);}}const helper_logger=Logger;;class DCCamera{constructor(_0x263565,_0x52282f={}){const _0x2422f9=_0x2de1fc;this[_0x2422f9(0x208)]=null,this['canvas']=null,this[_0x2422f9(0x1b9)]=null,this[_0x2422f9(0x331)]=null,this['video']=null,this[_0x2422f9(0x1ac)]=null,this[_0x2422f9(0x1e8)]=null,this[_0x2422f9(0x17c)]=null,this['streamSize']={'width':0x0,'height':0x0},this['sourceDim']={'k':0x1,'dx':0x0,'dy':0x0,'dw':0x0,'dh':0x0},this[_0x2422f9(0x1c4)]=[],this['devices']=[],this['frontCamera']=!![],this[_0x2422f9(0x300)]=0x1,this[_0x2422f9(0x2d7)]={'src':null,'sourceType':null,'width':0x280,'height':0x1e0,'resWidth':0x500,'resHeight':0x2d0,'fill':![],'fillOnMobile':!![],'cutEdge':![],'onLoaded':null,'onError':null,'onStop':null,'onStart':null,'onFrameUpdated':null},this[_0x2422f9(0x2d7)]=deepMerge(this['options'],_0x52282f),this[_0x2422f9(0x1b5)](_0x263565),this['setup']();}[_0x2de1fc(0x1b5)](_0x358c6c){const _0x3a92f0=_0x2de1fc;this[_0x3a92f0(0x300)]=window[_0x3a92f0(0x296)]||0x1;if(typeof _0x358c6c=='string'){let _0x37cf49=document[_0x3a92f0(0x2f5)](_0x358c6c);if(_0x37cf49&&_0x37cf49[_0x3a92f0(0x2b1)]){if(_0x37cf49[_0x3a92f0(0x2b1)]===_0x3a92f0(0x169))this[_0x3a92f0(0x208)]=_0x37cf49,this['dom'][_0x3a92f0(0x285)]='',this[_0x3a92f0(0x2de)]=document[_0x3a92f0(0x2c0)](_0x3a92f0(0x2ee)),this[_0x3a92f0(0x2de)][_0x3a92f0(0x1e5)]=this[_0x3a92f0(0x2d7)][_0x3a92f0(0x1e5)],this[_0x3a92f0(0x2de)][_0x3a92f0(0x190)]=this[_0x3a92f0(0x2d7)][_0x3a92f0(0x190)],this['dom'][_0x3a92f0(0x165)](this[_0x3a92f0(0x2de)]);else _0x37cf49[_0x3a92f0(0x2b1)]===_0x3a92f0(0x2ee)&&(this[_0x3a92f0(0x2de)]=_0x37cf49,this['dom']=document[_0x3a92f0(0x2c0)]('DIV'),this[_0x3a92f0(0x2de)][_0x3a92f0(0x167)]['insertBefore'](this[_0x3a92f0(0x208)],this[_0x3a92f0(0x2de)]),this['dom'][_0x3a92f0(0x165)](this[_0x3a92f0(0x2de)]));this[_0x3a92f0(0x208)]&&(this[_0x3a92f0(0x208)][_0x3a92f0(0x2a1)][_0x3a92f0(0x293)](_0x3a92f0(0x1c2)),this[_0x3a92f0(0x208)][_0x3a92f0(0x16c)][_0x3a92f0(0x1e5)]=this[_0x3a92f0(0x2d7)][_0x3a92f0(0x1e5)]+'px',this[_0x3a92f0(0x208)][_0x3a92f0(0x16c)][_0x3a92f0(0x190)]=this[_0x3a92f0(0x2d7)][_0x3a92f0(0x190)]+'px');}this[_0x3a92f0(0x2de)]&&(this[_0x3a92f0(0x2de)][_0x3a92f0(0x2a1)][_0x3a92f0(0x293)](_0x3a92f0(0x17f)),this['canvas'][_0x3a92f0(0x16c)][_0x3a92f0(0x271)]=_0x3a92f0(0x2a7));}this[_0x3a92f0(0x1b9)]=document[_0x3a92f0(0x2c0)]('CANVAS'),this[_0x3a92f0(0x1b9)][_0x3a92f0(0x1e5)]=this['options'][_0x3a92f0(0x1e5)],this[_0x3a92f0(0x1b9)][_0x3a92f0(0x190)]=this[_0x3a92f0(0x2d7)]['height'],this[_0x3a92f0(0x331)]=document['createElement'](_0x3a92f0(0x2ee)),this[_0x3a92f0(0x331)][_0x3a92f0(0x1e5)]=this[_0x3a92f0(0x2d7)]['width'],this[_0x3a92f0(0x331)][_0x3a92f0(0x190)]=this[_0x3a92f0(0x2d7)][_0x3a92f0(0x190)];}[_0x2de1fc(0x2dd)](){const _0x363a83=_0x2de1fc;this[_0x363a83(0x1e8)]=new CameraVisualLayer(this['canvas']);}[_0x2de1fc(0x2ff)](){const _0x4e3daa=_0x2de1fc;(this['video']==null||!this[_0x4e3daa(0x159)]())&&this[_0x4e3daa(0x2af)]();}['stop'](){const _0xb824e8=_0x2de1fc;this[_0xb824e8(0x1ac)]&&this[_0xb824e8(0x1ac)]['getTracks']()[_0xb824e8(0x238)]>0x0&&(this[_0xb824e8(0x1ac)][_0xb824e8(0x210)]()[0x0]['stop'](),this[_0xb824e8(0x1ac)]=null);}[_0x2de1fc(0x2af)](){const _0x3ceb47=_0x2de1fc;OSPlus[_0x3ceb47(0x255)]()&&this[_0x3ceb47(0x2d7)][_0x3ceb47(0x1dd)]===!![]&&(this[_0x3ceb47(0x2d7)][_0x3ceb47(0x2b9)]=!![]);this[_0x3ceb47(0x2d7)][_0x3ceb47(0x2f4)]==null?this[_0x3ceb47(0x1ac)]==null?navigator['mediaDevices']&&navigator['mediaDevices'][_0x3ceb47(0x25f)]&&(this[_0x3ceb47(0x1c8)]===null&&(this[_0x3ceb47(0x1c8)]=document[_0x3ceb47(0x2c0)](_0x3ceb47(0x1c8)),this[_0x3ceb47(0x1c8)][_0x3ceb47(0x17e)](_0x3ceb47(0x1f1),''),this[_0x3ceb47(0x1c8)][_0x3ceb47(0x17e)](_0x3ceb47(0x2ac),''),this[_0x3ceb47(0x1c8)]['setAttribute']('playsinline',''),this['video'][_0x3ceb47(0x16c)][_0x3ceb47(0x1e5)]='30px',this[_0x3ceb47(0x1c8)][_0x3ceb47(0x16c)][_0x3ceb47(0x190)]=_0x3ceb47(0x1a5),this[_0x3ceb47(0x1c8)][_0x3ceb47(0x16c)][_0x3ceb47(0x207)]=_0x3ceb47(0x2f1),this[_0x3ceb47(0x208)][_0x3ceb47(0x165)](this[_0x3ceb47(0x1c8)]),this[_0x3ceb47(0x1c8)]['style']['opacity']=_0x3ceb47(0x333)),this[_0x3ceb47(0x17c)]=null,navigator['mediaDevices'][_0x3ceb47(0x31c)]()[_0x3ceb47(0x1a9)](_0x50211c=>{const _0x56fe05=_0x3ceb47;helper_logger['getInstance']()[_0x56fe05(0x308)]('media\x20devices',_0x50211c),this['devices']=_0x50211c;}),navigator['mediaDevices'][_0x3ceb47(0x25f)]({'audio':![],'video':{'facingMode':_0x3ceb47(0x325),'width':{'ideal':this['options'][_0x3ceb47(0x150)]},'height':{'ideal':this[_0x3ceb47(0x2d7)]['resHeight']}}})[_0x3ceb47(0x1a9)](_0x547953=>{const _0x293dbb=_0x3ceb47;this['stream']=_0x547953,this[_0x293dbb(0x1c8)][_0x293dbb(0x33f)]=_0x547953;let _0x103eb8=_0x547953[_0x293dbb(0x176)]()[0x0];_0x103eb8[_0x293dbb(0x302)]({'focusMode':_0x293dbb(0x252),'focusDistance':0.33}),this['isRearCameraUsed']()&&(helper_logger['getInstance']()[_0x293dbb(0x308)](_0x293dbb(0x2b2)),this['frontCamera']=![]),_0x59eb64(),this[_0x293dbb(0x1c8)][_0x293dbb(0x237)]();})[_0x3ceb47(0x16d)](_0xe00194=>{const _0x2f1d26=_0x3ceb47;helper_logger['getInstance']()[_0x2f1d26(0x308)](_0x2f1d26(0x1cd),_0xe00194),this[_0x2f1d26(0x1d6)](_0xe00194);})):this['video'][_0x3ceb47(0x237)]():(this[_0x3ceb47(0x1c8)][_0x3ceb47(0x2f4)]=this[_0x3ceb47(0x2d7)]['src'],this[_0x3ceb47(0x1c8)][_0x3ceb47(0x237)]());let _0x59eb64=()=>{const _0x3ea8ea=_0x3ceb47;this[_0x3ea8ea(0x1c8)][_0x3ea8ea(0x185)]=()=>{const _0x5c18d3=_0x3ea8ea;this[_0x5c18d3(0x156)]();},this[_0x3ea8ea(0x1c8)][_0x3ea8ea(0x279)]=()=>{const _0x2bd305=_0x3ea8ea;this[_0x2bd305(0x1b9)][_0x2bd305(0x1e5)]=this[_0x2bd305(0x1c8)][_0x2bd305(0x284)],this[_0x2bd305(0x1b9)][_0x2bd305(0x190)]=this[_0x2bd305(0x1c8)][_0x2bd305(0x2ce)],this['__canvas_original'][_0x2bd305(0x1e5)]=this[_0x2bd305(0x1c8)][_0x2bd305(0x284)],this[_0x2bd305(0x331)][_0x2bd305(0x190)]=this[_0x2bd305(0x1c8)][_0x2bd305(0x2ce)];let _0x5d1f50=this[_0x2bd305(0x1c8)][_0x2bd305(0x284)],_0x2d7277=this['video']['videoHeight'],_0x19d601=0x1;this[_0x2bd305(0x2ec)]['dw']=this[_0x2bd305(0x2de)][_0x2bd305(0x1e5)],this['sourceDim']['dh']=this[_0x2bd305(0x2de)][_0x2bd305(0x190)];this['options'][_0x2bd305(0x2b9)]?this['canvas']['height']/_0x2d7277<this['canvas'][_0x2bd305(0x1e5)]/_0x5d1f50?(_0x19d601=this['canvas'][_0x2bd305(0x1e5)]/_0x5d1f50,this[_0x2bd305(0x2ec)]['dh']=Math[_0x2bd305(0x31b)](_0x19d601*_0x2d7277),this[_0x2bd305(0x2ec)]['dy']=0x0,this[_0x2bd305(0x2d7)][_0x2bd305(0x193)]&&(this['__canvas_original'][_0x2bd305(0x190)]=this[_0x2bd305(0x2de)][_0x2bd305(0x190)]/_0x19d601,this[_0x2bd305(0x1b9)][_0x2bd305(0x190)]=this[_0x2bd305(0x2de)][_0x2bd305(0x190)]/_0x19d601)):(_0x19d601=this[_0x2bd305(0x2de)]['height']/_0x2d7277,this[_0x2bd305(0x2ec)]['dw']=Math[_0x2bd305(0x31b)](_0x19d601*_0x5d1f50),this[_0x2bd305(0x2ec)]['dx']=0x0,this[_0x2bd305(0x2d7)][_0x2bd305(0x193)]&&(this[_0x2bd305(0x331)]['width']=this[_0x2bd305(0x2de)][_0x2bd305(0x1e5)]/_0x19d601,this[_0x2bd305(0x1b9)][_0x2bd305(0x1e5)]=this[_0x2bd305(0x2de)][_0x2bd305(0x1e5)]/_0x19d601)):this[_0x2bd305(0x2de)][_0x2bd305(0x190)]/_0x2d7277<this[_0x2bd305(0x2de)]['width']/_0x5d1f50?(_0x19d601=this['canvas'][_0x2bd305(0x190)]/_0x2d7277,this[_0x2bd305(0x2ec)]['dw']=Math[_0x2bd305(0x31b)](_0x19d601*_0x5d1f50),this[_0x2bd305(0x2ec)]['dx']=(this[_0x2bd305(0x2de)][_0x2bd305(0x1e5)]-this['sourceDim']['dw'])/0x2):(_0x19d601=this['canvas'][_0x2bd305(0x1e5)]/_0x5d1f50,this[_0x2bd305(0x2ec)]['dh']=Math['round'](_0x19d601*_0x2d7277),this['sourceDim']['dy']=(this[_0x2bd305(0x2de)][_0x2bd305(0x190)]-this[_0x2bd305(0x2ec)]['dh'])/0x2);this[_0x2bd305(0x2ec)]['k']=_0x19d601;if(this['raf']!=null)cancelAnimationFrame(this[_0x2bd305(0x17c)]);this['raf']=requestAnimationFrame(this['drawStreamToCanvas'][_0x2bd305(0x180)](this)),this['streamSize']={'width':this[_0x2bd305(0x1c8)]['videoWidth'],'height':this[_0x2bd305(0x1c8)][_0x2bd305(0x2ce)]},this[_0x2bd305(0x1dc)]();},this['video'][_0x3ea8ea(0x259)]=()=>{const _0x4e7f58=_0x3ea8ea;cancelAnimationFrame(this[_0x4e7f58(0x17c)]),this['onStop']();};};}async[_0x2de1fc(0x1fa)](){const _0x1e60af=_0x2de1fc;let _0x4a0e50=this[_0x1e60af(0x227)]?-0x1:0x1,_0x39be3e=this['sourceDim'],_0x57f39d=this[_0x1e60af(0x1c8)][_0x1e60af(0x284)],_0x360ee2=this[_0x1e60af(0x1c8)][_0x1e60af(0x2ce)],_0x3dc971=this[_0x1e60af(0x331)][_0x1e60af(0x160)]('2d');_0x3dc971[_0x1e60af(0x313)](),_0x3dc971[_0x1e60af(0x1b8)](0x1,0x1);this[_0x1e60af(0x2d7)][_0x1e60af(0x2b9)]&&this[_0x1e60af(0x2d7)][_0x1e60af(0x193)]?_0x3dc971[_0x1e60af(0x2d3)](this[_0x1e60af(0x1c8)],(this[_0x1e60af(0x331)]['width']-_0x57f39d)/0x2,(this['__canvas_original']['height']-_0x360ee2)/0x2,_0x57f39d,_0x360ee2):_0x3dc971[_0x1e60af(0x2d3)](this[_0x1e60af(0x1c8)],0x0,0x0,this['__canvas_original'][_0x1e60af(0x1e5)],this['__canvas_original'][_0x1e60af(0x190)]);_0x3dc971['restore']();let _0x5a7f84=this[_0x1e60af(0x1b9)][_0x1e60af(0x160)]('2d');_0x5a7f84[_0x1e60af(0x313)](),_0x5a7f84[_0x1e60af(0x1b8)](_0x4a0e50,0x1);this['options'][_0x1e60af(0x2b9)]&&this[_0x1e60af(0x2d7)][_0x1e60af(0x193)]?_0x5a7f84[_0x1e60af(0x2d3)](this['video'],_0x4a0e50*(this[_0x1e60af(0x1b9)][_0x1e60af(0x1e5)]-_0x57f39d)/0x2+(_0x4a0e50===-0x1?_0x4a0e50*_0x57f39d:0x0),(this['__canvas'][_0x1e60af(0x190)]-_0x360ee2)/0x2,_0x57f39d,_0x360ee2):_0x5a7f84[_0x1e60af(0x2d3)](this[_0x1e60af(0x1c8)],_0x4a0e50===-0x1?_0x4a0e50*_0x57f39d:0x0,0x0,this[_0x1e60af(0x1b9)][_0x1e60af(0x1e5)],this[_0x1e60af(0x1b9)][_0x1e60af(0x190)]);_0x5a7f84[_0x1e60af(0x337)]();let _0x4e1ac2=this[_0x1e60af(0x2de)][_0x1e60af(0x160)]('2d'),_0x13891a=(this[_0x1e60af(0x2de)][_0x1e60af(0x1e5)]-this[_0x1e60af(0x2ec)]['dw'])/0x2,_0x2424bf=(this[_0x1e60af(0x2de)]['height']-this[_0x1e60af(0x2ec)]['dh'])/0x2;_0x4e1ac2[_0x1e60af(0x267)](0x0,0x0,this[_0x1e60af(0x2de)]['width'],this['canvas']['height']),_0x4e1ac2['save'](),_0x4e1ac2[_0x1e60af(0x1b8)](_0x4a0e50*0x1,0x1),_0x4e1ac2[_0x1e60af(0x2d3)](this['video'],_0x4a0e50*_0x13891a+(_0x4a0e50===-0x1?_0x4a0e50*_0x39be3e['dw']:0x0),_0x2424bf,_0x39be3e['dw'],_0x39be3e['dh']),_0x4e1ac2[_0x1e60af(0x337)]();if(this[_0x1e60af(0x1ac)]==null)return;this[_0x1e60af(0x2cb)](),this['raf']=requestAnimationFrame(this[_0x1e60af(0x1fa)][_0x1e60af(0x180)](this));}[_0x2de1fc(0x1c1)](){const _0x36a3ee=_0x2de1fc;let _0x689e44=[];for(let _0x10a73d in this['devices']){this[_0x36a3ee(0x256)][_0x10a73d][_0x36a3ee(0x182)]==='videoinput'&&_0x689e44[_0x36a3ee(0x17a)](this[_0x36a3ee(0x256)][_0x10a73d]);}let _0x21ee4a=this[_0x36a3ee(0x1ac)]?this['stream']['getVideoTracks']()[0x0][_0x36a3ee(0x1e2)]()[_0x36a3ee(0x1e9)]||null:null;helper_logger[_0x36a3ee(0x192)]()[_0x36a3ee(0x308)](_0x36a3ee(0x256),this[_0x36a3ee(0x256)]),helper_logger[_0x36a3ee(0x192)]()['log'](_0x36a3ee(0x1e9),_0x21ee4a);if(_0x21ee4a==='environment')return!![];return![];}[_0x2de1fc(0x159)](){const _0x354247=_0x2de1fc;return this['stream']&&this[_0x354247(0x1c8)]&&!this[_0x354247(0x1c8)]['paused'];}[_0x2de1fc(0x27a)](){const _0x1a3e30=_0x2de1fc;let _0x45908b=this['__canvas'][_0x1a3e30(0x160)]('2d');return _0x45908b[_0x1a3e30(0x27a)](0x0,0x0,this[_0x1a3e30(0x1b9)][_0x1a3e30(0x1e5)],this[_0x1a3e30(0x1b9)][_0x1a3e30(0x190)]);}['getImageB64'](){const _0x3d3311=_0x2de1fc;return this[_0x3d3311(0x1b9)]['toDataURL']();}[_0x2de1fc(0x1ca)](){const _0x51ed6b=_0x2de1fc;return this[_0x51ed6b(0x1c4)];}[_0x2de1fc(0x1cb)](){const _0x416de8=_0x2de1fc;this[_0x416de8(0x1c4)][_0x416de8(0x17a)](this[_0x416de8(0x2a9)]());}[_0x2de1fc(0x29c)](){const _0x42218a=_0x2de1fc;this[_0x42218a(0x1c4)]=[];}['onError'](_0x1adfbe){const _0x417b87=_0x2de1fc;typeof this[_0x417b87(0x2d7)]['onError']==='function'&&this['options']['onError'](_0x1adfbe);}[_0x2de1fc(0x156)](){const _0x1b672a=_0x2de1fc;typeof this[_0x1b672a(0x2d7)][_0x1b672a(0x1af)]===_0x1b672a(0x1c0)&&this[_0x1b672a(0x2d7)][_0x1b672a(0x1af)](this[_0x1b672a(0x1c8)],this[_0x1b672a(0x2ec)]);}['onStop'](){const _0x14e833=_0x2de1fc;typeof this['options'][_0x14e833(0x183)]===_0x14e833(0x1c0)&&this[_0x14e833(0x2d7)]['onStop']();}[_0x2de1fc(0x1dc)](){const _0x29c215=_0x2de1fc;typeof this[_0x29c215(0x2d7)]['onStart']==='function'&&this[_0x29c215(0x2d7)]['onStart']();}[_0x2de1fc(0x2cb)](){const _0x2d79b5=_0x2de1fc;typeof this[_0x2d79b5(0x2d7)][_0x2d79b5(0x2cb)]==='function'&&this[_0x2d79b5(0x2d7)][_0x2d79b5(0x2cb)]();}}const camera=DCCamera;;class CoordConverter{constructor(_0x33611a={'k':0x1,'dx':0x0,'dy':0x0,'dw':0x0,'dh':0x0}){const _0x4fd1a1=_0x2de1fc;this[_0x4fd1a1(0x1fb)]=_0x33611a;}[_0x2de1fc(0x312)](_0x4941b4){this['dim']=_0x4941b4;}[_0x2de1fc(0x1f8)](_0x2abc00,_0x3a4b3e){const _0x5c07d2=_0x2de1fc;return{'x':_0x2abc00*this['dim']['k']+this[_0x5c07d2(0x1fb)]['dx'],'y':_0x3a4b3e*this[_0x5c07d2(0x1fb)]['k']+this['dim']['dy']};}[_0x2de1fc(0x28c)](_0x22349f){const _0x5f39ce=_0x2de1fc;return _0x22349f*this['dim']['k']+this[_0x5f39ce(0x1fb)]['dx'];}[_0x2de1fc(0x2dc)](_0x1d0834){const _0x19f746=_0x2de1fc;return _0x1d0834*this[_0x19f746(0x1fb)]['k']+this[_0x19f746(0x1fb)]['dy'];}[_0x2de1fc(0x26e)](_0x1c1bea){return _0x1c1bea*this['dim']['k'];}[_0x2de1fc(0x2c9)](_0x778240){const _0x184a6b=_0x2de1fc;return _0x778240/this[_0x184a6b(0x1fb)]['k']-this['dim']['dx'];}[_0x2de1fc(0x170)](_0x3a1f1d){const _0x49ec18=_0x2de1fc;return _0x3a1f1d/this[_0x49ec18(0x1fb)]['k']-this[_0x49ec18(0x1fb)]['dy'];}};class MaskLayer{constructor(_0xd36b57,_0x41ad5a={'width':0x0,'height':0x0},_0x4eda2a={'width':0x0,'height':0x0}){const _0xff5375=_0x2de1fc;this[_0xff5375(0x208)]=_0xd36b57,this[_0xff5375(0x2de)]=null,this[_0xff5375(0x196)]=null,this[_0xff5375(0x209)]=null,this[_0xff5375(0x2b0)]=null,this[_0xff5375(0x189)]=_0x41ad5a,this[_0xff5375(0x31d)]=_0x4eda2a,this[_0xff5375(0x2d8)]=![],this[_0xff5375(0x1ff)]={'h':0.4,'v':0.6},(this[_0xff5375(0x31d)][_0xff5375(0x1e5)]===0x0||this['maskSize']['height']===0x0)&&(this[_0xff5375(0x31d)]={'width':this[_0xff5375(0x189)][_0xff5375(0x1e5)]*this[_0xff5375(0x1ff)]['h'],'height':this['videoSize'][_0xff5375(0x1e5)]*this['sizeKoef']['v']}),this['setup']();}[_0x2de1fc(0x2dd)](){const _0x16e6a9=_0x2de1fc;this['dom']!=null&&(this[_0x16e6a9(0x2de)]=document['createElement'](_0x16e6a9(0x2ee)),this[_0x16e6a9(0x2de)]['id']=_0x16e6a9(0x320),this[_0x16e6a9(0x2de)][_0x16e6a9(0x1e5)]=this[_0x16e6a9(0x189)][_0x16e6a9(0x1e5)],this['canvas']['height']=this[_0x16e6a9(0x189)][_0x16e6a9(0x190)],this['dom'][_0x16e6a9(0x165)](this[_0x16e6a9(0x2de)]),this[_0x16e6a9(0x196)]=this['canvas'][_0x16e6a9(0x160)]('2d'));}[_0x2de1fc(0x283)](){const _0x7d7f1b=_0x2de1fc;if(!this[_0x7d7f1b(0x209)]){this['commandText']=document[_0x7d7f1b(0x2c0)](_0x7d7f1b(0x22f)),this[_0x7d7f1b(0x209)]['id']='commandArea';let _0x4248d8=document[_0x7d7f1b(0x2c0)]('P');_0x4248d8[_0x7d7f1b(0x1b4)]='',this['commandText'][_0x7d7f1b(0x165)](_0x4248d8),this[_0x7d7f1b(0x208)]['appendChild'](this[_0x7d7f1b(0x209)]);let _0x5c85dd=((this[_0x7d7f1b(0x2de)]['height']-this[_0x7d7f1b(0x31d)]['height'])/0x2-this[_0x7d7f1b(0x209)][_0x7d7f1b(0x199)])/0x2;this['commandText'][_0x7d7f1b(0x16c)][_0x7d7f1b(0x24f)]=_0x5c85dd+'px';}else this[_0x7d7f1b(0x209)][_0x7d7f1b(0x16c)][_0x7d7f1b(0x2c4)]=_0x7d7f1b(0x30d);if(!this['actionText']){this['actionText']=document['createElement']('div'),this[_0x7d7f1b(0x2b0)]['id']=_0x7d7f1b(0x2bb);let _0x49602c=document['createElement']('P');_0x49602c['textContent']='',this[_0x7d7f1b(0x2b0)][_0x7d7f1b(0x165)](_0x49602c),this[_0x7d7f1b(0x208)][_0x7d7f1b(0x165)](this[_0x7d7f1b(0x2b0)]);let _0x266847=((this['canvas'][_0x7d7f1b(0x190)]-this[_0x7d7f1b(0x31d)][_0x7d7f1b(0x190)])/0x2-this[_0x7d7f1b(0x209)][_0x7d7f1b(0x199)])/0x2;this[_0x7d7f1b(0x2b0)][_0x7d7f1b(0x16c)][_0x7d7f1b(0x1b3)]=_0x266847+'px';}else this[_0x7d7f1b(0x2b0)][_0x7d7f1b(0x16c)][_0x7d7f1b(0x2c4)]=_0x7d7f1b(0x30d);}[_0x2de1fc(0x1a1)](){const _0x43b7bb=_0x2de1fc;if(this[_0x43b7bb(0x209)])this[_0x43b7bb(0x209)][_0x43b7bb(0x16c)][_0x43b7bb(0x2c4)]='';if(this['actionText'])this[_0x43b7bb(0x2b0)][_0x43b7bb(0x16c)][_0x43b7bb(0x2c4)]='';}['hideTextArea'](){const _0x4f54bf=_0x2de1fc;if(this['commandText'])this[_0x4f54bf(0x209)][_0x4f54bf(0x16c)][_0x4f54bf(0x2c4)]=_0x4f54bf(0x214);if(this[_0x4f54bf(0x2b0)])this[_0x4f54bf(0x2b0)][_0x4f54bf(0x16c)]['display']=_0x4f54bf(0x214);}[_0x2de1fc(0x1df)](_0xba01a6){const _0x40fd97=_0x2de1fc;if(this[_0x40fd97(0x2b0)])this[_0x40fd97(0x2b0)]['innerHtml']=_0xba01a6;}[_0x2de1fc(0x220)](_0x157293){const _0x566ae3=_0x2de1fc;if(this[_0x566ae3(0x209)])this[_0x566ae3(0x209)][_0x566ae3(0x2d1)]=_0x157293;}[_0x2de1fc(0x15b)](){const _0x2d7b81=_0x2de1fc;return{'x':this[_0x2d7b81(0x2de)][_0x2d7b81(0x1e5)]/0x2-this[_0x2d7b81(0x31d)][_0x2d7b81(0x1e5)]/0x2-0x14,'y':this[_0x2d7b81(0x2de)][_0x2d7b81(0x190)]/0x2-this[_0x2d7b81(0x31d)][_0x2d7b81(0x1e5)]/0x2-0x14,'width':this[_0x2d7b81(0x31d)]['width'],'height':this['maskSize']['height']};}[_0x2de1fc(0x26c)](){const _0x61d0be=_0x2de1fc;if(!this[_0x61d0be(0x2d8)]){console[_0x61d0be(0x308)]('draw\x20mask\x20layer'),this[_0x61d0be(0x196)][_0x61d0be(0x313)](),this[_0x61d0be(0x196)][_0x61d0be(0x2ed)](),this[_0x61d0be(0x196)]['ellipse'](this[_0x61d0be(0x2de)][_0x61d0be(0x1e5)]/0x2,this['canvas'][_0x61d0be(0x190)]/0x2,this['maskSize'][_0x61d0be(0x1e5)]/0x2,this[_0x61d0be(0x31d)][_0x61d0be(0x190)]/0x2,Math['PI'],0x0,0x2*Math['PI']),this[_0x61d0be(0x196)][_0x61d0be(0x1d4)]=_0x61d0be(0x1c3),this['ctx'][_0x61d0be(0x2b9)](),this[_0x61d0be(0x196)]['globalCompositeOperation']=_0x61d0be(0x22b),this[_0x61d0be(0x196)][_0x61d0be(0x2ed)](),this['ctx'][_0x61d0be(0x1da)](0x0,0x0,this[_0x61d0be(0x2de)][_0x61d0be(0x1e5)],this['canvas']['height']),this['ctx']['fillStyle']=_0x61d0be(0x326),this[_0x61d0be(0x196)][_0x61d0be(0x201)](),this[_0x61d0be(0x196)][_0x61d0be(0x2b9)](),this[_0x61d0be(0x196)][_0x61d0be(0x260)]=0.5;let _0x4d6125=this['canvas'][_0x61d0be(0x1f3)]();this[_0x61d0be(0x196)][_0x61d0be(0x2eb)]=_0x61d0be(0x191);let _0x28ef4e=new Image();_0x28ef4e['onload']=()=>{const _0x139e77=_0x61d0be;this[_0x139e77(0x196)][_0x139e77(0x267)](0x0,0x0,this[_0x139e77(0x2de)]['width'],this[_0x139e77(0x2de)]['height']),this[_0x139e77(0x196)][_0x139e77(0x2d3)](_0x28ef4e,0x0,0x0);},_0x28ef4e[_0x61d0be(0x2f4)]=_0x4d6125,this[_0x61d0be(0x2d8)]=!![],this[_0x61d0be(0x283)]();}}[_0x2de1fc(0x28a)](){const _0x5b786e=_0x2de1fc;!this['maskInited']?(this['draw'](),this[_0x5b786e(0x2de)][_0x5b786e(0x16c)][_0x5b786e(0x2c4)]=_0x5b786e(0x30d)):(this[_0x5b786e(0x1a1)](),this['canvas'][_0x5b786e(0x16c)][_0x5b786e(0x2c4)]=_0x5b786e(0x30d));}['hide'](){const _0x251ea4=_0x2de1fc;this['hideTextArea'](),this[_0x251ea4(0x2de)][_0x251ea4(0x16c)][_0x251ea4(0x2c4)]=_0x251ea4(0x214);}[_0x2de1fc(0x15c)](){const _0x349c67=_0x2de1fc;this['ctx'][_0x349c67(0x267)](0x0,0x0,this[_0x349c67(0x2de)][_0x349c67(0x1e5)],this['canvas'][_0x349c67(0x190)]),this['ctx'][_0x349c67(0x337)]();}};class VisualLayer{constructor(_0x3a2888,_0x49e431={}){const _0x16cdc5=_0x2de1fc;this[_0x16cdc5(0x2de)]=_0x3a2888,this[_0x16cdc5(0x2d7)]={'srcDim':{'k':0x1,'dx':0x0,'dy':0x0,'dw':0x0,'dh':0x0}},this[_0x16cdc5(0x2d7)]=deepMerge(this['options'],_0x49e431),this['cc']=new CoordConverter(this[_0x16cdc5(0x2d7)][_0x16cdc5(0x19f)]);}[_0x2de1fc(0x153)](_0x154522,_0x32e806,_0x5e4363){const _0x24a9fb=_0x2de1fc,_0x3afc88=new Path2D();_0x3afc88[_0x24a9fb(0x2f7)](_0x32e806[0x0][0x0],_0x32e806[0x0][0x1]);for(let _0x332d64=0x1;_0x332d64<_0x32e806[_0x24a9fb(0x238)];_0x332d64++){const _0x482379=_0x32e806[_0x332d64];_0x3afc88['lineTo'](_0x482379[0x0],_0x482379[0x1]);}_0x5e4363&&_0x3afc88['closePath'](),_0x154522[_0x24a9fb(0x26d)](_0x3afc88);}['drawFaces'](_0x2bcbf4){const _0x214905=_0x2de1fc;let _0x2c78ee=this[_0x214905(0x2d7)]['srcDim']['k'],_0x390006=null,_0x5e81b2=null,_0x41d728={'x':0x0,'y':0x0,'w':0x0,'h':0x0},_0x58e352=this[_0x214905(0x2de)]['getContext']('2d');_0x58e352[_0x214905(0x313)]();for(let _0x12b708=0x0;_0x12b708<_0x2bcbf4[_0x214905(0x238)];_0x12b708++){_0x5e81b2=_0x2bcbf4[_0x12b708][_0x214905(0x1f5)];for(let _0x5bb423=0x0;_0x5bb423<_0x5e81b2[_0x214905(0x238)];_0x5bb423++){const _0xa76d82=_0x5e81b2[_0x5bb423][0x0],_0x10fb1a=_0x5e81b2[_0x5bb423][0x1];_0x58e352[_0x214905(0x2ed)](),_0x58e352[_0x214905(0x226)](this['cc'][_0x214905(0x28c)](_0xa76d82),this['cc']['getCoordY'](_0x10fb1a),0x1,0x0,0x2*Math['PI']),_0x58e352[_0x214905(0x2b9)](),_0x58e352[_0x214905(0x201)]();}}_0x58e352[_0x214905(0x337)]();}};class PipeStream{constructor(_0x348117){const _0x491a11=_0x2de1fc;this['name']=_0x348117,this[_0x491a11(0x32d)]={};}['on'](_0x434cf4,_0x27c653){const _0x3f2943=_0x2de1fc;if(this[_0x3f2943(0x32d)][_0x434cf4]===undefined)this[_0x3f2943(0x32d)][_0x434cf4]=[];if(typeof _0x27c653==_0x3f2943(0x1c0))this['observers'][_0x434cf4][_0x3f2943(0x17a)](_0x27c653);}[_0x2de1fc(0x1bb)](_0x523ff4,_0x4a30a4){const _0x2adbbd=_0x2de1fc;for(const _0x2d1a7c in this[_0x2adbbd(0x32d)]){this[_0x2adbbd(0x32d)][_0x2d1a7c]=this[_0x2adbbd(0x32d)][_0x2d1a7c][_0x2adbbd(0x174)](_0x1168b6=>_0x1168b6!==_0x4a30a4);}}[_0x2de1fc(0x304)](_0x7fd36e,_0x4981e3){const _0x108172=_0x2de1fc;this[_0x108172(0x32d)][_0x7fd36e]&&this[_0x108172(0x32d)][_0x7fd36e][_0x108172(0x1ae)](_0x2ae37e=>{if(typeof _0x2ae37e=='function')_0x2ae37e(_0x4981e3);});}[_0x2de1fc(0x2e1)](_0x49731c){const _0x19b8ca=_0x2de1fc;this[_0x19b8ca(0x32d)][_0x19b8ca(0x1ae)](_0x3e7342=>{const _0x448bff=_0x19b8ca;_0x3e7342[_0x448bff(0x1ae)](_0x24c1aa=>{const _0x4e5ae5=_0x448bff;typeof _0x24c1aa==_0x4e5ae5(0x1c0)&&_0x24c1aa(_0x49731c);});});}};class Pipe{constructor(){const _0x5a0bd4=_0x2de1fc;this[_0x5a0bd4(0x2e8)]={};}[_0x2de1fc(0x2d4)](_0x509b86){const _0x27ac27=_0x2de1fc;return!this['streams'][_0x509b86]&&(this[_0x27ac27(0x2e8)][_0x509b86]=new PipeStream(_0x509b86)),this[_0x27ac27(0x2e8)][_0x509b86];}}const pipe=new Pipe(),stream=pipe;;class ImageProcessing{constructor(){}static[_0x2de1fc(0x33b)](_0x459f5c,_0x368096,_0x1e02b3,_0x2b733a,_0x1e2919){const _0x10163f=_0x2de1fc;let _0x50a23c=document[_0x10163f(0x2c0)](_0x10163f(0x2ee));_0x50a23c[_0x10163f(0x1e5)]=_0x2b733a,_0x50a23c[_0x10163f(0x190)]=_0x1e2919;let _0x236608=_0x50a23c[_0x10163f(0x160)]('2d');return _0x236608[_0x10163f(0x2d3)](_0x459f5c,_0x368096,_0x1e02b3,_0x2b733a,_0x1e2919,0x0,0x0,_0x2b733a,_0x1e2919),_0x50a23c;}static[_0x2de1fc(0x1cc)](_0x104ee1,_0xe175f0={'w':null,'h':null}){const _0x4c89fc=_0x2de1fc;let _0x5526e4=document[_0x4c89fc(0x2c0)](_0x4c89fc(0x2ee));if(_0xe175f0['w']==null&&_0xe175f0['h']==null)_0x5526e4[_0x4c89fc(0x1e5)]=_0x104ee1[_0x4c89fc(0x1e5)],_0x5526e4[_0x4c89fc(0x190)]=_0x104ee1[_0x4c89fc(0x190)];else{if(_0xe175f0['w']==null)_0x5526e4[_0x4c89fc(0x190)]=_0xe175f0['h'],_0x5526e4[_0x4c89fc(0x1e5)]=_0xe175f0['h']/_0x104ee1[_0x4c89fc(0x190)]*_0x104ee1['width'];else _0xe175f0['h']==null?(_0x5526e4[_0x4c89fc(0x1e5)]=_0xe175f0['w'],_0x5526e4[_0x4c89fc(0x190)]=_0xe175f0['w']/_0x104ee1[_0x4c89fc(0x1e5)]*_0x104ee1[_0x4c89fc(0x190)]):(_0x5526e4[_0x4c89fc(0x1e5)]=_0xe175f0['w'],_0x5526e4[_0x4c89fc(0x190)]=_0xe175f0['h']);}let _0x253cbe=_0x5526e4[_0x4c89fc(0x160)]('2d');return _0x253cbe[_0x4c89fc(0x2d3)](_0x104ee1,0x0,0x0,_0x5526e4[_0x4c89fc(0x1e5)],_0x5526e4[_0x4c89fc(0x190)]),_0x5526e4;}static[_0x2de1fc(0x339)](_0x309f84,_0x1617f9,_0x5e9d97,_0x57af5e,_0x3bb7d5,_0x216724,_0x59fb2e){const _0x3c33a7=_0x2de1fc;let _0x4484a9=document['createElement']('CANVAS');_0x4484a9[_0x3c33a7(0x1e5)]=_0x216724,_0x4484a9[_0x3c33a7(0x190)]=_0x59fb2e;let _0x52f141=_0x4484a9['getContext']('2d');return _0x52f141[_0x3c33a7(0x2d3)](_0x309f84,_0x1617f9,_0x5e9d97,_0x57af5e,_0x3bb7d5,0x0,0x0,_0x216724,_0x59fb2e),_0x4484a9;}static['imageDataToCanvas'](_0x1c305a){const _0xdbda2a=_0x2de1fc;let _0x55edb5=document[_0xdbda2a(0x2c0)]('CANVAS');_0x55edb5[_0xdbda2a(0x1e5)]=_0x1c305a[_0xdbda2a(0x1e5)],_0x55edb5['height']=_0x1c305a['height'];let _0x1488ec=_0x55edb5[_0xdbda2a(0x160)]('2d');return _0x1488ec[_0xdbda2a(0x2cc)](_0x1c305a,0x0,0x0),_0x55edb5;}static[_0x2de1fc(0x273)](_0x161e62){const _0x50f93d=_0x2de1fc;let _0x356d93=document[_0x50f93d(0x2c0)](_0x50f93d(0x2ee));_0x356d93[_0x50f93d(0x1e5)]=_0x161e62[_0x50f93d(0x1e5)],_0x356d93[_0x50f93d(0x190)]=_0x161e62['height'];let _0x5ca389=_0x356d93[_0x50f93d(0x160)]('2d');return _0x5ca389[_0x50f93d(0x2d3)](_0x161e62,0x0,0x0),_0x356d93;}static[_0x2de1fc(0x1db)](_0x1123fc){const _0x291ddd=_0x2de1fc;let _0x5ddd83=_0x1123fc[_0x291ddd(0x160)]('2d'),_0x1ebe67=_0x5ddd83[_0x291ddd(0x27a)](0x0,0x0,_0x1123fc['width'],_0x1123fc[_0x291ddd(0x190)]);return _0x1ebe67;}static[_0x2de1fc(0x33a)](_0x2ef370,_0x16f8f7=_0x2de1fc(0x31f),_0x449c06=0.92){return _0x2ef370['toDataURL'](_0x16f8f7,_0x449c06);}static[_0x2de1fc(0x24e)](_0x26e583,_0x158a88=_0x2de1fc(0x31f),_0x31ede7=0.92){return new Promise(function(_0x1dcc67,_0x4f3f04){const _0x1c5e07=_0x4f2f;let _0x1cdb94=new Image();_0x1cdb94['setAttribute'](_0x1c5e07(0x1a8),_0x1c5e07(0x301)),_0x1cdb94[_0x1c5e07(0x2df)]=()=>{_0x1dcc67(_0x1cdb94);},_0x1cdb94[_0x1c5e07(0x29d)]=_0x3e3d9d=>{const _0x55da0e=_0x1c5e07;_0x4f3f04(_0x55da0e(0x2a2)+_0x3e3d9d);},_0x1cdb94[_0x1c5e07(0x2f4)]=ImageProcessing[_0x1c5e07(0x33a)](_0x26e583,_0x158a88,_0x31ede7);});}static[_0x2de1fc(0x338)](_0x27ba40){const _0x542b98=_0x2de1fc;let _0x4ae9ea=_0x27ba40['getContext']('2d'),_0x2efd5a=_0x4ae9ea[_0x542b98(0x27a)](0x0,0x0,_0x27ba40['width'],_0x27ba40[_0x542b98(0x190)]),_0x2f5eae=_0x2efd5a[_0x542b98(0x26b)],_0x533ebc=_0x27ba40[_0x542b98(0x1e5)]*_0x27ba40[_0x542b98(0x190)]*0x4;for(let _0x12d4de=_0x533ebc-0x1;_0x12d4de>0x0;_0x12d4de-=0x4){let _0x3442b2=0.3*_0x2f5eae[_0x12d4de-0x3]+0.59*_0x2f5eae[_0x12d4de-0x2]+0.11*_0x2f5eae[_0x12d4de-0x1];_0x2f5eae[_0x12d4de-0x3]=_0x3442b2,_0x2f5eae[_0x12d4de-0x2]=_0x3442b2,_0x2f5eae[_0x12d4de-0x1]=_0x3442b2;}let _0x342739=document[_0x542b98(0x2c0)]('CANVAS'),_0x2a6cde=_0x342739[_0x542b98(0x160)]('2d');return _0x2a6cde[_0x542b98(0x2cc)](_0x2efd5a,0x0,0x0),_0x342739;}static[_0x2de1fc(0x163)](_0x4c3559,_0x2241d5,_0x4bb7e4=_0x2de1fc(0x248)){const _0x5048cd=_0x2de1fc;let _0x11197a=document[_0x5048cd(0x2c0)]('CANVAS');_0x11197a[_0x5048cd(0x1e5)]=_0x4c3559,_0x11197a[_0x5048cd(0x190)]=_0x2241d5;let _0x4b470e=_0x11197a['getContext']('2d');return _0x4b470e['fillStyle']=_0x4bb7e4,_0x4b470e['fillRect'](0x0,0x0,_0x4c3559,_0x2241d5),_0x11197a;}static[_0x2de1fc(0x2d2)](_0x659fd1,_0x26d785=0x1e){const _0x1c71e4=_0x2de1fc;let _0x1860b2=_0x659fd1[_0x1c71e4(0x160)]('2d'),_0x22dc11=_0x1860b2[_0x1c71e4(0x27a)](0x0,0x0,_0x659fd1[_0x1c71e4(0x1e5)],_0x659fd1[_0x1c71e4(0x190)]),_0x57e78a=_0x22dc11[_0x1c71e4(0x26b)],_0x37aaf2=[[0x0,0x1,0x0],[0x1,-0x4,0x1],[0x0,0x1,0x0]],_0x965753=_0x659fd1[_0x1c71e4(0x1e5)]*0x4,_0x39414e=0x0,_0x126012=0x3,_0x3701f0=Math[_0x1c71e4(0x202)](_0x126012/0x2),_0x4c1c55=0x0,_0x309b43=0x0;for(let _0x568d0b=0x1;_0x568d0b<_0x659fd1[_0x1c71e4(0x190)]-0x1;_0x568d0b++){for(let _0x1e2ff7=0x4;_0x1e2ff7<_0x965753-0x4;_0x1e2ff7+=0x4){_0x4c1c55=0x0;for(let _0x3a3e50=0x0;_0x3a3e50<_0x126012;_0x3a3e50++){for(let _0xfaf2c=0x0;_0xfaf2c<_0x126012;_0xfaf2c++){_0x39414e=_0x965753*(_0x568d0b+_0x3a3e50-_0x3701f0)+_0x1e2ff7+(_0xfaf2c-_0x3701f0)*0x4;let _0x1d0383=0.3*_0x57e78a[_0x39414e]+0.59*_0x57e78a[_0x39414e+0x1]+0.11*_0x57e78a[_0x39414e+0x2];_0x4c1c55+=_0x1d0383*_0x37aaf2[_0x3a3e50][_0xfaf2c];}}_0x4c1c55>_0x26d785&&(_0x309b43+=0x1);}}return _0x309b43;}static['getImageFromURL'](_0x41538d){return new Promise(function(_0x2fb488,_0x21630b){const _0x5b7f01=_0x4f2f;let _0x2551b2=new Image();_0x2551b2[_0x5b7f01(0x17e)](_0x5b7f01(0x1a8),'anonymous'),_0x2551b2[_0x5b7f01(0x2df)]=()=>{_0x2fb488(_0x2551b2);},_0x2551b2['onerror']=()=>{_0x21630b('Error\x20loading\x20'+_0x41538d);},_0x2551b2['src']=_0x41538d;});}};class WebWorker{constructor(_0x963e22={}){const _0x399acb=_0x2de1fc;this[_0x399acb(0x269)]=null,this[_0x399acb(0x1ac)]=null,this[_0x399acb(0x2d7)]={'path':null},this[_0x399acb(0x2d7)]=deepMerge(this[_0x399acb(0x2d7)],_0x963e22),this[_0x399acb(0x2dd)]();}[_0x2de1fc(0x2dd)](){const _0x59e1e3=_0x2de1fc;this[_0x59e1e3(0x1ac)]=stream['open']('worker'),this[_0x59e1e3(0x1ac)]['on'](_0x59e1e3(0x228),this[_0x59e1e3(0x228)][_0x59e1e3(0x180)](this)),this['stream']['on'](_0x59e1e3(0x19e),this[_0x59e1e3(0x19e)][_0x59e1e3(0x180)](this)),this[_0x59e1e3(0x1ac)]['on'](_0x59e1e3(0x1f0),this[_0x59e1e3(0x1f0)]['bind'](this)),this[_0x59e1e3(0x1ac)]['on'](_0x59e1e3(0x22d),this[_0x59e1e3(0x22d)][_0x59e1e3(0x180)](this)),window[_0x59e1e3(0x216)]&&this[_0x59e1e3(0x2d7)][_0x59e1e3(0x253)]!=null?(this[_0x59e1e3(0x269)]=new Worker(this[_0x59e1e3(0x2d7)][_0x59e1e3(0x253)]),this['worker']['onmessage']=this[_0x59e1e3(0x29a)]['bind'](this)):console[_0x59e1e3(0x308)]('Your\x20browser\x20doesn\x27t\x20support\x20web\x20workers.');}['getFace'](_0x35f429){const _0x485925=_0x2de1fc;let _0x5056a7=null;if(_0x35f429 instanceof HTMLCanvasElement){let _0x1ab3bc=_0x35f429[_0x485925(0x160)]('2d');_0x5056a7=_0x1ab3bc[_0x485925(0x27a)](0x0,0x0,_0x35f429[_0x485925(0x1e5)],_0x35f429[_0x485925(0x190)]);}else{if(_0x35f429 instanceof HTMLImageElement){let _0x6cad4e=document[_0x485925(0x2c0)](_0x485925(0x2de)),_0x340537=_0x6cad4e[_0x485925(0x160)]('2d');_0x6cad4e[_0x485925(0x1e5)]=_0x35f429[_0x485925(0x1e5)],_0x6cad4e[_0x485925(0x190)]=_0x35f429[_0x485925(0x190)],_0x340537[_0x485925(0x2d3)](_0x35f429,0x0,0x0),_0x5056a7=_0x340537[_0x485925(0x27a)](0x0,0x0,_0x35f429[_0x485925(0x1e5)],_0x35f429['height']);}}this[_0x485925(0x269)][_0x485925(0x2e0)]({'type':_0x485925(0x22e),'action':_0x485925(0x228),'data':_0x5056a7});}[_0x2de1fc(0x19e)](_0x352a18){const _0x412465=_0x2de1fc;let _0x1cd7b4=null;if(_0x352a18 instanceof HTMLCanvasElement){let _0x1f926d=_0x352a18['getContext']('2d');_0x1cd7b4=_0x1f926d[_0x412465(0x27a)](0x0,0x0,_0x352a18[_0x412465(0x1e5)],_0x352a18[_0x412465(0x190)]);}else{if(_0x352a18 instanceof HTMLImageElement){let _0x48ee92=document[_0x412465(0x2c0)]('canvas'),_0x2b67eb=_0x48ee92['getContext']('2d');_0x48ee92[_0x412465(0x1e5)]=_0x352a18[_0x412465(0x1e5)],_0x48ee92['height']=_0x352a18[_0x412465(0x190)],_0x2b67eb['drawImage'](_0x352a18,0x0,0x0),_0x1cd7b4=_0x2b67eb[_0x412465(0x27a)](0x0,0x0,_0x352a18[_0x412465(0x1e5)],_0x352a18['height']);}}this[_0x412465(0x269)]['postMessage']({'type':_0x412465(0x22e),'action':_0x412465(0x19e),'data':_0x1cd7b4});}['getCard'](_0x3ddacc){const _0x31acf2=_0x2de1fc;let _0x4efbb8=null;if(_0x3ddacc instanceof HTMLCanvasElement)_0x4efbb8=ImageProcessing[_0x31acf2(0x1db)](_0x3ddacc);else _0x3ddacc instanceof HTMLImageElement&&(_0x4efbb8=ImageProcessing[_0x31acf2(0x273)](_0x3ddacc));this['worker'][_0x31acf2(0x2e0)]({'type':_0x31acf2(0x330),'action':_0x31acf2(0x22d),'data':_0x4efbb8});}['loadCard'](){const _0x18c51f=_0x2de1fc;this[_0x18c51f(0x269)][_0x18c51f(0x2e0)]({'type':_0x18c51f(0x330),'action':_0x18c51f(0x1f0)});}[_0x2de1fc(0x29a)](_0x444bd4){const _0x382c33=_0x2de1fc;let _0x2f1d1b=_0x444bd4[_0x382c33(0x26b)][_0x382c33(0x27f)],_0x5eb149=_0x444bd4['data'][_0x382c33(0x33c)],_0x29c23f=_0x444bd4[_0x382c33(0x26b)][_0x382c33(0x26b)];switch(_0x2f1d1b){case _0x382c33(0x22e):if(_0x5eb149===_0x382c33(0x15e))this[_0x382c33(0x1ac)]['notify'](_0x382c33(0x1fd),_0x29c23f);else _0x5eb149==='tinyFaceDetected'&&this[_0x382c33(0x1ac)]['notify']('onTinyFaceResult',_0x29c23f);break;case _0x382c33(0x330):this[_0x382c33(0x1ac)][_0x382c33(0x304)](_0x382c33(0x20d),_0x29c23f);break;case'scanLoaded':this[_0x382c33(0x1ac)]['notify']('onScanLoaded',_0x29c23f);break;case _0x382c33(0x2da):break;default:break;}}};class HeadPos{constructor(){const _0x1c0a6a=_0x2de1fc;this['net']=null,this[_0x1c0a6a(0x18d)]={'x':0x0,'y':0x0,'width':0x0,'height':0x0},this[_0x1c0a6a(0x206)]=[],this['face']=null,this[_0x1c0a6a(0x270)]=0x0,this['pitch']=0x0,this[_0x1c0a6a(0x2d9)]=0x0;}['setFace'](_0x187032){const _0x531f28=_0x2de1fc;this[_0x531f28(0x22e)]=_0x187032,this[_0x531f28(0x18d)]={'x':_0x187032['x'],'y':_0x187032['y'],'height':_0x187032[_0x531f28(0x190)],'width':_0x187032['width']},this[_0x531f28(0x206)]=_0x187032[_0x531f28(0x1f5)],this['calculate']();}[_0x2de1fc(0x32a)](){const _0x3e6cc2=_0x2de1fc;this[_0x3e6cc2(0x247)]=null,this[_0x3e6cc2(0x18d)]={'x':0x0,'y':0x0,'width':0x0,'height':0x0},this[_0x3e6cc2(0x206)]=[],this[_0x3e6cc2(0x22e)]=null,this[_0x3e6cc2(0x270)]=0x0,this[_0x3e6cc2(0x334)]=0x0,this[_0x3e6cc2(0x2d9)]=0x0;}[_0x2de1fc(0x275)](){const _0x3c3d16=_0x2de1fc;let _0x4e6898=this[_0x3c3d16(0x22e)]['landMarks'][0xea],_0x218391=this[_0x3c3d16(0x22e)][_0x3c3d16(0x1f5)][0x1c6],_0x52fb8c=this[_0x3c3d16(0x22e)]['landMarks'][0xa],_0x5c728b=this[_0x3c3d16(0x22e)][_0x3c3d16(0x1f5)][0x98];this[_0x3c3d16(0x270)]=Math[_0x3c3d16(0x229)](_0x218391[0x2]-_0x4e6898[0x2],_0x218391[0x0]-_0x4e6898[0x0])*0xb4/Math['PI'],this[_0x3c3d16(0x334)]=Math[_0x3c3d16(0x229)](_0x5c728b[0x0]-_0x52fb8c[0x0],_0x5c728b[0x2]-_0x52fb8c[0x2])*0xb4/Math['PI'],this['roll']=Math['atan2'](_0x218391[0x1]-_0x4e6898[0x1],_0x218391[0x0]-_0x4e6898[0x0])*0xb4/Math['PI'];}['getPose'](){}[_0x2de1fc(0x1e6)](){return this['box'];}[_0x2de1fc(0x264)](){const _0x4aa345=_0x2de1fc;return this[_0x4aa345(0x206)];}}const headpos=HeadPos;;const FaceCommands={'FORWARD':'forward','LEFT':_0x2de1fc(0x26a),'RIGHT':_0x2de1fc(0x1bd),'UP':'up','DOWN':_0x2de1fc(0x2fb),'SMILE':_0x2de1fc(0x17b),'BLINKING':_0x2de1fc(0x19c),'NONE':_0x2de1fc(0x214)};class Commander{constructor(){const _0x189df8=_0x2de1fc;this[_0x189df8(0x305)]=[],this[_0x189df8(0x332)]=0x2,this[_0x189df8(0x241)]=[FaceCommands[_0x189df8(0x239)],FaceCommands['RIGHT'],FaceCommands['UP'],FaceCommands['DOWN'],FaceCommands[_0x189df8(0x18e)]],this[_0x189df8(0x23f)]=0x0;}['shuffle'](){const _0x52c4e2=_0x2de1fc;this[_0x52c4e2(0x32a)]();for(let _0x3040e0=0x0;_0x3040e0<this[_0x52c4e2(0x332)];_0x3040e0++){this[_0x52c4e2(0x305)][_0x52c4e2(0x17a)]({'name':FaceCommands['FORWARD']});}return this['commands'];}['next'](){const _0x2aef5=_0x2de1fc;return this[_0x2aef5(0x23f)]<this[_0x2aef5(0x305)]['length']-0x1?(this[_0x2aef5(0x23f)]++,this[_0x2aef5(0x305)][this[_0x2aef5(0x23f)]]):null;}['current'](){const _0x57518b=_0x2de1fc;return this[_0x57518b(0x305)][this[_0x57518b(0x23f)]];}[_0x2de1fc(0x203)](){const _0x1e06db=_0x2de1fc;return this[_0x1e06db(0x23f)]<this[_0x1e06db(0x305)][_0x1e06db(0x238)]-0x1;}[_0x2de1fc(0x32a)](){const _0x2a3a9d=_0x2de1fc;this[_0x2a3a9d(0x23f)]=0x0,this[_0x2a3a9d(0x305)]=[];}};const DCFaceError={'NO_FACE':'noface','MANY_FACES':_0x2de1fc(0x21e),'LOW_LIGHT':_0x2de1fc(0x177),'HIGH_LIGHT':_0x2de1fc(0x311),'OUT_OF_BOUNDS':_0x2de1fc(0x181)},DCFacePos={'NONE':'none','UP':'up','DOWN':_0x2de1fc(0x2fb),'FORWARD':_0x2de1fc(0x1c5),'LEFT':_0x2de1fc(0x26a),'RIGHT':_0x2de1fc(0x1bd)},FaceActionSteps={'NONE':_0x2de1fc(0x214),'INIT':_0x2de1fc(0x233),'START':_0x2de1fc(0x2ff),'ACTIONS':_0x2de1fc(0x289),'FINISH':_0x2de1fc(0x2f6)},CommandResult={'SUCCESS':_0x2de1fc(0x234),'NONE':_0x2de1fc(0x214),'REJECT':'reject'};class FaceAnalyser{constructor(_0x36256a,_0xde9641={}){const _0x566bba=_0x2de1fc;this[_0x566bba(0x2de)]=_0x36256a,this['options']={'video':null,'area':{'x':0x0,'y':0x0,'width':0x0,'height':0x0},'detectTime':0x64,'startingWaitTime':0x7d0,'onFaceDetected':null,'onError':null,'onFinished':null,'onCommand':null,'onCommandResult':null,'onStep':null,'onStartDownCount':null},this[_0x566bba(0x2d7)]=deepMerge(this[_0x566bba(0x2d7)],_0xde9641),this['detectTimer']=null,this['errors']={'lowLight':![],'highLight':![],'noFace':![],'manyFace':![],'outOfBounds':![]},this[_0x566bba(0x2ae)]=DCFacePos[_0x566bba(0x249)],this[_0x566bba(0x1ac)]=null,this['headpos']=new headpos(),this[_0x566bba(0x1ce)]=new Commander(),this['lock']=![],this[_0x566bba(0x2a4)]=[],this[_0x566bba(0x18f)]=FaceActionSteps['NONE'],this[_0x566bba(0x324)]=0x3,this['fixedTime']=0x0,this[_0x566bba(0x166)]=0x0,this['errorWaitTime']=0x7d0,this[_0x566bba(0x309)]=0x1770,this[_0x566bba(0x1be)]=0x3e8,this[_0x566bba(0x1a2)]=0x7d0,this['currentStepActive']=![],this['tid']=null,this[_0x566bba(0x1e3)]=[],this['currentCommand']=FaceCommands[_0x566bba(0x249)],this[_0x566bba(0x2a5)]=DCFacePos[_0x566bba(0x249)],this[_0x566bba(0x336)]=[],this['cc']=null,this[_0x566bba(0x1b2)]();}[_0x2de1fc(0x1b2)](){const _0x23dbe0=_0x2de1fc;this[_0x23dbe0(0x1ac)]=stream[_0x23dbe0(0x2d4)](_0x23dbe0(0x269)),this[_0x23dbe0(0x1ac)]['on'](_0x23dbe0(0x1fd),_0x4ccc16=>{const _0x8a54d4=_0x23dbe0;this[_0x8a54d4(0x24c)]!=null&&(this[_0x8a54d4(0x298)](_0x4ccc16),this['lock']=![]);});}[_0x2de1fc(0x2ff)](){const _0x14db1f=_0x2de1fc;this['lock']=![],this[_0x14db1f(0x2a4)]=[],this[_0x14db1f(0x2f2)]=![],this[_0x14db1f(0x18f)]=FaceActionSteps[_0x14db1f(0x151)],this[_0x14db1f(0x1e3)]=[],this['detectedFaceCountDownBeforeStart']=0x3,this[_0x14db1f(0x23a)]=new Date()[_0x14db1f(0x20f)](),this['defineCommands'](),this[_0x14db1f(0x2db)](this[_0x14db1f(0x18f)]),clearTimeout(this[_0x14db1f(0x24c)]),this[_0x14db1f(0x24c)]=setTimeout(this[_0x14db1f(0x236)]['bind'](this),this[_0x14db1f(0x2d7)][_0x14db1f(0x21d)]);}[_0x2de1fc(0x2b6)](){const _0x53f929=_0x2de1fc;this['tid']=null,clearTimeout(this[_0x53f929(0x24c)]),this[_0x53f929(0x24c)]=null,this[_0x53f929(0x317)]=![],this[_0x53f929(0x32a)]();}[_0x2de1fc(0x32a)](){const _0x717ec9=_0x2de1fc;this[_0x717ec9(0x2a4)]=[],this['step']=FaceActionSteps[_0x717ec9(0x249)],this[_0x717ec9(0x324)]=0x3,this['currentAction']=DCFacePos[_0x717ec9(0x249)],this['currentActionList']=[],this[_0x717ec9(0x2f2)]=![];}['defineCommands'](){const _0xc2e2af=_0x2de1fc;let _0x5133bc=this['commander'][_0xc2e2af(0x157)]();for(let _0x101050 in _0x5133bc){this[_0xc2e2af(0x1e3)][_0xc2e2af(0x17a)]({'pos':DCFacePos[_0xc2e2af(0x249)],'image':null,'command':FaceCommands['NONE'],'status':![]});}helper_logger[_0xc2e2af(0x192)]()['log'](_0xc2e2af(0x1a3),_0x5133bc);}[_0x2de1fc(0x236)](){const _0x285ccd=_0x2de1fc;!this[_0x285ccd(0x317)]&&(this[_0x285ccd(0x1ac)][_0x285ccd(0x304)](_0x285ccd(0x228),this[_0x285ccd(0x2de)]),this[_0x285ccd(0x317)]=!![]),this[_0x285ccd(0x24c)]=setTimeout(this[_0x285ccd(0x236)][_0x285ccd(0x180)](this),this[_0x285ccd(0x2d7)][_0x285ccd(0x21d)]);}[_0x2de1fc(0x298)](_0x49c6bf){const _0x337ee=_0x2de1fc;this[_0x337ee(0x274)][_0x337ee(0x235)]=![],this[_0x337ee(0x274)]['manyFace']=![],this['currentPosition']=DCFacePos[_0x337ee(0x249)];if(_0x49c6bf[_0x337ee(0x238)]>0x1)this[_0x337ee(0x274)][_0x337ee(0x161)]=!![];else{if(_0x49c6bf[_0x337ee(0x238)]===0x0){this[_0x337ee(0x274)]['noFace']=!![];if(typeof this[_0x337ee(0x2d7)][_0x337ee(0x298)]===_0x337ee(0x1c0))this[_0x337ee(0x2d7)][_0x337ee(0x298)]([]);this[_0x337ee(0x317)]=![];return;}}this[_0x337ee(0x2a4)]=_0x49c6bf;if(typeof this[_0x337ee(0x2d7)]['onFaceDetected']===_0x337ee(0x1c0))this[_0x337ee(0x2d7)]['onFaceDetected'](_0x49c6bf);this[_0x337ee(0x324)]>0x0?(this[_0x337ee(0x324)]--,this[_0x337ee(0x33d)]=new Date()['getTime'](),this[_0x337ee(0x166)]=new Date()['getTime']()):(this[_0x337ee(0x20b)][_0x337ee(0x1ee)](_0x49c6bf[0x0]),this[_0x337ee(0x18b)](),this[_0x337ee(0x1f9)]()),this['lock']=![];}[_0x2de1fc(0x2f6)](_0x35652e,_0x296b85){const _0x3a2216=_0x2de1fc;if(this[_0x3a2216(0x23a)]==null)return![];let _0x45dd2b={'tid':this['tid'],'status':_0x296b85,'results':this[_0x3a2216(0x1e3)],'image':null};for(let _0x48689c in this[_0x3a2216(0x1e3)]){if(this[_0x3a2216(0x1e3)][_0x48689c][_0x3a2216(0x2bc)]===FaceCommands[_0x3a2216(0x2c1)]&&this[_0x3a2216(0x1e3)][_0x48689c][_0x3a2216(0x306)]===!![]){_0x45dd2b[_0x48689c][_0x3a2216(0x2bf)]=this[_0x3a2216(0x1e3)][_0x48689c][_0x3a2216(0x2bf)];break;}}typeof this['options']['onFinished']===_0x3a2216(0x1c0)&&this[_0x3a2216(0x2d7)][_0x3a2216(0x1d9)](_0x45dd2b),this[_0x3a2216(0x2b6)]();}[_0x2de1fc(0x18b)](){const _0x42f3c8=_0x2de1fc;let _0x4352ff=this[_0x42f3c8(0x20b)][_0x42f3c8(0x1e6)](),_0x520fa4={'x':this['cc'][_0x42f3c8(0x28c)](_0x4352ff['x']),'y':this['cc'][_0x42f3c8(0x2dc)](_0x4352ff['y']),'width':this['cc'][_0x42f3c8(0x26e)](_0x4352ff[_0x42f3c8(0x1e5)]),'height':this['cc'][_0x42f3c8(0x26e)](_0x4352ff[_0x42f3c8(0x190)])},_0x5b1e47=this[_0x42f3c8(0x2d7)][_0x42f3c8(0x18a)]['width']*0.3,_0x1c7319=this[_0x42f3c8(0x2d7)][_0x42f3c8(0x18a)]['height']*0.3,_0x35fe86=_0x520fa4['x']+_0x520fa4[_0x42f3c8(0x1e5)],_0x486bb7=_0x520fa4['y']+_0x520fa4[_0x42f3c8(0x190)];if(_0x520fa4['x']>this[_0x42f3c8(0x2d7)]['area']['x']-_0x5b1e47&&_0x520fa4['y']>this[_0x42f3c8(0x2d7)][_0x42f3c8(0x18a)]['y']-_0x1c7319&&_0x35fe86<this[_0x42f3c8(0x2d7)][_0x42f3c8(0x18a)]['x']+this[_0x42f3c8(0x2d7)]['area'][_0x42f3c8(0x1e5)]+_0x5b1e47&&_0x486bb7<this[_0x42f3c8(0x2d7)]['area']['y']+this['options']['area'][_0x42f3c8(0x190)]+_0x1c7319)this[_0x42f3c8(0x274)][_0x42f3c8(0x30a)]=![];else return this['errors'][_0x42f3c8(0x30a)]=!![],![];this[_0x42f3c8(0x20b)][_0x42f3c8(0x2d9)]<0xc&&this[_0x42f3c8(0x20b)][_0x42f3c8(0x2d9)]>-0xc&&this[_0x42f3c8(0x20b)]['pitch']<=-0x14&&this[_0x42f3c8(0x20b)][_0x42f3c8(0x334)]>=-0x82&&this[_0x42f3c8(0x20b)]['yaw']>=-0xa&&this[_0x42f3c8(0x20b)][_0x42f3c8(0x270)]<=0xa&&(this[_0x42f3c8(0x2a5)]=DCFacePos[_0x42f3c8(0x2c1)]),this[_0x42f3c8(0x20b)][_0x42f3c8(0x2d9)]<0xc&&this[_0x42f3c8(0x20b)][_0x42f3c8(0x2d9)]>-0xc&&this['headpos'][_0x42f3c8(0x270)]<-0xa&&(this[_0x42f3c8(0x2a5)]=DCFacePos[_0x42f3c8(0x239)]),this[_0x42f3c8(0x20b)][_0x42f3c8(0x2d9)]<0xc&&this[_0x42f3c8(0x20b)][_0x42f3c8(0x2d9)]>-0xc&&this[_0x42f3c8(0x20b)][_0x42f3c8(0x270)]>0xa&&(this[_0x42f3c8(0x2a5)]=DCFacePos[_0x42f3c8(0x323)]),this['headpos'][_0x42f3c8(0x2d9)]<0xc&&this[_0x42f3c8(0x20b)][_0x42f3c8(0x2d9)]>-0xc&&this[_0x42f3c8(0x20b)][_0x42f3c8(0x334)]<-0x82&&(this[_0x42f3c8(0x2a5)]=DCFacePos['UP']),this[_0x42f3c8(0x20b)][_0x42f3c8(0x2d9)]<0xc&&this[_0x42f3c8(0x20b)][_0x42f3c8(0x2d9)]>-0xc&&this['headpos'][_0x42f3c8(0x334)]>-0x14&&(this[_0x42f3c8(0x2a5)]=DCFacePos[_0x42f3c8(0x258)]);}[_0x2de1fc(0x1f9)](){const _0x5a5869=_0x2de1fc;let _0x1e4743=this[_0x5a5869(0x2fa)](),_0x5824a5=this[_0x5a5869(0x20e)](this[_0x5a5869(0x33d)]);_0x1e4743?(this[_0x5a5869(0x2ae)]=DCFacePos[_0x5a5869(0x249)],this['callError'](this[_0x5a5869(0x274)])):this[_0x5a5869(0x166)]=new Date()[_0x5a5869(0x20f)]();this[_0x5a5869(0x18f)]===FaceActionSteps['INIT']&&(this['currentStepActive']=![],this['step']=FaceActionSteps[_0x5a5869(0x257)],this['callStepChange'](this[_0x5a5869(0x18f)]));if(this[_0x5a5869(0x18f)]===FaceActionSteps[_0x5a5869(0x257)]){let _0x5c077d=Math['round']((this[_0x5a5869(0x2d7)][_0x5a5869(0x1ea)]-_0x5824a5)/0x3e8);if(_0x5c077d>0x0){if(typeof this['options'][_0x5a5869(0x1ba)]===_0x5a5869(0x1c0))this[_0x5a5869(0x2d7)][_0x5a5869(0x1ba)](_0x5c077d);}else this[_0x5a5869(0x18f)]=FaceActionSteps[_0x5a5869(0x1b6)],this['currentStepActive']=![],this[_0x5a5869(0x33d)]=new Date()[_0x5a5869(0x20f)](),this[_0x5a5869(0x2f8)]=new Date()['getTime'](),this['callStepChange'](this[_0x5a5869(0x18f)]);}if(this[_0x5a5869(0x18f)]===FaceActionSteps[_0x5a5869(0x1b6)]&&(_0x1e4743===![]||this[_0x5a5869(0x1d0)]===0x0)){let _0x9bcc16=this[_0x5a5869(0x1ce)][_0x5a5869(0x23f)],_0x2f35ee=this[_0x5a5869(0x1ce)]['current']();this[_0x5a5869(0x25d)]!==_0x2f35ee[_0x5a5869(0x1d3)]&&(this[_0x5a5869(0x25d)]=_0x2f35ee['name'],this[_0x5a5869(0x336)]=[],this['callCommandChange'](_0x2f35ee[_0x5a5869(0x1d3)]));_0x5824a5>0x0&&this[_0x5a5869(0x336)][_0x5a5869(0x17a)]({'pos':this['currentAction'],'posPitch':this[_0x5a5869(0x20b)][_0x5a5869(0x334)],'posYaw':this[_0x5a5869(0x20b)][_0x5a5869(0x270)],'time':new Date()[_0x5a5869(0x20f)](),'valid':!![],'command':_0x2f35ee});let _0x4200b4=this[_0x5a5869(0x309)]+this[_0x5a5869(0x1be)]-_0x5824a5,_0x249103=_0x5824a5>this[_0x5a5869(0x1be)]?this[_0x5a5869(0x250)](_0x2f35ee['name'],this[_0x5a5869(0x2a5)]):CommandResult[_0x5a5869(0x249)];if(_0x4200b4>0x0&&_0x249103===CommandResult[_0x5a5869(0x249)]){}else{if(_0x5824a5>this[_0x5a5869(0x1be)]){let _0x434f7c=ImageProcessing[_0x5a5869(0x33b)](this[_0x5a5869(0x2de)],this[_0x5a5869(0x20b)][_0x5a5869(0x18d)]['x'],this[_0x5a5869(0x20b)][_0x5a5869(0x18d)]['y'],this[_0x5a5869(0x20b)]['box'][_0x5a5869(0x1e5)],this[_0x5a5869(0x20b)]['box'][_0x5a5869(0x190)]);_0x249103===CommandResult[_0x5a5869(0x1f7)]?this[_0x5a5869(0x1e3)][_0x9bcc16]={'pos':this[_0x5a5869(0x2a5)],'command':_0x2f35ee,'status':!![],'image':_0x434f7c}:this[_0x5a5869(0x1e3)][_0x9bcc16]={'pos':this['currentAction'],'command':_0x2f35ee,'status':![],'image':_0x434f7c},this[_0x5a5869(0x155)](this['results'][_0x9bcc16]),this['commander'][_0x5a5869(0x203)]()?this[_0x5a5869(0x1ce)]['next']():(this[_0x5a5869(0x18f)]=FaceActionSteps[_0x5a5869(0x21c)],this[_0x5a5869(0x20b)]['clear'](),this[_0x5a5869(0x2db)](this[_0x5a5869(0x18f)])),this[_0x5a5869(0x33d)]=new Date()[_0x5a5869(0x20f)]();}}}if(this[_0x5a5869(0x18f)]===FaceActionSteps[_0x5a5869(0x21c)]){let _0x1ef72a=this['finishWaitTime']-_0x5824a5;if(_0x1ef72a>0x0){}else this[_0x5a5869(0x18f)]=FaceActionSteps[_0x5a5869(0x21c)],this[_0x5a5869(0x33d)]=new Date()[_0x5a5869(0x20f)](),this['finish'](!![],!![]);}}[_0x2de1fc(0x250)](_0x48719f,_0x37a85c){const _0x5210f1=_0x2de1fc;let _0x5186c6={},_0x181f60=FaceCommands[_0x5210f1(0x249)],_0x1f19a5=FaceCommands[_0x5210f1(0x249)],_0x4de25a={};for(let _0x106b81 in this['currentActionList']){let _0x4c81b6=this[_0x5210f1(0x336)][_0x106b81];_0x4c81b6!=null&&_0x4c81b6['valid']&&(_0x4c81b6[_0x5210f1(0x16f)]!=null&&(_0x181f60=this[_0x5210f1(0x2cf)](_0x4c81b6[_0x5210f1(0x16f)])),_0x5186c6[_0x181f60]==null&&(_0x5186c6[_0x181f60]={'list':[],'max':0x0}),_0x5186c6[_0x181f60]=this[_0x5210f1(0x168)](_0x5186c6[_0x181f60],_0x4c81b6,_0x1f19a5!==_0x181f60),_0x4de25a[_0x181f60]=(_0x4de25a[_0x181f60]||0x0)+0x1,_0x1f19a5=_0x181f60);}let _0x19b40c=_0x4de25a[_0x5210f1(0x238)];if(_0x48719f===FaceCommands[_0x5210f1(0x239)]||_0x48719f===FaceCommands['UP']||_0x48719f===FaceCommands[_0x5210f1(0x323)]||_0x48719f===FaceCommands[_0x5210f1(0x258)]){if(_0x19b40c>0x3)return CommandResult[_0x5210f1(0x294)];if(_0x5186c6[_0x48719f]!=null&&_0x5186c6[_0x48719f][_0x5210f1(0x2b8)]>0x3e8)return CommandResult['SUCCESS'];}if(_0x48719f===FaceCommands[_0x5210f1(0x2c1)]){if(_0x19b40c>=0x3)return CommandResult['REJECT'];if(_0x5186c6[_0x48719f]!=null&&_0x5186c6[_0x48719f]['max']>0x3e8)return CommandResult['SUCCESS'];}return CommandResult[_0x5210f1(0x249)];}[_0x2de1fc(0x2db)](_0x11c915){const _0x2fda5c=_0x2de1fc;typeof this[_0x2fda5c(0x2d7)]['onStep']==='function'&&this[_0x2fda5c(0x2d7)][_0x2fda5c(0x2c3)](_0x11c915);}[_0x2de1fc(0x32b)](_0x1e11fe){const _0x4d5acd=_0x2de1fc;typeof this[_0x4d5acd(0x2d7)]['onError']==='function'&&this['options'][_0x4d5acd(0x1d6)](_0x1e11fe);}['callCommandChange'](_0x29c39f){const _0xb7e8d4=_0x2de1fc;typeof this['options'][_0xb7e8d4(0x2f3)]===_0xb7e8d4(0x1c0)&&this['options'][_0xb7e8d4(0x2f3)](_0x29c39f);}[_0x2de1fc(0x155)](_0x5e6d9d){const _0x4cae05=_0x2de1fc;typeof this['options']['onCommandResult']==='function'&&this['options'][_0x4cae05(0x29f)](_0x5e6d9d);}[_0x2de1fc(0x28e)](){return this['lastDetected'];}[_0x2de1fc(0x2fa)](){const _0x2fd11a=_0x2de1fc;for(const _0x23f85a in this[_0x2fd11a(0x274)]){if(this['errors'][_0x23f85a]===!![])return!![];}return![];}[_0x2de1fc(0x20e)](_0x517b31){const _0x5c455b=_0x2de1fc;let _0x236dae=new Date()[_0x5c455b(0x20f)]();return _0x236dae-_0x517b31;}['act2Command'](_0x543a53){const _0x12f483=_0x2de1fc;switch(_0x543a53){case DCFacePos[_0x12f483(0x239)]:return FaceCommands['LEFT'];case DCFacePos['UP']:return FaceCommands['UP'];case DCFacePos['RIGHT']:return FaceCommands['RIGHT'];case DCFacePos[_0x12f483(0x258)]:return FaceCommands['DOWN'];case DCFacePos[_0x12f483(0x2c1)]:return FaceCommands[_0x12f483(0x2c1)];default:return FaceCommands[_0x12f483(0x249)];}}[_0x2de1fc(0x168)](_0x36497a,_0x35572d,_0x158705){const _0x24dfd8=_0x2de1fc;let _0x1b0b77=_0x36497a,_0x20b778=0x0;return _0x1b0b77['list'][_0x24dfd8(0x238)]>0x0&&_0x1b0b77[_0x24dfd8(0x1fe)][_0x20b778][_0x24dfd8(0x2ff)]!=null&&_0x158705?(_0x20b778=_0x1b0b77[_0x24dfd8(0x1fe)][_0x24dfd8(0x238)]-0x1,_0x35572d['time']!=null&&(_0x1b0b77[_0x24dfd8(0x1fe)][_0x20b778][_0x24dfd8(0x286)]=_0x35572d[_0x24dfd8(0x186)],_0x1b0b77[_0x24dfd8(0x1fe)][_0x20b778][_0x24dfd8(0x292)]=_0x35572d['time']-_0x1b0b77['list'][_0x20b778][_0x24dfd8(0x2ff)],_0x1b0b77[_0x24dfd8(0x2b8)]=(_0x1b0b77[_0x24dfd8(0x1fe)][_0x20b778][_0x24dfd8(0x292)]||0x0)>_0x1b0b77[_0x24dfd8(0x2b8)]?_0x1b0b77[_0x24dfd8(0x1fe)][_0x20b778][_0x24dfd8(0x292)]||0x0:_0x1b0b77[_0x24dfd8(0x2b8)])):_0x1b0b77[_0x24dfd8(0x1fe)]['push']({'start':_0x35572d[_0x24dfd8(0x186)],'end':null,'interval':null}),_0x1b0b77;}};class DeepFace{constructor(_0x133a79,_0x39ecb9={}){const _0xabf193=_0x2de1fc;this[_0xabf193(0x208)]=null,this[_0xabf193(0x2de)]=null,this[_0xabf193(0x15d)]=null,this[_0xabf193(0x1e4)]={'start':![],'detectInit':![],'analyzeAfterOpen':![]},this[_0xabf193(0x2d7)]={'src':null,'sourceType':null,'width':0x280,'height':0x1e0,'liveness':!![],'onFrameCaptured':null,'detectTime':0x64,'onFinished':null,'worker_path':'js/deepfaceworker.js'},this[_0xabf193(0x2d7)]=deepMerge(this[_0xabf193(0x2d7)],_0x39ecb9),this['initContainer'](_0x133a79),this[_0xabf193(0x2dd)]();}[_0x2de1fc(0x204)](_0x45e76c){const _0x9fa42f=_0x2de1fc;this[_0x9fa42f(0x15d)]=new camera(_0x45e76c,{'src':this['options'][_0x9fa42f(0x2f4)],'width':this['options'][_0x9fa42f(0x1e5)],'height':this['options']['height'],'onFrameUpdated':this[_0x9fa42f(0x2cb)]['bind'](this),'onLoaded':this['onCameraLoaded'][_0x9fa42f(0x180)](this),'onStart':this[_0x9fa42f(0x25b)][_0x9fa42f(0x180)](this),'onStop':this[_0x9fa42f(0x1fc)][_0x9fa42f(0x180)](this)}),this[_0x9fa42f(0x208)]=this[_0x9fa42f(0x15d)][_0x9fa42f(0x208)],this[_0x9fa42f(0x2de)]=this['camera'][_0x9fa42f(0x2de)];}['setup'](){const _0x59666a=_0x2de1fc;this['cc']=new CoordConverter(this[_0x59666a(0x15d)][_0x59666a(0x2ec)]),this['faceMask']=new MaskLayer(this[_0x59666a(0x208)],{'width':this[_0x59666a(0x2d7)][_0x59666a(0x1e5)],'height':this[_0x59666a(0x2d7)]['height']}),this['visual']=new VisualLayer(this['canvas']),this['webWorker']=new WebWorker({'path':this['options'][_0x59666a(0x1cf)]}),this['analyser']=new FaceAnalyser(this[_0x59666a(0x15d)][_0x59666a(0x1b9)],{'area':this[_0x59666a(0x32f)]['getArea'](),'detectTime':this['options']['detectTime'],'onFaceDetected':this['onFaceDetected']['bind'](this),'onError':this[_0x59666a(0x1d6)]['bind'](this),'onFinished':this[_0x59666a(0x1d9)][_0x59666a(0x180)](this),'onCommand':this['onCommand']['bind'](this),'onCommandResult':this[_0x59666a(0x29f)][_0x59666a(0x180)](this),'onStep':this['onStep']['bind'](this),'onStartDownCount':this[_0x59666a(0x1ba)][_0x59666a(0x180)](this)}),this[_0x59666a(0x2ba)]['cc']=this['cc'];}[_0x2de1fc(0x2d4)](){const _0x385d11=_0x2de1fc;!this[_0x385d11(0x15d)][_0x385d11(0x159)]()&&(this[_0x385d11(0x15d)]['start'](),this[_0x385d11(0x32f)][_0x385d11(0x28a)]());}[_0x2de1fc(0x2aa)](){const _0x208a91=_0x2de1fc;this[_0x208a91(0x2b6)](),this['camera']['stop'](),this['faceMask'][_0x208a91(0x2bd)]();}[_0x2de1fc(0x2ff)](){const _0x30346a=_0x2de1fc;!this[_0x30346a(0x15d)]['isPlaying']()?(this[_0x30346a(0x2d4)](),this[_0x30346a(0x1e4)][_0x30346a(0x1d2)]=!![]):(this[_0x30346a(0x1e4)]['start']=!![],this['analyser'][_0x30346a(0x2ff)]());}[_0x2de1fc(0x2b6)](){const _0x38b0c4=_0x2de1fc;this[_0x38b0c4(0x1e4)][_0x38b0c4(0x2ff)]=![],this['analyser'][_0x38b0c4(0x2b6)](),this[_0x38b0c4(0x1e4)]['analyzeAfterOpen']=![];}[_0x2de1fc(0x1d9)](_0x556015,_0x2a5959){const _0x1aa9f8=_0x2de1fc;helper_logger[_0x1aa9f8(0x192)]()[_0x1aa9f8(0x308)](_0x1aa9f8(0x261)),this['faceMask'][_0x1aa9f8(0x220)](_0x1aa9f8(0x173)),typeof this[_0x1aa9f8(0x2d7)][_0x1aa9f8(0x1d9)]==_0x1aa9f8(0x1c0)&&this['options'][_0x1aa9f8(0x1d9)](_0x556015,_0x2a5959);}['onFaceDetected'](_0x5d6f83){}['onCommand'](_0xabc8cc){const _0x4dc829=_0x2de1fc;helper_logger[_0x4dc829(0x192)]()['log'](_0x4dc829(0x2f3),_0xabc8cc);let _0x44aa66='';switch(_0xabc8cc){case FaceCommands[_0x4dc829(0x2c1)]:_0x44aa66='look\x20forward';break;case FaceCommands[_0x4dc829(0x239)]:_0x44aa66='look\x20left';break;case FaceCommands[_0x4dc829(0x323)]:_0x44aa66=_0x4dc829(0x2fd);break;case FaceCommands['UP']:_0x44aa66='look\x20up';break;case FaceCommands[_0x4dc829(0x258)]:_0x44aa66='look\x20down';break;default:_0x44aa66='';}this[_0x4dc829(0x32f)][_0x4dc829(0x220)](_0x44aa66);}[_0x2de1fc(0x29f)](){}[_0x2de1fc(0x2c3)](_0x2a40a2){const _0xfcecff=_0x2de1fc;helper_logger[_0xfcecff(0x192)]()[_0xfcecff(0x308)]('onStepChanged',_0x2a40a2);let _0x48cb5b='';switch(_0x2a40a2){case FaceActionSteps[_0xfcecff(0x151)]:_0x48cb5b=_0xfcecff(0x2ca);break;case FaceActionSteps[_0xfcecff(0x257)]:_0x48cb5b=_0xfcecff(0x2c2);break;case FaceActionSteps[_0xfcecff(0x1b6)]:_0x48cb5b='Please\x20follow\x20the\x20commands';break;case FaceActionSteps[_0xfcecff(0x21c)]:_0x48cb5b=_0xfcecff(0x194);break;default:_0x48cb5b='';}this['faceMask'][_0xfcecff(0x220)](_0x48cb5b);}[_0x2de1fc(0x1ba)](_0x23ecce){const _0x1cb0e6=_0x2de1fc;helper_logger[_0x1cb0e6(0x192)]()['log'](_0x1cb0e6(0x1ba),_0x23ecce);}['onError'](_0xd5d816){const _0x16612a=_0x2de1fc;helper_logger[_0x16612a(0x192)]()['log'](_0x16612a(0x1d6),_0xd5d816);}[_0x2de1fc(0x2cb)](){const _0x5234b7=_0x2de1fc;let _0x589eb6=this[_0x5234b7(0x2ba)]['getLastDetected']();this[_0x5234b7(0x1e8)]['drawFaces'](_0x589eb6);}[_0x2de1fc(0x158)](_0x1f1dc4,_0x510832){const _0x52f124=_0x2de1fc;this['cc'][_0x52f124(0x312)](_0x510832),this[_0x52f124(0x1e8)]['cc'][_0x52f124(0x312)](_0x510832),this[_0x52f124(0x2ba)][_0x52f124(0x2d7)][_0x52f124(0x1c8)]=_0x1f1dc4;}[_0x2de1fc(0x25b)](){const _0x550288=_0x2de1fc;this[_0x550288(0x1e4)][_0x550288(0x1d2)]&&(this[_0x550288(0x1e4)]['analyzeAfterOpen']=![],this[_0x550288(0x2ff)]());}[_0x2de1fc(0x1fc)](){}[_0x2de1fc(0x14f)](_0x13847a){const _0x1f8f19=_0x2de1fc;this[_0x1f8f19(0x208)]&&(this[_0x1f8f19(0x208)][_0x1f8f19(0x2a1)]['remove']('loading'),this[_0x1f8f19(0x208)][_0x1f8f19(0x2a1)]['remove']('blur'),_0x13847a&&(this['dom'][_0x1f8f19(0x2a1)][_0x1f8f19(0x293)](_0x1f8f19(0x27e)),this['dom'][_0x1f8f19(0x2a1)][_0x1f8f19(0x293)](_0x1f8f19(0x211))));}};class CardDetector{constructor(_0x2ada3a={}){const _0x19c57e=_0x2de1fc;this['options']={'host':null,'headers':null,'serverSide':null,'modelUrl':null,'mirrored':!![],'single':!![]},this[_0x19c57e(0x291)]=null,this[_0x19c57e(0x1a4)]=![],this[_0x19c57e(0x23d)]=null,this[_0x19c57e(0x2d7)]=deepMerge(this[_0x19c57e(0x2d7)],_0x2ada3a),this['originalSize']={'width':0x0,'height':0x0},this[_0x19c57e(0x187)]={'x':0x0,'y':0x0,'width':0x0,'height':0x0},this[_0x19c57e(0x2e5)]={'width':0x12c,'height':0x12c};if(!this[_0x19c57e(0x2d7)][_0x19c57e(0x1b0)])this[_0x19c57e(0x1b2)]();else{}}[_0x2de1fc(0x218)](){const _0x1b8c7e=_0x2de1fc;this[_0x1b8c7e(0x2d7)][_0x1b8c7e(0x1b0)]=OSPlus[_0x1b8c7e(0x255)]()||OSPlus[_0x1b8c7e(0x2d6)]();}['initWorker'](){const _0x1dc65a=_0x2de1fc;this[_0x1dc65a(0x1ac)]=stream['open'](_0x1dc65a(0x223)),this[_0x1dc65a(0x1ac)]['on'](_0x1dc65a(0x20d),_0x328598=>{const _0x1c88d6=_0x1dc65a;if(typeof this[_0x1c88d6(0x291)]===_0x1c88d6(0x1c0)){let _0x33f164=this[_0x1c88d6(0x1ef)](_0x328598,!![]);this[_0x1c88d6(0x291)](_0x33f164);}}),this['stream']['on']('onScanLoaded',_0x57e77a=>{const _0x2ed336=_0x1dc65a;helper_logger['getInstance']()[_0x2ed336(0x308)](_0x2ed336(0x16e)),this[_0x2ed336(0x1a4)]=_0x57e77a;});}[_0x2de1fc(0x217)](){const _0x16aac6=_0x2de1fc;if(!this[_0x16aac6(0x2d7)]['serverSide'])this[_0x16aac6(0x1ac)][_0x16aac6(0x304)](_0x16aac6(0x1f0));else{let _0xe3eeb2=this[_0x16aac6(0x2d7)][_0x16aac6(0x2d0)]!=null?StringExtra['cutLastSlash'](this[_0x16aac6(0x2d7)][_0x16aac6(0x2d0)]):'',_0x3a4fa6=_0xe3eeb2+'/'+_0x16aac6(0x188),_0x5532af=deepMerge({'Content-Type':_0x16aac6(0x277)},this['options'][_0x16aac6(0x1a6)]||{});fetch(_0x3a4fa6,{'method':_0x16aac6(0x299),'headers':_0x5532af})[_0x16aac6(0x1a9)](_0x1f41c=>_0x1f41c[_0x16aac6(0x242)]())['then'](_0x2d7598=>{const _0xd9dc08=_0x16aac6;this[_0xd9dc08(0x1a4)]=_0x2d7598[_0xd9dc08(0x234)],helper_logger[_0xd9dc08(0x192)]()[_0xd9dc08(0x308)](_0xd9dc08(0x2f9),_0x2d7598);})[_0x16aac6(0x16d)](_0x26b9b=>{const _0x41b631=_0x16aac6;this[_0x41b631(0x1a4)]=![],helper_logger[_0x41b631(0x192)]()[_0x41b631(0x308)](_0x41b631(0x222),_0x26b9b);});}}[_0x2de1fc(0x30f)](_0x3acfd2=null){const _0x14e54a=_0x2de1fc;let _0x4ded9b=this[_0x14e54a(0x2d7)]['host']!=null?StringExtra['cutLastSlash'](this[_0x14e54a(0x2d7)][_0x14e54a(0x2d0)]):'',_0xf0e613=_0x4ded9b+'/'+_0x14e54a(0x2ff),_0x341c10=deepMerge({'Content-Type':_0x14e54a(0x277)},this[_0x14e54a(0x2d7)][_0x14e54a(0x1a6)]||{});fetch(_0xf0e613,{'method':_0x14e54a(0x299),'headers':_0x341c10})['then'](_0x474e25=>_0x474e25[_0x14e54a(0x242)]())['then'](_0x38b1f7=>{const _0x4cbc2e=_0x14e54a;this[_0x4cbc2e(0x23d)]=_0x38b1f7[_0x4cbc2e(0x23a)]||null,helper_logger['getInstance']()[_0x4cbc2e(0x308)](_0x4cbc2e(0x2f9),_0x38b1f7),typeof _0x3acfd2==='function'&&_0x3acfd2(this[_0x4cbc2e(0x1a4)],this['loadedTID']);})['catch'](_0x1f0b7c=>{const _0x427193=_0x14e54a;this[_0x427193(0x23d)]=null,helper_logger[_0x427193(0x192)]()[_0x427193(0x308)](_0x427193(0x222),_0x1f0b7c);});}[_0x2de1fc(0x221)](_0x3c316b,_0x4256fd,_0x27ab9c){const _0x3ed1f3=_0x2de1fc;if(!this[_0x3ed1f3(0x2d7)]['serverSide']){this[_0x3ed1f3(0x291)]=_0x27ab9c;let _0x5117f1=this[_0x3ed1f3(0x16a)](_0x3c316b);this['stream'][_0x3ed1f3(0x304)](_0x3ed1f3(0x22d),_0x5117f1);}else{let _0x11b40d=ImageProcessing['canvasToBase64'](_0x3c316b,_0x3ed1f3(0x2e4),0.95),_0xe77102=new FormData();_0xe77102[_0x3ed1f3(0x231)](_0x3ed1f3(0x2bf),_0x11b40d),_0xe77102[_0x3ed1f3(0x231)](_0x3ed1f3(0x27f),'0'),_0xe77102[_0x3ed1f3(0x231)](_0x3ed1f3(0x23a),_0x4256fd);let _0x1985d2=this[_0x3ed1f3(0x2d7)][_0x3ed1f3(0x2d0)]!=null?StringExtra[_0x3ed1f3(0x2ef)](this[_0x3ed1f3(0x2d7)][_0x3ed1f3(0x2d0)]):'',_0x373e7e=_0x1985d2+'/'+_0x3ed1f3(0x314),_0x1bb2c5=deepMerge({},this[_0x3ed1f3(0x2d7)][_0x3ed1f3(0x1a6)]||{});fetch(_0x373e7e,{'method':_0x3ed1f3(0x282),'body':_0xe77102,'headers':_0x1bb2c5})['then'](function(_0x589049){const _0x420bf8=_0x3ed1f3;if(_0x589049['ok'])return _0x589049[_0x420bf8(0x242)]();console[_0x420bf8(0x15a)](_0x420bf8(0x222),_0x589049),typeof _0x27ab9c===_0x420bf8(0x1c0)&&_0x27ab9c(null);})[_0x3ed1f3(0x1a9)](_0x3a54b4=>{const _0x3205be=_0x3ed1f3;helper_logger['getInstance']()[_0x3205be(0x308)](_0x3205be(0x30e),_0x3a54b4);let _0xa27d89=[];_0x3a54b4[_0x3205be(0x234)]===!![]&&_0x3a54b4[_0x3205be(0x26b)]!==undefined&&(_0xa27d89=_0x3a54b4[_0x3205be(0x26b)]);if(_0xa27d89[_0x3205be(0x238)]>0x0){}if(typeof _0x27ab9c==='function'){let _0x22fd3e=this[_0x3205be(0x1ef)](_0xa27d89);_0x27ab9c(_0x22fd3e);}})['catch'](_0x5d297d=>{const _0xaa20d8=_0x3ed1f3;console['error'](_0xaa20d8(0x222),_0x5d297d),typeof _0x27ab9c==='function'&&_0x27ab9c(null);});}}[_0x2de1fc(0x224)](){return this['loaded'];}[_0x2de1fc(0x16a)](_0x587c7a){const _0x4a1b8a=_0x2de1fc;let _0x5f1c0a={'x':0x0,'y':0x0,'w':_0x587c7a[_0x4a1b8a(0x1e5)],'h':_0x587c7a[_0x4a1b8a(0x190)]};return _0x587c7a[_0x4a1b8a(0x1e5)]>_0x587c7a[_0x4a1b8a(0x190)]?(_0x5f1c0a['w']=_0x587c7a[_0x4a1b8a(0x190)],_0x5f1c0a['x']=(_0x587c7a[_0x4a1b8a(0x1e5)]-_0x5f1c0a['w'])/0x2):(_0x5f1c0a['h']=_0x587c7a[_0x4a1b8a(0x1e5)],_0x5f1c0a['y']=(_0x587c7a[_0x4a1b8a(0x190)]-_0x5f1c0a['h'])/0x2),this[_0x4a1b8a(0x33e)]={'x':_0x587c7a[_0x4a1b8a(0x1e5)],'y':_0x587c7a[_0x4a1b8a(0x190)]},this[_0x4a1b8a(0x187)]=_0x5f1c0a,ImageProcessing['cropAndResizeCanvas'](_0x587c7a,_0x5f1c0a['x'],_0x5f1c0a['y'],_0x5f1c0a['w'],_0x5f1c0a['h'],this[_0x4a1b8a(0x2e5)]['width'],this['inputSize']['height']);}[_0x2de1fc(0x30b)](_0x53317e,_0x138d60){const _0x58da3e=_0x2de1fc;let _0x5cb44a=0x1;switch(_0x138d60){case'x':_0x5cb44a=this[_0x58da3e(0x187)]['w']/this[_0x58da3e(0x2e5)][_0x58da3e(0x1e5)];return _0x53317e*_0x5cb44a+this[_0x58da3e(0x187)]['x'];case'y':_0x5cb44a=this[_0x58da3e(0x187)]['h']/this['inputSize'][_0x58da3e(0x190)];return _0x53317e*_0x5cb44a+this[_0x58da3e(0x187)]['y'];case'width':_0x5cb44a=this[_0x58da3e(0x187)]['w']/this[_0x58da3e(0x2e5)][_0x58da3e(0x1e5)];return _0x53317e*_0x5cb44a;case _0x58da3e(0x190):_0x5cb44a=this[_0x58da3e(0x187)]['h']/this[_0x58da3e(0x2e5)]['height'];return _0x53317e*_0x5cb44a;}}['normalizing'](_0x10d2bd,_0x487b71=![]){const _0x11e7a6=_0x2de1fc;let _0x394f8d=[],_0x39b36b=null,_0x10b734=![];for(let _0x47c8b2 in _0x10d2bd){_0x39b36b=_0x10d2bd[_0x47c8b2];_0x487b71&&(_0x39b36b['bbox'][0x0]=this[_0x11e7a6(0x30b)](_0x39b36b[_0x11e7a6(0x215)][0x0],'x'),_0x39b36b[_0x11e7a6(0x215)][0x1]=this[_0x11e7a6(0x30b)](_0x39b36b[_0x11e7a6(0x215)][0x1],'y'),_0x39b36b[_0x11e7a6(0x215)][0x2]=this[_0x11e7a6(0x30b)](_0x39b36b[_0x11e7a6(0x215)][0x2],_0x11e7a6(0x1e5)),_0x39b36b[_0x11e7a6(0x215)][0x3]=this[_0x11e7a6(0x30b)](_0x39b36b['bbox'][0x3],_0x11e7a6(0x190)));_0x10b734=![];for(let _0x1f52cc in _0x394f8d){if(_0x394f8d[_0x1f52cc][_0x11e7a6(0x2a8)]===_0x39b36b[_0x11e7a6(0x2a8)]){let _0x35d286=_0x394f8d[_0x1f52cc],_0xbfda2a=_0x39b36b,_0x320913=0x0,_0x32995b=0x0;if(_0xbfda2a[_0x11e7a6(0x215)][0x0]>_0x35d286[_0x11e7a6(0x215)][0x0]&&_0xbfda2a[_0x11e7a6(0x215)][0x0]<_0x35d286[_0x11e7a6(0x215)][0x0]+_0x35d286['bbox'][0x2])_0x320913=_0x35d286['bbox'][0x0]+_0x35d286[_0x11e7a6(0x215)][0x2]-_0xbfda2a['bbox'][0x0],_0x32995b=_0x320913/_0xbfda2a[_0x11e7a6(0x215)][0x2];else _0x35d286[_0x11e7a6(0x215)][0x0]>_0xbfda2a['bbox'][0x0]&&_0x35d286[_0x11e7a6(0x215)][0x0]<_0xbfda2a[_0x11e7a6(0x215)][0x0]+_0xbfda2a[_0x11e7a6(0x215)][0x2]&&(_0x320913=_0xbfda2a[_0x11e7a6(0x215)][0x0]+_0xbfda2a['bbox'][0x2]-_0x35d286['bbox'][0x0],_0x32995b=_0x320913/_0x35d286['bbox'][0x2]);let _0x10604e=0x0,_0x580569=0x0;if(_0xbfda2a[_0x11e7a6(0x215)][0x1]>_0x35d286['bbox'][0x1]&&_0xbfda2a[_0x11e7a6(0x215)][0x1]<_0x35d286[_0x11e7a6(0x215)][0x1]+_0x35d286[_0x11e7a6(0x215)][0x3])_0x10604e=_0x35d286[_0x11e7a6(0x215)][0x1]+_0x35d286[_0x11e7a6(0x215)][0x3]-_0xbfda2a['bbox'][0x1],_0x580569=_0x320913/_0xbfda2a[_0x11e7a6(0x215)][0x3];else _0x35d286[_0x11e7a6(0x215)][0x1]>_0xbfda2a[_0x11e7a6(0x215)][0x1]&&_0x35d286[_0x11e7a6(0x215)][0x1]<_0xbfda2a['bbox'][0x1]+_0xbfda2a[_0x11e7a6(0x215)][0x3]&&(_0x10604e=_0xbfda2a[_0x11e7a6(0x215)][0x1]+_0xbfda2a[_0x11e7a6(0x215)][0x3]-_0x35d286[_0x11e7a6(0x215)][0x1],_0x580569=_0x320913/_0x35d286[_0x11e7a6(0x215)][0x3]);_0x32995b>0.6&&_0x580569>0.6&&(_0x10b734=!![],_0xbfda2a[_0x11e7a6(0x2ad)]>_0x35d286[_0x11e7a6(0x2ad)]&&(_0x394f8d[_0x1f52cc]=_0x39b36b));}}!_0x10b734&&_0x394f8d[_0x11e7a6(0x17a)](_0x10d2bd[_0x47c8b2]);}if(this[_0x11e7a6(0x2d7)][_0x11e7a6(0x19d)]&&_0x394f8d[_0x11e7a6(0x238)]>0x0){let _0x161249=0x0,_0x440605=0x0;for(let _0x3dbbae in _0x394f8d){_0x394f8d[_0x3dbbae]['score']>_0x161249&&(_0x161249=_0x394f8d[_0x3dbbae]['score'],_0x440605=_0x3dbbae);}return[_0x394f8d[_0x440605]];}return _0x394f8d;}[_0x2de1fc(0x20a)](){const _0x5e75d1=_0x2de1fc;this[_0x5e75d1(0x23d)]=null;}};class MRZReader{constructor(_0x87bcea={}){const _0x3b66e0=_0x2de1fc;this[_0x3b66e0(0x2d7)]={'server':!![],'url':null,'host':null,'checkURI':null},this[_0x3b66e0(0x2d7)]=deepMerge(this[_0x3b66e0(0x2d7)],_0x87bcea);if(this['options'][_0x3b66e0(0x1d5)]==null)this[_0x3b66e0(0x2d7)][_0x3b66e0(0x1d5)]=_0x3b66e0(0x2a6);this[_0x3b66e0(0x1a4)]=![],this[_0x3b66e0(0x2dd)]();}[_0x2de1fc(0x2dd)](){const _0x724cc6=_0x2de1fc;if(!this[_0x724cc6(0x2d7)]['server']){}}[_0x2de1fc(0x217)](){const _0xe0bf96=_0x2de1fc;if(this[_0xe0bf96(0x2d7)][_0xe0bf96(0x171)])this[_0xe0bf96(0x1a4)]=!![];else{}}[_0x2de1fc(0x16b)](_0x110d4f,_0x4dce8e,_0x4a410f){const _0x49d448=_0x2de1fc;if(this[_0x49d448(0x2d7)]['server'])this['recognizeGlobal'](_0x110d4f,_0x4dce8e,_0x4a410f);else{}}[_0x2de1fc(0x23e)](_0x5d446f,_0x8b7a5b,_0x47aa8d){const _0x578aaf=_0x2de1fc;let _0xac35d=ImageProcessing[_0x578aaf(0x33a)](_0x5d446f,_0x578aaf(0x2e4),0.9),_0x22ca3b=new FormData();_0x22ca3b[_0x578aaf(0x231)]('image',_0xac35d),_0x22ca3b[_0x578aaf(0x231)](_0x578aaf(0x23a),_0x8b7a5b);let _0x1b70d8=this[_0x578aaf(0x2d7)][_0x578aaf(0x2d0)]!=null?StringExtra['cutLastSlash'](this['options'][_0x578aaf(0x2d0)]):'',_0x25e9ea=this[_0x578aaf(0x2d7)][_0x578aaf(0x297)]!=null?this[_0x578aaf(0x2d7)][_0x578aaf(0x297)]:_0x1b70d8+'/'+this['options'][_0x578aaf(0x1d5)];fetch(_0x25e9ea,{'method':'POST','body':_0x22ca3b})[_0x578aaf(0x1a9)](_0x4801a9=>_0x4801a9['json']())[_0x578aaf(0x1a9)](_0x590e62=>{const _0x2e971d=_0x578aaf;helper_logger[_0x2e971d(0x192)]()[_0x2e971d(0x308)]('Received:',_0x590e62);let _0x14f5a1=MRZReader[_0x2e971d(0x265)](_0x590e62[_0x2e971d(0x26b)]);_0x590e62[_0x2e971d(0x234)]===![]&&(_0x14f5a1['type']=null),typeof _0x47aa8d===_0x2e971d(0x1c0)&&_0x47aa8d(_0x14f5a1);})['catch'](_0x28ceb4=>{const _0x2ae1f5=_0x578aaf;console[_0x2ae1f5(0x15a)]('Error:',_0x28ceb4),typeof _0x47aa8d===_0x2ae1f5(0x1c0)&&_0x47aa8d(null);});}['recognizeLocal'](_0x29421a,_0x2c5740){}[_0x2de1fc(0x1ed)](_0x2f35af){const _0x3be071=_0x2de1fc;let _0x53b232={'type':null,'text':_0x2f35af,'object':null};if(_0x53b232['count']>0x4b){const _0x127d86=_0x2f35af['substring'](0x0,0x3);if(_0x127d86[_0x3be071(0x2be)]('I<')||_0x127d86['includes']('1<'))_0x53b232[_0x3be071(0x27f)]='I';else(_0x127d86[_0x3be071(0x2be)]('P<')||_0x127d86[_0x3be071(0x2be)]('PC'))&&(_0x53b232[_0x3be071(0x27f)]='P');}return _0x53b232;}static[_0x2de1fc(0x265)](_0x2669d8){const _0x40b434=_0x2de1fc;let _0x3a941a={'type':null,'text':_0x2669d8[_0x40b434(0x263)][_0x40b434(0x29b)](''),'object':_0x2669d8};if(_0x3a941a['text'][_0x40b434(0x238)]>0x4b){const _0x728da3=_0x2669d8[_0x40b434(0x172)];if(_0x728da3[_0x40b434(0x2be)]('I<')||_0x728da3[_0x40b434(0x2be)]('1<'))_0x3a941a[_0x40b434(0x27f)]='I';else(_0x728da3['includes']('P<')||_0x728da3[_0x40b434(0x2be)]('PC'))&&(_0x3a941a[_0x40b434(0x27f)]='P');}return _0x3a941a;}};const DCScanError={'NO_CARD':'nocard','MANY_CARDS':_0x2de1fc(0x1ad),'LOW_LIGHT':'lowlight','HIGH_LIGHT':_0x2de1fc(0x311),'TOO_SMALL':_0x2de1fc(0x31a)},DCScanDocType={'NONE':_0x2de1fc(0x214),'ID':'id','PASSPORT':_0x2de1fc(0x322)},DCScanDocFaces={'NONE':_0x2de1fc(0x214),'ID_FRONT':_0x2de1fc(0x245),'ID_BACK':_0x2de1fc(0x184),'PASS_FRONT':_0x2de1fc(0x240)},DCScanCommand={'NONE':_0x2de1fc(0x214),'SHOW':_0x2de1fc(0x28a),'ID_BACK':_0x2de1fc(0x184),'FINISH':_0x2de1fc(0x2f6)},DCScanSteps={'NONE':_0x2de1fc(0x214),'SCANNING':_0x2de1fc(0x2e9),'FINISH':_0x2de1fc(0x2f6)};class ScanAnalyser{constructor(_0x4e8fda,_0x2ebb2d={}){const _0x583f5a=_0x2de1fc;this['canvas']=_0x4e8fda,this[_0x583f5a(0x2d7)]={'host':null,'headers':null,'mrzOptions':null,'detector':null,'video':null,'area':{'x':0x0,'y':0x0,'width':0x0,'height':0x0},'detectTime':0x64,'useServerSide':null,'onCardDetected':null,'onFaceDetected':null,'onMRZDetected':null,'onDetected':null,'onError':null,'onFinished':null,'onCommand':null,'onCommandResult':null,'onStepChanged':null,'mirrored':!![],'delay':0x1f4,'serverDelay':0x1f4,'cardMinSize':{'width':0x46,'height':0x37}},this[_0x583f5a(0x2d7)]=deepMerge(this[_0x583f5a(0x2d7)],_0x2ebb2d),this[_0x583f5a(0x1ac)]=null,this[_0x583f5a(0x19b)]=![],this[_0x583f5a(0x2d5)]=null,this[_0x583f5a(0x18f)]=DCScanSteps['NONE'],this[_0x583f5a(0x268)]=null,this[_0x583f5a(0x21b)]={},this[_0x583f5a(0x1f6)]={},this[_0x583f5a(0x21a)]=null,this[_0x583f5a(0x2b7)]=null,this[_0x583f5a(0x1de)]=null,this[_0x583f5a(0x30c)]=null,this[_0x583f5a(0x1ec)]=null,this['delay']=this[_0x583f5a(0x2d7)][_0x583f5a(0x2e3)],this[_0x583f5a(0x24a)]=null,this[_0x583f5a(0x2d7)]['useServerSide']&&(this[_0x583f5a(0x2e3)]=this[_0x583f5a(0x2d7)][_0x583f5a(0x1e0)]),this[_0x583f5a(0x205)]=new CardDetector({'mirrored':this[_0x583f5a(0x2d7)][_0x583f5a(0x17d)],'single':!![],'serverSide':this[_0x583f5a(0x2d7)][_0x583f5a(0x246)],'host':this[_0x583f5a(0x2d7)][_0x583f5a(0x2d0)],'headers':this[_0x583f5a(0x2d7)][_0x583f5a(0x1a6)]}),this['mrz']=new MRZReader({'host':this[_0x583f5a(0x2d7)][_0x583f5a(0x2d0)],'url':this[_0x583f5a(0x2d7)][_0x583f5a(0x1d1)]?this[_0x583f5a(0x2d7)][_0x583f5a(0x1d1)][_0x583f5a(0x297)]||null:null}),this['cc']=null,this[_0x583f5a(0x20a)](),!this['options'][_0x583f5a(0x246)]&&this['initWorker']();}[_0x2de1fc(0x233)](){const _0x57d963=_0x2de1fc;this[_0x57d963(0x205)]['load'](),this[_0x57d963(0x32e)]['load'](),this['stream']!=null&&ImageProcessing[_0x57d963(0x25e)](_0x57d963(0x272))['then'](_0x332c5c=>{const _0x59c17f=_0x57d963;this[_0x59c17f(0x1ac)]['notify'](_0x59c17f(0x19e),_0x332c5c);});}[_0x2de1fc(0x1b2)](){const _0x27d17b=_0x2de1fc;this[_0x27d17b(0x1ac)]=stream[_0x27d17b(0x2d4)](_0x27d17b(0x269)),this[_0x27d17b(0x1ac)]['on']('onTinyFaceResult',_0x4e30cc=>{const _0x278f5=_0x27d17b;helper_logger[_0x278f5(0x192)]()[_0x278f5(0x308)]('onFaceResult',_0x4e30cc),this['step']===DCScanSteps[_0x278f5(0x28d)]&&this[_0x278f5(0x268)]!=null&&this[_0x278f5(0x298)](_0x4e30cc);});}['testDetect'](_0x45ba4e,_0x549c90){const _0x4dccd4=_0x2de1fc;this['detector'][_0x4dccd4(0x224)]()&&this[_0x4dccd4(0x205)][_0x4dccd4(0x221)](_0x45ba4e,_0x25e8d0=>{typeof _0x549c90==='function'&&_0x549c90(_0x25e8d0);});}['observe'](){const _0x31f902=_0x2de1fc;if(!this[_0x31f902(0x205)][_0x31f902(0x224)]()||this[_0x31f902(0x24a)]==null)return;else{let _0x45b2ac=new Date()[_0x31f902(0x20f)]();if(this[_0x31f902(0x18f)]===DCScanSteps['NONE']&&_0x45b2ac-this[_0x31f902(0x30c)]>0x3e8)this[_0x31f902(0x18f)]=DCScanSteps[_0x31f902(0x28d)],this[_0x31f902(0x307)](DCScanCommand[_0x31f902(0x213)]);else{if(this[_0x31f902(0x18f)]===DCScanSteps[_0x31f902(0x249)])return;else{if(this[_0x31f902(0x18f)]===DCScanCommand[_0x31f902(0x21c)]){this[_0x31f902(0x1ec)]!=null&&_0x45b2ac-this[_0x31f902(0x1ec)]>0x7d0&&(this['finish'](),this[_0x31f902(0x1ec)]=null);return;}}}}!this[_0x31f902(0x19b)]&&(this[_0x31f902(0x268)]=null,this[_0x31f902(0x21b)]={'card':![],'face':![],'mrz':![]},this[_0x31f902(0x19b)]=!![],this['actualCanvas']=this['canvas'],this[_0x31f902(0x21a)]=ImageProcessing['canvasToImageData'](this[_0x31f902(0x2b7)]),this[_0x31f902(0x205)][_0x31f902(0x221)](this[_0x31f902(0x2b7)],this['tID'],_0x3344b5=>{const _0x2306e1=_0x31f902;this[_0x2306e1(0x266)](_0x3344b5);}));}[_0x2de1fc(0x266)](_0x265d89){const _0x2a394b=_0x2de1fc;let _0x3e285f=_0x265d89!=null&&_0x265d89[_0x2a394b(0x238)]>0x0?_0x265d89[0x0]:null,_0xd54034=null;this[_0x2a394b(0x21b)][_0x2a394b(0x162)]=!![];let _0x5a1978=_0x3e285f!=null?this[_0x2a394b(0x2b3)](_0x3e285f['bbox']):![];_0x3e285f!=null&&!_0x5a1978&&this['callError'](DCScanError[_0x2a394b(0x2f0)]);if(_0x3e285f!=null&&_0x5a1978===!![]){helper_logger[_0x2a394b(0x192)]()[_0x2a394b(0x308)](_0x2a394b(0x278),_0x265d89);let _0x2c9951={'docType':this[_0x2a394b(0x21f)](_0x3e285f['class']),'docFace':this[_0x2a394b(0x2c6)](_0x3e285f['class']),'card':_0x3e285f,'face':null,'mrz':null,'image':null};this[_0x2a394b(0x268)]=_0x2c9951;let _0x3c6a57=ImageProcessing['imageDataToCanvas'](this[_0x2a394b(0x21a)]);_0xd54034=ImageProcessing['cropCanvas'](_0x3c6a57,_0x3e285f['bbox'][0x0],_0x3e285f[_0x2a394b(0x215)][0x1],_0x3e285f[_0x2a394b(0x215)][0x2],_0x3e285f[_0x2a394b(0x215)][0x3]),_0x2c9951[_0x2a394b(0x2bf)]=_0xd54034['toDataURL'](_0x2a394b(0x2e4),0.9),this[_0x2a394b(0x1de)]=_0xd54034;if(this[_0x2a394b(0x1f6)][_0x2a394b(0x1d8)]['length']===0x0&&(_0x2c9951['docFace']===DCScanDocFaces[_0x2a394b(0x27c)]||_0x2c9951[_0x2a394b(0x29e)]===DCScanDocFaces[_0x2a394b(0x287)])){_0x3e285f['face']===undefined||_0x3e285f['face']==null?this[_0x2a394b(0x1ac)][_0x2a394b(0x304)]('getTinyFace',_0xd54034):this[_0x2a394b(0x298)]([_0x3e285f[_0x2a394b(0x22e)]]);if(_0x2c9951[_0x2a394b(0x29e)]===DCScanDocFaces[_0x2a394b(0x287)]){let _0x4272c5=_0xd54034[_0x2a394b(0x190)]*0.7,_0xaa36da=ImageProcessing['cropCanvas'](_0xd54034,0x0,_0x4272c5,_0xd54034[_0x2a394b(0x1e5)],_0xd54034[_0x2a394b(0x190)]-_0x4272c5);if(_0x3e285f[_0x2a394b(0x32e)]===undefined||_0x3e285f['mrz']==null){let _0x406f1f=ImageProcessing['getLaplacianVariance'](_0xaa36da);_0x406f1f>0x5?this['mrz'][_0x2a394b(0x16b)](_0xaa36da,this[_0x2a394b(0x24a)],_0x117d9c=>{const _0xb45139=_0x2a394b;this[_0xb45139(0x303)](_0x117d9c);}):this[_0x2a394b(0x244)](this['delay']);}else this['onMRZDetected'](_0x3e285f[_0x2a394b(0x32e)]);}else this[_0x2a394b(0x21b)][_0x2a394b(0x32e)]=!![];}else{if(this[_0x2a394b(0x1f6)]['scans'][_0x2a394b(0x238)]>0x0&&this['result']['docType']===DCScanDocType['ID']&&_0x2c9951[_0x2a394b(0x29e)]===DCScanDocFaces['ID_BACK']){let _0xe6256e=_0xd54034[_0x2a394b(0x190)]*0.6,_0x9616d6=ImageProcessing[_0x2a394b(0x33b)](_0xd54034,0x0,_0xe6256e,_0xd54034['width'],_0xd54034[_0x2a394b(0x190)]-_0xe6256e);if(_0x3e285f[_0x2a394b(0x32e)]===undefined||_0x3e285f['mrz']==null){let _0x416372=ImageProcessing[_0x2a394b(0x2d2)](_0x9616d6,0xa);_0x416372>0xa?this[_0x2a394b(0x32e)][_0x2a394b(0x16b)](_0x9616d6,this[_0x2a394b(0x24a)],_0x3f9166=>{const _0x21f662=_0x2a394b;this[_0x21f662(0x303)](_0x3f9166);}):this[_0x2a394b(0x244)](this[_0x2a394b(0x2e3)]);}else this[_0x2a394b(0x303)](_0x3e285f[_0x2a394b(0x32e)]);this[_0x2a394b(0x21b)]['face']=!![];}else this[_0x2a394b(0x244)](this[_0x2a394b(0x2e3)]);}this[_0x2a394b(0x23b)](_0x265d89),this[_0x2a394b(0x290)]();}else this[_0x2a394b(0x23b)]([]),this[_0x2a394b(0x281)]([]),this[_0x2a394b(0x244)](this[_0x2a394b(0x2e3)]);}['checkSize'](_0x5b1ad4){const _0x394870=_0x2de1fc;let _0x2a5509=this['actualCanvas'][_0x394870(0x1e5)],_0x4872dc=this[_0x394870(0x2b7)][_0x394870(0x190)],_0xc96bf4=this['options']['cardMinSize'];if(_0x5b1ad4!=null&&_0x5b1ad4[_0x394870(0x238)]>=0x4){if(_0x5b1ad4[0x2]/_0x2a5509*0x64>_0xc96bf4[_0x394870(0x1e5)]||_0x5b1ad4[0x3]/_0x4872dc*0x64>_0xc96bf4[_0x394870(0x190)])return!![];}return![];}['onFaceDetected'](_0x42ce90){const _0x1ddc68=_0x2de1fc;helper_logger[_0x1ddc68(0x192)]()[_0x1ddc68(0x308)](_0x1ddc68(0x298),_0x42ce90),this[_0x1ddc68(0x21b)][_0x1ddc68(0x22e)]=!![];if(this[_0x1ddc68(0x268)]!=null){this['curScan'][_0x1ddc68(0x22e)]=null;if(_0x42ce90[_0x1ddc68(0x238)]>0x0){let _0x3bd9e5=ImageProcessing[_0x1ddc68(0x33b)](this[_0x1ddc68(0x1de)],_0x42ce90[0x0]['x'],_0x42ce90[0x0]['y'],_0x42ce90[0x0]['width'],_0x42ce90[0x0][_0x1ddc68(0x190)]),_0x12890b=ImageProcessing[_0x1ddc68(0x2d2)](_0x3bd9e5,0xa);helper_logger[_0x1ddc68(0x192)]()['log'](_0x1ddc68(0x27d),_0x12890b),_0x12890b>0xa&&(this[_0x1ddc68(0x268)]['face']=_0x42ce90);}typeof this[_0x1ddc68(0x2d7)]['onFaceDetected']===_0x1ddc68(0x1c0)&&this[_0x1ddc68(0x2d7)][_0x1ddc68(0x298)](_0x42ce90),this[_0x1ddc68(0x290)]();}}[_0x2de1fc(0x303)](_0x4efc9e){const _0x40a4db=_0x2de1fc;helper_logger[_0x40a4db(0x192)]()[_0x40a4db(0x308)](_0x40a4db(0x303),_0x4efc9e),this[_0x40a4db(0x21b)][_0x40a4db(0x32e)]=!![];if(this[_0x40a4db(0x268)]==null)return;if(_0x4efc9e!=null&&_0x4efc9e['object']!=null&&_0x4efc9e['object'][_0x40a4db(0x22a)]===!![])this[_0x40a4db(0x268)]['mrz']=_0x4efc9e;else _0x4efc9e!=null&&_0x4efc9e[_0x40a4db(0x22a)]===!![]?this[_0x40a4db(0x268)][_0x40a4db(0x32e)]=MRZReader[_0x40a4db(0x265)](_0x4efc9e):this[_0x40a4db(0x268)][_0x40a4db(0x32e)]=null;typeof this[_0x40a4db(0x2d7)]['onMRZDetected']==='function'&&this[_0x40a4db(0x2d7)]['onMRZDetected'](_0x4efc9e),this[_0x40a4db(0x290)]();}[_0x2de1fc(0x290)](){const _0x529b41=_0x2de1fc;if(!this['isAllScanned']())return;let _0xa0a4b6=this[_0x529b41(0x268)],_0x55ac15=![];if(this[_0x529b41(0x1f6)][_0x529b41(0x1d8)][_0x529b41(0x238)]===0x0&&(_0xa0a4b6[_0x529b41(0x29e)]===DCScanDocFaces[_0x529b41(0x27c)]||_0xa0a4b6[_0x529b41(0x29e)]===DCScanDocFaces[_0x529b41(0x287)]))_0xa0a4b6[_0x529b41(0x29e)]===DCScanDocFaces[_0x529b41(0x27c)]?_0xa0a4b6[_0x529b41(0x162)]!=null&&_0xa0a4b6['face']!=null&&_0xa0a4b6['face']['length']===0x1&&(this[_0x529b41(0x1f6)]['scans'][_0x529b41(0x17a)](_0xa0a4b6),this[_0x529b41(0x1f6)][_0x529b41(0x315)]=DCScanDocType['ID'],this['result'][_0x529b41(0x306)]=![],this[_0x529b41(0x281)](this[_0x529b41(0x268)]),this[_0x529b41(0x307)](DCScanCommand[_0x529b41(0x1b1)]),_0x55ac15=!![],this[_0x529b41(0x244)](this[_0x529b41(0x2e3)])):_0xa0a4b6[_0x529b41(0x162)]!=null&&_0xa0a4b6[_0x529b41(0x22e)]!=null&&_0xa0a4b6[_0x529b41(0x32e)]!=null&&_0xa0a4b6['mrz'][_0x529b41(0x27f)]!=null&&(this[_0x529b41(0x1f6)]['scans'][_0x529b41(0x17a)](_0xa0a4b6),this[_0x529b41(0x1f6)][_0x529b41(0x315)]=DCScanDocType['PASSPORT'],this[_0x529b41(0x1f6)]['status']=!![],this[_0x529b41(0x281)](this[_0x529b41(0x268)]),this[_0x529b41(0x2b4)](DCScanSteps[_0x529b41(0x21c)]),this[_0x529b41(0x1ec)]=new Date()[_0x529b41(0x20f)](),_0x55ac15=!![]);else this['result'][_0x529b41(0x1d8)]['length']===0x1&&this['result'][_0x529b41(0x315)]===DCScanDocType['ID']&&_0xa0a4b6[_0x529b41(0x29e)]===DCScanDocFaces[_0x529b41(0x1b1)]&&(_0xa0a4b6[_0x529b41(0x162)]!=null&&_0xa0a4b6[_0x529b41(0x32e)]!=null&&_0xa0a4b6[_0x529b41(0x32e)]['type']!=null&&(this['result'][_0x529b41(0x1d8)][_0x529b41(0x17a)](_0xa0a4b6),this['result'][_0x529b41(0x306)]=!![],this[_0x529b41(0x281)](this[_0x529b41(0x268)]),this[_0x529b41(0x2b4)](DCScanSteps[_0x529b41(0x21c)]),this[_0x529b41(0x1ec)]=new Date()['getTime'](),_0x55ac15=!![]));!_0x55ac15&&this[_0x529b41(0x21b)][_0x529b41(0x162)]&&this['scanned'][_0x529b41(0x22e)]&&this[_0x529b41(0x21b)][_0x529b41(0x32e)]&&this[_0x529b41(0x244)](this[_0x529b41(0x2e3)]);}[_0x2de1fc(0x1a7)](){const _0xf4ccb=_0x2de1fc;for(let _0x376a1e in this[_0xf4ccb(0x21b)]){if(this['scanned'][_0x376a1e]!==!![])return![];}return!![];}['changeStep'](_0x2288d7){const _0x3ad683=_0x2de1fc;this['step']!==_0x2288d7&&(this[_0x3ad683(0x18f)]=_0x2288d7,typeof this[_0x3ad683(0x2d7)][_0x3ad683(0x335)]==_0x3ad683(0x1c0)&&this[_0x3ad683(0x2d7)][_0x3ad683(0x335)](_0x2288d7));}['callCardDetectedEvent'](_0x591b48){const _0x396f02=_0x2de1fc;_0x591b48!==null&&typeof this[_0x396f02(0x2d7)][_0x396f02(0x266)]===_0x396f02(0x1c0)&&this[_0x396f02(0x2d7)][_0x396f02(0x266)](_0x591b48);}[_0x2de1fc(0x281)](_0x56a514){const _0x4c636f=_0x2de1fc;typeof this[_0x4c636f(0x2d7)][_0x4c636f(0x1bf)]==='function'&&this['options'][_0x4c636f(0x1bf)](_0x56a514);}[_0x2de1fc(0x32b)](_0x2559ea){const _0x30e245=_0x2de1fc;typeof this[_0x30e245(0x2d7)][_0x30e245(0x1d6)]===_0x30e245(0x1c0)&&this[_0x30e245(0x2d7)][_0x30e245(0x1d6)](_0x2559ea);}[_0x2de1fc(0x2cd)](){const _0x187bba=_0x2de1fc;return this[_0x187bba(0x18f)];}[_0x2de1fc(0x244)](_0x364632=null){const _0x336c88=_0x2de1fc;_0x364632=_0x364632==null?this[_0x336c88(0x2e3)]:_0x364632,clearTimeout(this['timeID']),this[_0x336c88(0x2d5)]=setTimeout(()=>{const _0x340553=_0x336c88;this[_0x340553(0x19b)]=![];},_0x364632);}[_0x2de1fc(0x20a)](){const _0x56a95d=_0x2de1fc;this[_0x56a95d(0x18f)]=DCScanCommand[_0x56a95d(0x249)],this[_0x56a95d(0x1f6)]={'status':![],'docType':DCScanDocType['NONE'],'scans':[],'tID':null},this['curScan']=null,this[_0x56a95d(0x21b)]={},this[_0x56a95d(0x19b)]=![],this[_0x56a95d(0x1de)]=null,this[_0x56a95d(0x24a)]=null,this['detector']['reset']();}[_0x2de1fc(0x2ff)](){const _0x499d4d=_0x2de1fc;this[_0x499d4d(0x18f)]=DCScanSteps[_0x499d4d(0x249)],this[_0x499d4d(0x307)](DCScanCommand[_0x499d4d(0x249)]),this[_0x499d4d(0x30c)]=new Date()[_0x499d4d(0x20f)](),!this[_0x499d4d(0x205)][_0x499d4d(0x2d7)][_0x499d4d(0x1b0)]?(this[_0x499d4d(0x24a)]=String(this[_0x499d4d(0x30c)]+Math[_0x499d4d(0x31b)](Math[_0x499d4d(0x230)]()*0x186a0)),this[_0x499d4d(0x1f6)][_0x499d4d(0x24a)]=this[_0x499d4d(0x24a)]):this[_0x499d4d(0x205)][_0x499d4d(0x30f)]((_0x4038fa,_0x5a7b00)=>{const _0x15ab83=_0x499d4d;this[_0x15ab83(0x24a)]=_0x5a7b00,this[_0x15ab83(0x1f6)]['tID']=this['tID'];});}[_0x2de1fc(0x2f6)](){const _0x1a2977=_0x2de1fc;this[_0x1a2977(0x307)](DCScanCommand['FINISH']),typeof this['options']['onFinished']==='function'&&this[_0x1a2977(0x2d7)]['onFinished'](this[_0x1a2977(0x1f6)]);}[_0x2de1fc(0x307)](_0x3a6d06){const _0x556ba6=_0x2de1fc;typeof this[_0x556ba6(0x2d7)]['onCommand']===_0x556ba6(0x1c0)&&this[_0x556ba6(0x2d7)][_0x556ba6(0x2f3)](_0x3a6d06);}[_0x2de1fc(0x21f)](_0x1eac2d){const _0xa0bced=_0x2de1fc;switch(_0x1eac2d){case'id_front':case _0xa0bced(0x184):return DCScanDocType['ID'];case _0xa0bced(0x1eb):return DCScanDocType[_0xa0bced(0x2c8)];default:return DCScanDocType[_0xa0bced(0x249)];}}['defineScanFace'](_0x1e14df){const _0x4caff7=_0x2de1fc;switch(_0x1e14df){case'id_front':return DCScanDocFaces['ID_FRONT'];case _0x4caff7(0x184):return DCScanDocFaces[_0x4caff7(0x1b1)];case _0x4caff7(0x1eb):return DCScanDocFaces[_0x4caff7(0x287)];default:return DCScanDocFaces['NONE'];}}[_0x2de1fc(0x24b)](){const _0x344f48=_0x2de1fc;return this[_0x344f48(0x18f)];}};class vislayer_VisualLayer{constructor(_0x5c5f0f,_0x2535a1={}){const _0x52c307=_0x2de1fc;this[_0x52c307(0x2de)]=_0x5c5f0f,this['options']={'srcDim':{'k':0x1,'dx':0x0,'dy':0x0,'dw':0x0,'dh':0x0},'mirrored':!![]},this[_0x52c307(0x2d7)]=deepMerge(this[_0x52c307(0x2d7)],_0x2535a1),this['cc']=new CoordConverter(this['options'][_0x52c307(0x19f)]);}[_0x2de1fc(0x153)](_0x3ee9b1,_0x3b7ef0,_0x35b0a7){}['drawMask'](){}[_0x2de1fc(0x22c)](_0x1af293){const _0x2297a0=_0x2de1fc;let _0x466f3d=_0x1af293['width']+0x14,_0x5d7250=_0x1af293[_0x2297a0(0x190)]+0x14,_0x5020b7=(this[_0x2297a0(0x2de)][_0x2297a0(0x1e5)]-_0x466f3d*this[_0x2297a0(0x2de)][_0x2297a0(0x1e5)]/0x64)/0x2,_0x1754dc=(this[_0x2297a0(0x2de)]['height']-_0x5d7250*this[_0x2297a0(0x2de)][_0x2297a0(0x190)]/0x64)/0x2,_0x423a0d=this[_0x2297a0(0x2de)][_0x2297a0(0x160)]('2d');_0x423a0d[_0x2297a0(0x313)](),_0x423a0d[_0x2297a0(0x2ed)](),_0x423a0d['lineWidth']='3',_0x423a0d['strokeStyle']='rgba(255,160,24,0.5)',_0x423a0d[_0x2297a0(0x1da)](_0x5020b7,_0x1754dc,this[_0x2297a0(0x2de)]['width']-_0x5020b7*0x2,this[_0x2297a0(0x2de)][_0x2297a0(0x190)]-_0x1754dc*0x2),_0x423a0d[_0x2297a0(0x26d)](),_0x423a0d[_0x2297a0(0x201)](),_0x423a0d[_0x2297a0(0x337)]();}[_0x2de1fc(0x1aa)](_0x352069,_0x196ecf='green',_0x409df5=''){const _0x55cb0a=_0x2de1fc;let _0x1aa92a=this[_0x55cb0a(0x2de)]['getContext']('2d'),_0x224912=null,_0x28d62f=null,_0x5b3565=null;for(let _0x91e179 in _0x352069){_0x5b3565=_0x352069[_0x91e179],this[_0x55cb0a(0x2d7)]['mirrored']?_0x224912=this[_0x55cb0a(0x2de)]['width']-this['cc'][_0x55cb0a(0x28c)](_0x5b3565[_0x55cb0a(0x215)][0x0])-this['cc']['getSize'](_0x5b3565['bbox'][0x2]):_0x224912=this['cc'][_0x55cb0a(0x28c)](_0x5b3565[_0x55cb0a(0x215)][0x0]),_0x28d62f=this['cc']['getCoordY'](_0x5b3565[_0x55cb0a(0x215)][0x1]),_0x1aa92a['beginPath'](),_0x1aa92a[_0x55cb0a(0x1b7)]='2',_0x1aa92a[_0x55cb0a(0x225)]=_0x196ecf,_0x1aa92a[_0x55cb0a(0x1da)](_0x224912,_0x28d62f,this['cc'][_0x55cb0a(0x26e)](_0x5b3565[_0x55cb0a(0x215)][0x2]),this['cc'][_0x55cb0a(0x26e)](_0x5b3565[_0x55cb0a(0x215)][0x3])),_0x1aa92a['stroke'](),_0x1aa92a['lineWidth']='0',_0x1aa92a['fillStyle']=_0x196ecf,_0x1aa92a[_0x55cb0a(0x288)](_0x224912-0x1,_0x28d62f-0x14,0x96,0x14),_0x1aa92a['font']='14px\x20Arial',_0x1aa92a[_0x55cb0a(0x1d4)]=_0x55cb0a(0x212),_0x1aa92a[_0x55cb0a(0x2e6)]=_0x55cb0a(0x26a),_0x1aa92a[_0x55cb0a(0x254)](_0x5b3565['class']+'\x20'+Number(_0x5b3565[_0x55cb0a(0x2ad)])[_0x55cb0a(0x25c)](0x2),_0x224912+0x5,_0x28d62f-0x5),_0x1aa92a[_0x55cb0a(0x26d)](),_0x1aa92a['font']=_0x55cb0a(0x2c5),_0x1aa92a[_0x55cb0a(0x1d4)]=_0x196ecf,_0x1aa92a[_0x55cb0a(0x2e6)]=_0x55cb0a(0x195),_0x1aa92a[_0x55cb0a(0x254)](_0x409df5,_0x224912+this['cc']['getSize'](_0x5b3565['bbox'][0x2])/0x2,_0x28d62f+this['cc']['getSize'](_0x5b3565[_0x55cb0a(0x215)][0x3])/0x2),_0x1aa92a[_0x55cb0a(0x201)]();}_0x1aa92a[_0x55cb0a(0x337)]();}};class ScanWebWorker{constructor(_0x189265={}){const _0x852c40=_0x2de1fc;this[_0x852c40(0x269)]=null,this[_0x852c40(0x1ac)]=null,this[_0x852c40(0x2d7)]={'path':null},this[_0x852c40(0x2d7)]=deepMerge(this[_0x852c40(0x2d7)],_0x189265),this[_0x852c40(0x2dd)]();}[_0x2de1fc(0x2dd)](){const _0x4c27c3=_0x2de1fc;this[_0x4c27c3(0x1ac)]=stream['open'](_0x4c27c3(0x223)),this[_0x4c27c3(0x1ac)]['on'](_0x4c27c3(0x1f0),this[_0x4c27c3(0x1f0)]['bind'](this)),this['stream']['on'](_0x4c27c3(0x22d),this[_0x4c27c3(0x22d)][_0x4c27c3(0x180)](this)),window['Worker']&&this['options'][_0x4c27c3(0x253)]!=null?(this[_0x4c27c3(0x269)]=new Worker(this['options'][_0x4c27c3(0x253)]),this[_0x4c27c3(0x269)]['onmessage']=this['onWorkerMessage'][_0x4c27c3(0x180)](this)):helper_logger[_0x4c27c3(0x192)]()[_0x4c27c3(0x308)](_0x4c27c3(0x2e2));}[_0x2de1fc(0x22d)](_0x2363a0){const _0x2bbfd0=_0x2de1fc;let _0x29094a=null;if(_0x2363a0 instanceof HTMLCanvasElement)_0x29094a=ImageProcessing[_0x2bbfd0(0x1db)](_0x2363a0);else _0x2363a0 instanceof HTMLImageElement&&(_0x29094a=ImageProcessing[_0x2bbfd0(0x273)](_0x2363a0));this[_0x2bbfd0(0x269)][_0x2bbfd0(0x2e0)]({'type':_0x2bbfd0(0x330),'action':'getCard','data':_0x29094a});}['loadCard'](){const _0x759361=_0x2de1fc;this[_0x759361(0x269)][_0x759361(0x2e0)]({'type':_0x759361(0x330),'action':'loadCard'});}['onWorkerMessage'](_0x26f67d){const _0x2c3b98=_0x2de1fc;let _0x38d85f=_0x26f67d[_0x2c3b98(0x26b)][_0x2c3b98(0x27f)],_0x5c75d1=_0x26f67d[_0x2c3b98(0x26b)][_0x2c3b98(0x33c)],_0x5e3392=_0x26f67d['data'][_0x2c3b98(0x26b)];switch(_0x38d85f){case'scan':this['stream'][_0x2c3b98(0x304)](_0x2c3b98(0x20d),_0x5e3392);break;case _0x2c3b98(0x26f):this[_0x2c3b98(0x1ac)]['notify']('onScanLoaded',_0x5e3392);break;default:break;}}};class DeepScanner{constructor(_0x1955ee,_0x12400d={}){const _0x44ef2f=_0x2de1fc;this[_0x44ef2f(0x208)]=null,this[_0x44ef2f(0x2de)]=null,this[_0x44ef2f(0x15d)]=null,this[_0x44ef2f(0x1e4)]={'start':![],'detectInit':![],'analyzeAfterOpen':![]},this[_0x44ef2f(0x269)]=null,this[_0x44ef2f(0x2d7)]={'url':null,'headers':null,'src':null,'sourceType':null,'width':0x780,'height':0x438,'onInit':null,'onFrameCaptured':null,'onCardDetected':null,'onDetected':null,'onCommand':null,'sessionTime':0xea60,'detectTime':0x64,'onFinished':null,'mirrored':!![],'scan_worker_path':'js/deepscanworker.min.js','face_worker_path':_0x44ef2f(0x316),'testURL':null,'mrzOptions':null,'useServerSide':null,'serverRequestDelay':0x1f4,'detector':{},'camera':{'fillOnMobile':!![],'fill':!![],'cutEdge':!![]}},this[_0x44ef2f(0x276)]=null,this['visual']=null,this[_0x44ef2f(0x2a0)]=null,this[_0x44ef2f(0x1a0)]=null,this[_0x44ef2f(0x2a4)]=null,this[_0x44ef2f(0x23c)]=null,this[_0x44ef2f(0x197)]=null,this[_0x44ef2f(0x318)]=null,this[_0x44ef2f(0x327)]=DCScanCommand[_0x44ef2f(0x249)],this['lastResult']=null,this[_0x44ef2f(0x15f)]=0x0,this[_0x44ef2f(0x2d7)]=deepMerge(this[_0x44ef2f(0x2d7)],_0x12400d),(this['options']['useServerSide']==null&&OSPlus['isMobile']()||OSPlus[_0x44ef2f(0x2d6)]())&&(this[_0x44ef2f(0x2d7)][_0x44ef2f(0x246)]=!![]),this[_0x44ef2f(0x204)](_0x1955ee),this[_0x44ef2f(0x2dd)]();}[_0x2de1fc(0x204)](_0x1ec847){const _0x3bb809=_0x2de1fc;this['camera']=new camera(_0x1ec847,{'src':this[_0x3bb809(0x2d7)][_0x3bb809(0x2f4)],'width':this[_0x3bb809(0x2d7)][_0x3bb809(0x1e5)],'height':this[_0x3bb809(0x2d7)][_0x3bb809(0x190)],'fill':this['options'][_0x3bb809(0x15d)]['fill'],'fillOnMobile':this[_0x3bb809(0x2d7)][_0x3bb809(0x15d)][_0x3bb809(0x1dd)],'cutEdge':this['options'][_0x3bb809(0x15d)][_0x3bb809(0x193)],'onFrameUpdated':this[_0x3bb809(0x2cb)][_0x3bb809(0x180)](this),'onLoaded':this['onCameraLoaded'][_0x3bb809(0x180)](this),'onStart':this[_0x3bb809(0x25b)]['bind'](this),'onStop':this[_0x3bb809(0x1fc)]['bind'](this)}),this[_0x3bb809(0x208)]=this[_0x3bb809(0x15d)][_0x3bb809(0x208)],this['canvas']=this['camera'][_0x3bb809(0x2de)];}[_0x2de1fc(0x2dd)](){const _0x9043f8=_0x2de1fc;this['cc']=new CoordConverter(this[_0x9043f8(0x15d)][_0x9043f8(0x2ec)]),this[_0x9043f8(0x1e8)]=new vislayer_VisualLayer(this[_0x9043f8(0x2de)],{'srcDim':this[_0x9043f8(0x15d)]['sourceDim'],'mirrored':this['options'][_0x9043f8(0x17d)]}),this['analizer']=new ScanAnalyser(this[_0x9043f8(0x15d)]['__canvas_original'],{'host':this[_0x9043f8(0x2d7)][_0x9043f8(0x297)],'headers':this[_0x9043f8(0x2d7)]['headers'],'mrzOptions':this[_0x9043f8(0x2d7)][_0x9043f8(0x1d1)],'detector':this[_0x9043f8(0x2d7)][_0x9043f8(0x205)],'useServerSide':this[_0x9043f8(0x2d7)][_0x9043f8(0x246)],'onCommand':this[_0x9043f8(0x2f3)][_0x9043f8(0x180)](this),'onCardDetected':this['onCardDetected'][_0x9043f8(0x180)](this),'onDetected':this['onDetected'][_0x9043f8(0x180)](this),'onFinished':this[_0x9043f8(0x1d9)][_0x9043f8(0x180)](this),'onError':this[_0x9043f8(0x1d6)]['bind'](this),'mirrored':this[_0x9043f8(0x2d7)]['mirrored'],'serverDelay':this[_0x9043f8(0x2d7)][_0x9043f8(0x1ab)]});if(!this[_0x9043f8(0x2d7)][_0x9043f8(0x246)]){let _0x16d7ca=_0x9043f8(0x200)+new Date()[_0x9043f8(0x20f)]();this[_0x9043f8(0x2a0)]=new WebWorker({'path':this['options'][_0x9043f8(0x262)]+_0x16d7ca}),this[_0x9043f8(0x1a0)]=new ScanWebWorker({'path':this['options'][_0x9043f8(0x1c7)]+_0x16d7ca});}this['analizer']['cc']=this['cc'],typeof this[_0x9043f8(0x2d7)][_0x9043f8(0x152)]==_0x9043f8(0x1c0)&&this[_0x9043f8(0x2d7)][_0x9043f8(0x152)]();}[_0x2de1fc(0x2d4)](){const _0x4594cc=_0x2de1fc;!this['camera']['isPlaying']()&&(this[_0x4594cc(0x15d)][_0x4594cc(0x2ff)](),this['analizer'][_0x4594cc(0x233)]());}['close'](){const _0x4a590a=_0x2de1fc;this[_0x4a590a(0x2b6)](),this[_0x4a590a(0x15d)][_0x4a590a(0x2b6)]();}[_0x2de1fc(0x2ff)](){const _0x53f3e4=_0x2de1fc;this[_0x53f3e4(0x2fc)]=null,this[_0x53f3e4(0x327)]=DCScanCommand[_0x53f3e4(0x249)],!this[_0x53f3e4(0x15d)][_0x53f3e4(0x159)]()?(this['open'](),this[_0x53f3e4(0x1e4)][_0x53f3e4(0x1d2)]=!![]):(this[_0x53f3e4(0x1e4)][_0x53f3e4(0x2ff)]=!![],this[_0x53f3e4(0x276)][_0x53f3e4(0x2ff)]()),this[_0x53f3e4(0x32a)](),this[_0x53f3e4(0x15f)]=new Date()[_0x53f3e4(0x20f)]();}['stop'](){const _0x8722ed=_0x2de1fc;this['state'][_0x8722ed(0x2ff)]=![],this[_0x8722ed(0x1e4)]['analyzeAfterOpen']=![],this[_0x8722ed(0x276)]['reset'](),this[_0x8722ed(0x32a)]();}[_0x2de1fc(0x1e7)](_0x194ff4,_0x58d7bd){const _0x21aca4=_0x2de1fc;ImageProcessing[_0x21aca4(0x25e)](_0x194ff4)[_0x21aca4(0x1a9)](_0x1057e7=>{const _0x18ea6d=_0x21aca4;let _0x6b9fe2=ImageProcessing[_0x18ea6d(0x273)](_0x1057e7);this[_0x18ea6d(0x276)][_0x18ea6d(0x164)](_0x6b9fe2,_0x58d7bd);});}[_0x2de1fc(0x32a)](){const _0x307311=_0x2de1fc;this[_0x307311(0x2a4)]=[],this[_0x307311(0x197)]=null,this[_0x307311(0x318)]=null,this['lastDetectedTime']=null,this[_0x307311(0x15f)]=0x0;}[_0x2de1fc(0x1d9)](_0x46bb21){const _0x1e2268=_0x2de1fc;this[_0x1e2268(0x2a4)]=[],this['lastScanned']=null,this[_0x1e2268(0x1e8)][_0x1e2268(0x1aa)]([]),this[_0x1e2268(0x2b6)](),typeof this['options'][_0x1e2268(0x1d9)]==_0x1e2268(0x1c0)&&this['options'][_0x1e2268(0x1d9)](_0x46bb21);}[_0x2de1fc(0x266)](_0x8313b4){const _0x5b280a=_0x2de1fc;this['lastDetected']=_0x8313b4,this[_0x5b280a(0x23c)]=new Date()['getTime'](),typeof this['options']['onCardDetected']===_0x5b280a(0x1c0)&&this[_0x5b280a(0x2d7)][_0x5b280a(0x266)](_0x8313b4);}['onDetected'](_0x4035af){const _0xc39616=_0x2de1fc;this['lastScanned']=_0x4035af,this['lastScannedTime']=new Date()[_0xc39616(0x20f)](),helper_logger[_0xc39616(0x192)]()[_0xc39616(0x308)](_0xc39616(0x175),_0x4035af),typeof this[_0xc39616(0x2d7)][_0xc39616(0x1bf)]===_0xc39616(0x1c0)&&this['options']['onDetected'](this[_0xc39616(0x197)]);}[_0x2de1fc(0x2f3)](_0x16ebbf){const _0x49e654=_0x2de1fc;this['lastCommand']=_0x16ebbf;if(!this['state'][_0x49e654(0x2ff)])return;typeof this[_0x49e654(0x2d7)][_0x49e654(0x2f3)]===_0x49e654(0x1c0)&&this[_0x49e654(0x2d7)]['onCommand'](_0x16ebbf);}[_0x2de1fc(0x29f)](){}[_0x2de1fc(0x1d6)](_0x555433){const _0x2ee943=_0x2de1fc;switch(_0x555433){case DCScanError['TOO_SMALL']:helper_logger[_0x2ee943(0x192)]()[_0x2ee943(0x308)](_0x2ee943(0x2e7));break;default:}}['onFrameUpdated'](){const _0x57c96a=_0x2de1fc;if(this[_0x57c96a(0x1e4)][_0x57c96a(0x2ff)]){let _0x393eb1=this['lastScanned']&&this[_0x57c96a(0x197)][_0x57c96a(0x162)]?[this['lastScanned'][_0x57c96a(0x162)]]:[];if(_0x393eb1['length']===0x0&&this['lastDetected']!=null&&this[_0x57c96a(0x2a4)]['length']>0x0){_0x393eb1=this[_0x57c96a(0x2a4)];let _0xbfe177='';if(this[_0x57c96a(0x327)]===DCScanCommand[_0x57c96a(0x1b1)]&&this[_0x57c96a(0x2a4)][0x0][_0x57c96a(0x2a8)]===_0x57c96a(0x184))_0xbfe177=_0x57c96a(0x319),this[_0x57c96a(0x1e8)][_0x57c96a(0x1aa)](_0x393eb1,_0x57c96a(0x179),_0xbfe177);else this['lastCommand']===DCScanCommand[_0x57c96a(0x213)]&&this[_0x57c96a(0x2a4)][0x0][_0x57c96a(0x2a8)]==='pass_main'&&(_0xbfe177=_0x57c96a(0x319),this[_0x57c96a(0x1e8)][_0x57c96a(0x1aa)](_0x393eb1,_0x57c96a(0x179),_0xbfe177));}else{let _0x226115=this[_0x57c96a(0x178)](this[_0x57c96a(0x318)]);_0x226115!=null&&_0x226115<0x7d0&&this[_0x57c96a(0x1e8)][_0x57c96a(0x1aa)](_0x393eb1);}this[_0x57c96a(0x276)][_0x57c96a(0x24b)]()===DCScanSteps[_0x57c96a(0x28d)]&&this[_0x57c96a(0x1e8)][_0x57c96a(0x22c)](this['analizer'][_0x57c96a(0x2d7)][_0x57c96a(0x28f)]);let _0x18517a=new Date()[_0x57c96a(0x20f)]();_0x18517a-this[_0x57c96a(0x15f)]>this[_0x57c96a(0x2d7)][_0x57c96a(0x2f8)]?this['onFinished']({'status':![],'msg':_0x57c96a(0x2a3)}):this[_0x57c96a(0x276)][_0x57c96a(0x236)]();}}[_0x2de1fc(0x158)](_0x397c0f,_0x134d84){const _0x1adfee=_0x2de1fc;this['cc'][_0x1adfee(0x312)](_0x134d84);}['onCameraStart'](){const _0x5605f7=_0x2de1fc;this[_0x5605f7(0x1e4)][_0x5605f7(0x1d2)]&&(this[_0x5605f7(0x1e4)][_0x5605f7(0x1d2)]=![],this[_0x5605f7(0x2ff)]());}['onCameraStop'](){}[_0x2de1fc(0x178)](_0x3a07a8){if(_0x3a07a8==null)return null;return new Date()['getTime']()-_0x3a07a8;}};const DCAnalyzer={'FACE':_0x2de1fc(0x22e),'SCANNER':_0x2de1fc(0x295)};class DCFaceID{constructor(_0xd32e27={}){const _0xc8c588=_0x2de1fc;this['options']={'url':null,'headers':null,'debug':![]},this[_0xc8c588(0x2d7)]=deepMerge(this[_0xc8c588(0x2d7)],_0xd32e27),this[_0xc8c588(0x26b)]=new DataModel(_0xd32e27[_0xc8c588(0x297)]||null,this[_0xc8c588(0x2d7)]);let _0x2017d0=new helper_logger({'debug':this[_0xc8c588(0x2d7)][_0xc8c588(0x31e)]});}['createDeepFace'](_0x46c507,_0x5ec626){let _0x2cd3da=new DeepFace(_0x46c507,_0x5ec626);return _0x2cd3da;}['createDeepScan'](_0x4d6994,_0x5a4893){const _0x50bb9c=_0x2de1fc;let _0x419a4f=deepMerge({'url':this[_0x50bb9c(0x2d7)][_0x50bb9c(0x297)],'headers':this['options'][_0x50bb9c(0x1a6)]},_0x5a4893),_0x12ed7d=new DeepScanner(_0x4d6994,_0x419a4f);return _0x12ed7d;}['createDeepStory'](_0x54938d,_0x34a67b){}['verify'](_0x45f2f4,_0x327999){const _0x1d5649=_0x2de1fc;this['data'][_0x1d5649(0x329)](_0x45f2f4,_0x546d45=>{const _0x5b9f78=_0x1d5649;typeof _0x327999===_0x5b9f78(0x1c0)&&_0x327999(_0x546d45);});}[_0x2de1fc(0x255)](){const _0x5deaa8=_0x2de1fc;return OSPlus[_0x5deaa8(0x255)]();}}

/* harmony default export */ const dcfaceid = (DCFaceID);


/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		if(__webpack_module_cache__[moduleId]) {
/******/ 			return __webpack_module_cache__[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop)
/******/ 	})();
/******/
/************************************************************************/
/******/ 	// module exports must be returned from runtime so entry inlining is disabled
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(614);
/******/ })()
.default;
});
