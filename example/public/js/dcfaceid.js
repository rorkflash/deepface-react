(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else if(typeof exports === 'object')
		exports["DCFaceID"] = factory();
	else
		root["DCFaceID"] = factory();
})(this, function() {
return /******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ 614:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "default": () => /* binding */ dcfaceid
});

const _0x50b8=['noface','onFrameUpdated','toVerify','onmessage','push','actualCanvas','video','src','rgba(','132rOGSJG','camera','parse','callback','undefined','getTracks','landmark','options','streams','testDetect','textAlign','look\x20right','start','useServerSide','visual','getImageData','data','actionWaitBeforeCheck','status','fit2Size','kind','height','srcObject','filter','addActionTime','card/detect','innerHtml','analyzeAfterOpen','actionWaitTime','none','match','drawArea','rect','drawCard','getTime','outofbounds','NONE','snapshot','checkURI','debug','face\x20laplacian','getCurrentStep','enumerateDevices','getLaplacianVariance','setOptions','request','path','slice','globalAlpha','detectTime','797595lXiHAE','curScan','REJECT','scan','webWorker','PASS_FRONT','orange','look\x20forward','detectedFaceCountDownBeforeStart','toFixed','devicePixelRatio','sessionTimeCount','absolute','recognizeGlobal','look\x20left','current','getVideoTracks','recognize','serverSide','paused','application/json','image/png','onStart','manycards','quadraticCurveTo','drawImage','reject','Success:','finishWaitTime','df-container','startSession','server','commands','loaded','forEach','scanned','beginPath','manyFace','step','width','right','toOriginalSize','tid','ctx','POST','nocard','1GWgRvj','FINISH','appendChild','sourceDim','getTimeDiff','log','delay','1612931TtshPa','ellipse','getLastDetected','style','loading','image/jpeg','success','canvasToImageData','videoWidth','delete','fillText','lineWidth','Worker','center','maskSize','globalCompositeOperation','onStepChanged','textContent','214LNSvYX','defineCurrentAction','some','callCommandChange','state','mediaDevices','rgb(66,109,139)','chrome','shuffle','defineContainer','font','isPlaying','backgroundColor','getInstance','ID_BACK','commandText','onStop','auto','resHeight','setText','getFace','bottom','callCommandResult','fillStyle','offsetHeight','includes','lastResult','mirrored','getContext','onScanLoaded','defineStream','GET','detectTimer','onLoaded','parseObject','face','LEFT','getCoordX','onWorkerMessage','reset','actionText','detect','1219970WtDvgW','scan-worker','hasCommand','1451337OHkhtf','cardImage','analizer','area','down','xor','stream','stringify','notify','onCameraStart','isRearCameraUsed','pass_front','close','strokeStyle','callError','hide','stop','RIGHT','onScanResult','drawMask','Error\x20loading\x20','passport','callDetectedEvent','anonymous','pitch','facingMode','devices','lastDetectedTime','append','left','classList','canvas2grayscale','normalizing','callCardDetectedEvent','actionArea','box','onDetect','pass_full','onCameraStop','name','mrz','sizeKoef','video-layer','errorTime','clear','defineProcess','finishTime','blankCanvas','setAttribute','2etPjrM','single','restore','cutLastSlash','card/ready','onCommand','inputSize','onFinished','index','faceWebWorker','moveTo','isSafari','currentCommand','detector\x20result','onCameraLoaded','fillOnMobile','getSize','outOfBounds','currentActionList','isOffscreenCanvasSupport','toosmall','snapshotlist','toDataURL','areaColor','checkScanResult','srcDim','canvasToBase64','scans','PASSPORT','net','isMobile','apply','results','display','showArea','getLandmark','getBox','getCard','getPassTime','clearSnapshots','data\x20processing,\x20please\x20wait...','environment','chooselist','getStep','count','currentAction','imageToCanvas','dim','crossOrigin','timeID','position','end','20px\x20Arial','showDetectors','indexOf','SCANNING','dom','serverDelay','lowlight','id_back','catch','autoplay','blinking','originalSize','mrzOptions','Initializing','canvas2IMG','onload','checkPosAndActions','innerHTML','getPose','showProcessing','Valid','collect','keys','Received:','act2Command','SUCCESS','drawStreamToCanvas','docFace','clearRect','854571zDQruu','lineTo','currentPosition','webgl','headers','lastScannedTime','onMRZDetected','worker','muted','onFaceDetected','Your\x20browser\x20doesn\x27t\x20support\x20web\x20workers.','14px\x20Arial','init','actions','initContainer','verify','6744mTLHzf','DOWN','getImageFromURL','cropCanvas','createDeepStory','scanner','open','createElement','max','observe','scale','div','startTime','faceDetected','detectionLocked','lastScanned','resizeCanvas','remove','command','error','ID_FRONT','observers','blur','roll','draw\x20mask\x20layer','__canvas','checkCurrentCommandAction','isErrorExist','result','detector','cutEdge','loadedTID','#FFFFFF','top','setCommand','function','play','image','applyConstraints','getTinyFace','initWorker','id_front','currentStepActive','6780CvIiRO','list','scanning','isAllScanned','sessionTime','mrzcheck','card','source-over','defineCommands','setFace','raf','opacity','finished','js/deeptinyfaceworker.min.js','putImageData','isReady','Please\x20follow\x20the\x20commands','tID','valid','assign','videoHeight','onpause','type','getArea','onError','onInit','rear\x20camera\x20used','random','save','getUserMedia','/verify','onCommandResult','load','lastDetected','onStartDownCount','closePath','croppedSize','substr','getCoordY','web\x20camera\x20exception!','ACTIONS','showTextArea','onStreamLoaded','bind','js/deepfaceworker.js','DIV','loadCard','setDim','pass_main','add','black','Card\x20model\x20loaded','text','userAgent','msg','score','onCardDetected','arc','session\x20timeout','host','scanWebWorker','round','getSettings','drawFaces','faceMask','onFaceResult','white','headpos','Error:','floor','green','atan2','interval','fixedTime','streamSize','then','finish','commander','noFace','yaw','cropAndResizeCanvas','docType','defineScanFace','INIT','analyser','onStep','worker_path','url','getCoord','maskInited','highlight','next','lock','show','calculate','postMessage','setup','onloadeddata','1hARGSz','pos','callStepChange','fillRect','unlock','forward','action','errorWaitTime','fireCommand','curFrame','onDetected','processing','lastCommand','tagName','landMarks','look\x20up','onTinyFaceResult','stroke','30px','getImageB64','FORWARD','changeStep','time','Type','cardMinSize','onerror','face_worker_path','drawPath','startingWaitTime','0.5','videoSize','number','videoinput','scanLoaded','bbox','__canvas_original','tinyFaceDetected','areaOpacity','START','length','canvas','class','errors','block','CANVAS','gray','json','defineScanType','imageDataToCanvas','dpr','draw','fill'];const _0x3547be=_0xe49d;(function(_0x485115,_0x977d5e){const _0x2ca904=_0xe49d;while(!![]){try{const _0x290290=parseInt(_0x2ca904(0x1da))*-parseInt(_0x2ca904(0x38b))+-parseInt(_0x2ca904(0x2e6))*parseInt(_0x2ca904(0x277))+parseInt(_0x2ca904(0x215))*parseInt(_0x2ca904(0x2b4))+parseInt(_0x2ca904(0x35a))+-parseInt(_0x2ca904(0x31b))+parseInt(_0x2ca904(0x314))*parseInt(_0x2ca904(0x357))+parseInt(_0x2ca904(0x32d))*parseInt(_0x2ca904(0x1ea));if(_0x290290===_0x977d5e)break;else _0x485115['push'](_0x485115['shift']());}catch(_0x19cd7a){_0x485115['push'](_0x485115['shift']());}}}(_0x50b8,0xd93d7));const deepMerge=(_0x4dfbac,_0x1f9aef)=>{const _0xa10fcc=_0xe49d;for(let _0xfd0a86 of Object[_0xa10fcc(0x3d5)](_0x1f9aef)){_0x1f9aef[_0xfd0a86]instanceof Object&&Object[_0xa10fcc(0x228)](_0x1f9aef[_0xfd0a86],deepMerge(_0x4dfbac[_0xfd0a86]||{},_0x1f9aef[_0xfd0a86]));}return Object[_0xa10fcc(0x228)](_0x4dfbac||{},_0x1f9aef),_0x4dfbac;},canvasRoundRect=(_0x5f2326,_0x303f46,_0x684276,_0x32e2b5,_0x51c6f3,_0x1e075b,_0x51370e,_0x153abd)=>{const _0x5c42d9=_0xe49d;typeof _0x153abd===_0x5c42d9(0x2b8)&&(_0x153abd=!![]);typeof _0x1e075b==='undefined'&&(_0x1e075b=0x5);if(typeof _0x1e075b===_0x5c42d9(0x296))_0x1e075b={'tl':_0x1e075b,'tr':_0x1e075b,'br':_0x1e075b,'bl':_0x1e075b};else{var _0x19f421={'tl':0x0,'tr':0x0,'br':0x0,'bl':0x0};for(var _0x13f6c1 in _0x19f421){_0x1e075b[_0x13f6c1]=_0x1e075b[_0x13f6c1]||_0x19f421[_0x13f6c1];}}_0x5f2326[_0x5c42d9(0x30a)](),_0x5f2326[_0x5c42d9(0x395)](_0x303f46+_0x1e075b['tl'],_0x684276),_0x5f2326[_0x5c42d9(0x1db)](_0x303f46+_0x32e2b5-_0x1e075b['tr'],_0x684276),_0x5f2326['quadraticCurveTo'](_0x303f46+_0x32e2b5,_0x684276,_0x303f46+_0x32e2b5,_0x684276+_0x1e075b['tr']),_0x5f2326[_0x5c42d9(0x1db)](_0x303f46+_0x32e2b5,_0x684276+_0x51c6f3-_0x1e075b['br']),_0x5f2326['quadraticCurveTo'](_0x303f46+_0x32e2b5,_0x684276+_0x51c6f3,_0x303f46+_0x32e2b5-_0x1e075b['br'],_0x684276+_0x51c6f3),_0x5f2326['lineTo'](_0x303f46+_0x1e075b['bl'],_0x684276+_0x51c6f3),_0x5f2326['quadraticCurveTo'](_0x303f46,_0x684276+_0x51c6f3,_0x303f46,_0x684276+_0x51c6f3-_0x1e075b['bl']),_0x5f2326[_0x5c42d9(0x1db)](_0x303f46,_0x684276+_0x1e075b['tl']),_0x5f2326[_0x5c42d9(0x2fe)](_0x303f46,_0x684276,_0x303f46+_0x1e075b['tl'],_0x684276),_0x5f2326[_0x5c42d9(0x238)](),_0x51370e&&_0x5f2326[_0x5c42d9(0x2aa)](),_0x153abd&&_0x5f2326['stroke']();};class StringExtra{static[_0x3547be(0x38e)](_0x4ba6ab){const _0x5d0ee0=_0x3547be;if(_0x4ba6ab[_0x5d0ee0(0x23a)](_0x4ba6ab['length']-0x1)==='/')return _0x4ba6ab[_0x5d0ee0(0x2e3)](0x0,-0x1);return _0x4ba6ab;}};class DataModel{constructor(_0xe96e9c='',_0x1a8336={}){const _0x328578=_0x3547be;this[_0x328578(0x26c)]=_0xe96e9c,this['options']={'headers':{}},this['options']=deepMerge(this[_0x328578(0x2bb)],_0x1a8336);}[_0x3547be(0x2ad)](_0x2c1149,_0xdc28bb){const _0x233272=_0x3547be;if(_0x2c1149==null)return;if(_0x2c1149[_0x233272(0x1ef)]!=null&&_0x2c1149['face']==null){let _0x2a5d9={'docType':_0x2c1149['scanner'][_0x233272(0x266)]||null,'scans':[],'tid':_0x2c1149[_0x233272(0x1ef)][_0x233272(0x226)]};for(let _0xb876fe in _0x2c1149[_0x233272(0x1ef)][_0x233272(0x3a6)]){_0x2a5d9[_0x233272(0x3a6)][_0x233272(0x2af)]({'docFace':_0x2c1149['scanner'][_0x233272(0x3a6)][_0xb876fe]['docFace']||null,'image':_0x2c1149[_0x233272(0x1ef)][_0x233272(0x3a6)][_0xb876fe][_0x233272(0x20f)]});}let _0x3cab3d=deepMerge({'Content-Type':_0x233272(0x2fa)},this[_0x233272(0x2bb)][_0x233272(0x1de)]||{});fetch(StringExtra[_0x233272(0x38e)](this[_0x233272(0x26c)])+_0x233272(0x233),{'method':_0x233272(0x312),'headers':_0x3cab3d,'body':JSON[_0x233272(0x361)](_0x2a5d9)})[_0x233272(0x260)](_0x409436=>_0x409436[_0x233272(0x2a5)]())['then'](_0x4a5426=>{const _0x1b07d4=_0x233272;if(typeof _0xdc28bb===_0x1b07d4(0x20d)){let _0x55b7d5={'success':_0x4a5426[_0x1b07d4(0x321)],'data':_0x4a5426[_0x1b07d4(0x2c4)]||null,'msg':_0x4a5426[_0x1b07d4(0x24b)]||null};_0xdc28bb(_0x55b7d5);}})[_0x233272(0x3c7)](_0x28cc18=>{const _0x42aee9=_0x233272;console['error']('Error:',_0x28cc18),typeof _0xdc28bb===_0x42aee9(0x20d)&&_0xdc28bb({'success':![],'error':_0x28cc18});});}}};class CameraVisualLayer{constructor(_0x566d4c){this['canvas']=_0x566d4c;}[_0x3547be(0x3d4)](){}['showCollection'](){}[_0x3547be(0x376)](){}[_0x3547be(0x2e1)](){}};class OSPlus{static['isMobile'](){const _0x5a6795=_0x3547be,_0x2623e2=[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i];return _0x2623e2[_0x5a6795(0x32f)](_0x18f969=>{const _0x1242c2=_0x5a6795;return navigator[_0x1242c2(0x24a)][_0x1242c2(0x2d2)](_0x18f969);});}static['isWebGLExist'](){const _0x3a7864=_0x3547be;try{let _0x4d1e64=document[_0x3a7864(0x1f1)](_0x3a7864(0x29f));_0x4d1e64[_0x3a7864(0x349)](_0x3a7864(0x1dd));}catch(_0xfff935){return![];}return!![];}static[_0x3547be(0x39e)](){return typeof OffscreenCanvas==='function';}static[_0x3547be(0x396)](){const _0x1f62aa=_0x3547be;let _0x3768c7=navigator[_0x1f62aa(0x24a)]['toLowerCase']();return _0x3768c7[_0x1f62aa(0x3c1)]('safari')!==-0x1&&_0x3768c7[_0x1f62aa(0x3c1)](_0x1f62aa(0x334))===-0x1;}};let instance=null;class Logger{constructor(_0x1a2685={}){const _0x447dd9=_0x3547be;if(!instance)instance=this;else return instance;this['options']={'debug':![]},this[_0x447dd9(0x2e0)](_0x1a2685);}static[_0x3547be(0x33a)](_0x3c12da=null){const _0x44c93c=_0x3547be;if(!instance)instance=new Logger(_0x3c12da||{});else{if(_0x3c12da!=null)instance[_0x44c93c(0x2e0)](_0x3c12da);return instance;}}[_0x3547be(0x2e0)](_0x1da893={}){const _0x34e16c=_0x3547be;this[_0x34e16c(0x2bb)]=deepMerge(this[_0x34e16c(0x2bb)],_0x1da893);}[_0x3547be(0x319)](){const _0x388153=_0x3547be;this[_0x388153(0x2bb)][_0x388153(0x2db)]&&console[_0x388153(0x319)][_0x388153(0x3aa)](null,arguments);}}const helper_logger=Logger;;class DCCamera{constructor(_0x49dc2b,_0x1fc222={}){const _0x578c87=_0x3547be;this[_0x578c87(0x3c3)]=null,this[_0x578c87(0x29f)]=null,this[_0x578c87(0x203)]=null,this['__canvas_original']=null,this[_0x578c87(0x2b1)]=null,this[_0x578c87(0x360)]=null,this['visual']=null,this['raf']=null,this[_0x578c87(0x25f)]={'width':0x0,'height':0x0},this[_0x578c87(0x317)]={'k':0x1,'dx':0x0,'dy':0x0,'dw':0x0,'dh':0x0},this['snapshotlist']=[],this[_0x578c87(0x374)]=[],this['frontCamera']=!![],this['dpr']=0x1,this[_0x578c87(0x2bb)]={'src':null,'sourceType':null,'width':0x280,'height':0x1e0,'resWidth':0x500,'resHeight':0x2d0,'fill':![],'fillOnMobile':!![],'cutEdge':![],'onLoaded':null,'onError':null,'onStop':null,'onStart':null,'onFrameUpdated':null},this[_0x578c87(0x2bb)]=deepMerge(this['options'],_0x1fc222),this[_0x578c87(0x336)](_0x49dc2b),this[_0x578c87(0x275)]();}[_0x3547be(0x336)](_0x1a76cd){const _0x2b73a6=_0x3547be;this[_0x2b73a6(0x2a8)]=window[_0x2b73a6(0x2f0)]||0x1;if(typeof _0x1a76cd=='string'){let _0x59889d=document['getElementById'](_0x1a76cd);if(_0x59889d&&_0x59889d[_0x2b73a6(0x284)]){if(_0x59889d[_0x2b73a6(0x284)]===_0x2b73a6(0x242))this[_0x2b73a6(0x3c3)]=_0x59889d,this[_0x2b73a6(0x3c3)][_0x2b73a6(0x3d0)]='',this[_0x2b73a6(0x29f)]=document['createElement'](_0x2b73a6(0x2a3)),this[_0x2b73a6(0x29f)][_0x2b73a6(0x30d)]=this['options'][_0x2b73a6(0x30d)],this[_0x2b73a6(0x29f)]['height']=this[_0x2b73a6(0x2bb)]['height'],this['dom'][_0x2b73a6(0x316)](this['canvas']);else _0x59889d[_0x2b73a6(0x284)]===_0x2b73a6(0x2a3)&&(this[_0x2b73a6(0x29f)]=_0x59889d,this[_0x2b73a6(0x3c3)]=document[_0x2b73a6(0x1f1)]('DIV'),this[_0x2b73a6(0x29f)]['parentElement']['insertBefore'](this[_0x2b73a6(0x3c3)],this[_0x2b73a6(0x29f)]),this['dom'][_0x2b73a6(0x316)](this['canvas']));this[_0x2b73a6(0x3c3)]&&(this['dom'][_0x2b73a6(0x378)][_0x2b73a6(0x246)](_0x2b73a6(0x303)),this['dom'][_0x2b73a6(0x31e)][_0x2b73a6(0x30d)]=this[_0x2b73a6(0x2bb)][_0x2b73a6(0x30d)]+'px',this[_0x2b73a6(0x3c3)][_0x2b73a6(0x31e)]['height']=this[_0x2b73a6(0x2bb)][_0x2b73a6(0x2c9)]+'px');}this['canvas']&&(this['canvas'][_0x2b73a6(0x378)]['add'](_0x2b73a6(0x384)),this['canvas'][_0x2b73a6(0x31e)][_0x2b73a6(0x339)]=_0x2b73a6(0x2a4));}this[_0x2b73a6(0x203)]=document['createElement'](_0x2b73a6(0x2a3)),this[_0x2b73a6(0x203)]['width']=this['options']['width'],this[_0x2b73a6(0x203)]['height']=this[_0x2b73a6(0x2bb)][_0x2b73a6(0x2c9)],this[_0x2b73a6(0x29a)]=document[_0x2b73a6(0x1f1)](_0x2b73a6(0x2a3)),this[_0x2b73a6(0x29a)]['width']=this['options'][_0x2b73a6(0x30d)],this['__canvas_original'][_0x2b73a6(0x2c9)]=this['options'][_0x2b73a6(0x2c9)];}['setup'](){const _0x5171d8=_0x3547be;this[_0x5171d8(0x2c2)]=new CameraVisualLayer(this[_0x5171d8(0x29f)]);}[_0x3547be(0x2c0)](){const _0x522731=_0x3547be;(this[_0x522731(0x2b1)]==null||!this[_0x522731(0x338)]())&&this[_0x522731(0x34b)]();}[_0x3547be(0x36a)](){const _0x55b3f0=_0x3547be;this[_0x55b3f0(0x360)]&&this['stream'][_0x55b3f0(0x2b9)]()['length']>0x0&&(this[_0x55b3f0(0x360)][_0x55b3f0(0x2b9)]()[0x0]['stop'](),this[_0x55b3f0(0x360)]=null);}[_0x3547be(0x34b)](){const _0x29a41b=_0x3547be;OSPlus[_0x29a41b(0x3a9)]()&&this[_0x29a41b(0x2bb)][_0x29a41b(0x39a)]===!![]&&(this['options'][_0x29a41b(0x2aa)]=!![]);this['options'][_0x29a41b(0x2b2)]==null?this['stream']==null?navigator[_0x29a41b(0x332)]&&navigator['mediaDevices'][_0x29a41b(0x232)]&&(this[_0x29a41b(0x2b1)]===null&&(this['video']=document[_0x29a41b(0x1f1)](_0x29a41b(0x2b1)),this[_0x29a41b(0x2b1)][_0x29a41b(0x38a)](_0x29a41b(0x3c8),''),this[_0x29a41b(0x2b1)][_0x29a41b(0x38a)](_0x29a41b(0x1e2),''),this[_0x29a41b(0x2b1)][_0x29a41b(0x38a)]('playsinline',''),this[_0x29a41b(0x2b1)]['style'][_0x29a41b(0x30d)]='30px',this[_0x29a41b(0x2b1)]['style'][_0x29a41b(0x2c9)]=_0x29a41b(0x289),this[_0x29a41b(0x2b1)][_0x29a41b(0x31e)][_0x29a41b(0x3bd)]=_0x29a41b(0x2f2),this[_0x29a41b(0x3c3)][_0x29a41b(0x316)](this['video']),this[_0x29a41b(0x2b1)][_0x29a41b(0x31e)][_0x29a41b(0x220)]=_0x29a41b(0x294)),this['raf']=null,navigator[_0x29a41b(0x332)][_0x29a41b(0x2de)]()[_0x29a41b(0x260)](_0x1fe4da=>{const _0x4869d4=_0x29a41b;helper_logger[_0x4869d4(0x33a)]()[_0x4869d4(0x319)]('media\x20devices',_0x1fe4da),this[_0x4869d4(0x374)]=_0x1fe4da;}),navigator[_0x29a41b(0x332)][_0x29a41b(0x232)]({'audio':![],'video':{'facingMode':_0x29a41b(0x3b4),'width':{'ideal':this[_0x29a41b(0x2bb)]['resWidth']},'height':{'ideal':this[_0x29a41b(0x2bb)][_0x29a41b(0x33f)]}}})['then'](_0x50fa54=>{const _0x1c4aa0=_0x29a41b;this['stream']=_0x50fa54,this[_0x1c4aa0(0x2b1)][_0x1c4aa0(0x2ca)]=_0x50fa54;let _0x321a57=_0x50fa54['getVideoTracks']()[0x0];_0x321a57[_0x1c4aa0(0x210)]({'focusMode':_0x1c4aa0(0x33e),'focusDistance':0.33}),this[_0x1c4aa0(0x364)]()&&(helper_logger['getInstance']()[_0x1c4aa0(0x319)](_0x1c4aa0(0x22f)),this['frontCamera']=![]),_0x2d91e7(),this[_0x1c4aa0(0x2b1)]['play']();})[_0x29a41b(0x3c7)](_0x4053c6=>{const _0x5076cb=_0x29a41b;helper_logger[_0x5076cb(0x33a)]()['log'](_0x5076cb(0x23c),_0x4053c6),this[_0x5076cb(0x22d)](_0x4053c6);})):this[_0x29a41b(0x2b1)][_0x29a41b(0x20e)]():(this[_0x29a41b(0x2b1)][_0x29a41b(0x2b2)]=this[_0x29a41b(0x2bb)][_0x29a41b(0x2b2)],this[_0x29a41b(0x2b1)][_0x29a41b(0x20e)]());let _0x2d91e7=()=>{const _0xc20432=_0x29a41b;this[_0xc20432(0x2b1)][_0xc20432(0x276)]=()=>{const _0x4391eb=_0xc20432;this[_0x4391eb(0x23f)]();},this['video']['onplaying']=()=>{const _0x2b931c=_0xc20432;this['__canvas'][_0x2b931c(0x30d)]=this[_0x2b931c(0x2b1)][_0x2b931c(0x323)],this[_0x2b931c(0x203)][_0x2b931c(0x2c9)]=this['video']['videoHeight'],this['__canvas_original'][_0x2b931c(0x30d)]=this[_0x2b931c(0x2b1)][_0x2b931c(0x323)],this['__canvas_original'][_0x2b931c(0x2c9)]=this['video'][_0x2b931c(0x229)];let _0x44f495=this[_0x2b931c(0x2b1)][_0x2b931c(0x323)],_0x308693=this[_0x2b931c(0x2b1)][_0x2b931c(0x229)],_0x41f8e2=0x1;this['sourceDim']['dw']=this['canvas'][_0x2b931c(0x30d)],this[_0x2b931c(0x317)]['dh']=this['canvas'][_0x2b931c(0x2c9)];this[_0x2b931c(0x2bb)]['fill']?this[_0x2b931c(0x29f)][_0x2b931c(0x2c9)]/_0x308693<this['canvas']['width']/_0x44f495?(_0x41f8e2=this[_0x2b931c(0x29f)][_0x2b931c(0x30d)]/_0x44f495,this[_0x2b931c(0x317)]['dh']=Math[_0x2b931c(0x252)](_0x41f8e2*_0x308693),this[_0x2b931c(0x317)]['dy']=0x0,this[_0x2b931c(0x2bb)][_0x2b931c(0x208)]&&(this[_0x2b931c(0x29a)][_0x2b931c(0x2c9)]=this[_0x2b931c(0x29f)]['height']/_0x41f8e2,this[_0x2b931c(0x203)][_0x2b931c(0x2c9)]=this[_0x2b931c(0x29f)][_0x2b931c(0x2c9)]/_0x41f8e2)):(_0x41f8e2=this[_0x2b931c(0x29f)][_0x2b931c(0x2c9)]/_0x308693,this['sourceDim']['dw']=Math['round'](_0x41f8e2*_0x44f495),this[_0x2b931c(0x317)]['dx']=0x0,this['options']['cutEdge']&&(this['__canvas_original'][_0x2b931c(0x30d)]=this[_0x2b931c(0x29f)][_0x2b931c(0x30d)]/_0x41f8e2,this[_0x2b931c(0x203)][_0x2b931c(0x30d)]=this[_0x2b931c(0x29f)][_0x2b931c(0x30d)]/_0x41f8e2)):this[_0x2b931c(0x29f)]['height']/_0x308693<this['canvas'][_0x2b931c(0x30d)]/_0x44f495?(_0x41f8e2=this['canvas'][_0x2b931c(0x2c9)]/_0x308693,this['sourceDim']['dw']=Math[_0x2b931c(0x252)](_0x41f8e2*_0x44f495),this['sourceDim']['dx']=(this['canvas']['width']-this[_0x2b931c(0x317)]['dw'])/0x2):(_0x41f8e2=this['canvas'][_0x2b931c(0x30d)]/_0x44f495,this[_0x2b931c(0x317)]['dh']=Math['round'](_0x41f8e2*_0x308693),this['sourceDim']['dy']=(this[_0x2b931c(0x29f)][_0x2b931c(0x2c9)]-this[_0x2b931c(0x317)]['dh'])/0x2);this[_0x2b931c(0x317)]['k']=_0x41f8e2;if(this[_0x2b931c(0x21f)]!=null)cancelAnimationFrame(this[_0x2b931c(0x21f)]);this[_0x2b931c(0x21f)]=requestAnimationFrame(this[_0x2b931c(0x1d7)]['bind'](this)),this[_0x2b931c(0x25f)]={'width':this[_0x2b931c(0x2b1)][_0x2b931c(0x323)],'height':this[_0x2b931c(0x2b1)][_0x2b931c(0x229)]},this['onStart']();},this[_0xc20432(0x2b1)][_0xc20432(0x22a)]=()=>{const _0x222845=_0xc20432;cancelAnimationFrame(this[_0x222845(0x21f)]),this[_0x222845(0x33d)]();};};}async['drawStreamToCanvas'](){const _0x5ed51e=_0x3547be;let _0x16ab17=this['frontCamera']?-0x1:0x1,_0x3961ee=this[_0x5ed51e(0x317)],_0x15aea9=this[_0x5ed51e(0x2b1)][_0x5ed51e(0x323)],_0x2cb9f3=this['video'][_0x5ed51e(0x229)],_0x4857d5=this[_0x5ed51e(0x29a)]['getContext']('2d');_0x4857d5[_0x5ed51e(0x231)](),_0x4857d5[_0x5ed51e(0x1f4)](0x1,0x1);this[_0x5ed51e(0x2bb)]['fill']&&this[_0x5ed51e(0x2bb)][_0x5ed51e(0x208)]?_0x4857d5[_0x5ed51e(0x2ff)](this[_0x5ed51e(0x2b1)],(this[_0x5ed51e(0x29a)][_0x5ed51e(0x30d)]-_0x15aea9)/0x2,(this['__canvas_original']['height']-_0x2cb9f3)/0x2,_0x15aea9,_0x2cb9f3):_0x4857d5[_0x5ed51e(0x2ff)](this[_0x5ed51e(0x2b1)],0x0,0x0,this[_0x5ed51e(0x29a)][_0x5ed51e(0x30d)],this['__canvas_original'][_0x5ed51e(0x2c9)]);_0x4857d5[_0x5ed51e(0x38d)]();let _0x3cc7ff=this[_0x5ed51e(0x203)][_0x5ed51e(0x349)]('2d');_0x3cc7ff['save'](),_0x3cc7ff[_0x5ed51e(0x1f4)](_0x16ab17,0x1);this[_0x5ed51e(0x2bb)][_0x5ed51e(0x2aa)]&&this[_0x5ed51e(0x2bb)]['cutEdge']?_0x3cc7ff['drawImage'](this[_0x5ed51e(0x2b1)],_0x16ab17*(this[_0x5ed51e(0x203)]['width']-_0x15aea9)/0x2+(_0x16ab17===-0x1?_0x16ab17*_0x15aea9:0x0),(this[_0x5ed51e(0x203)][_0x5ed51e(0x2c9)]-_0x2cb9f3)/0x2,_0x15aea9,_0x2cb9f3):_0x3cc7ff[_0x5ed51e(0x2ff)](this['video'],_0x16ab17===-0x1?_0x16ab17*_0x15aea9:0x0,0x0,this['__canvas']['width'],this[_0x5ed51e(0x203)]['height']);_0x3cc7ff['restore']();let _0x5e9489=this[_0x5ed51e(0x29f)][_0x5ed51e(0x349)]('2d'),_0x5dd59f=(this[_0x5ed51e(0x29f)][_0x5ed51e(0x30d)]-this['sourceDim']['dw'])/0x2,_0x1bbf23=(this[_0x5ed51e(0x29f)][_0x5ed51e(0x2c9)]-this['sourceDim']['dh'])/0x2;_0x5e9489[_0x5ed51e(0x1d9)](0x0,0x0,this[_0x5ed51e(0x29f)][_0x5ed51e(0x30d)],this[_0x5ed51e(0x29f)][_0x5ed51e(0x2c9)]),_0x5e9489['save'](),_0x5e9489[_0x5ed51e(0x1f4)](_0x16ab17*0x1,0x1),_0x5e9489['drawImage'](this[_0x5ed51e(0x2b1)],_0x16ab17*_0x5dd59f+(_0x16ab17===-0x1?_0x16ab17*_0x3961ee['dw']:0x0),_0x1bbf23,_0x3961ee['dw'],_0x3961ee['dh']),_0x5e9489['restore']();if(this[_0x5ed51e(0x360)]==null)return;this[_0x5ed51e(0x2ac)](),this[_0x5ed51e(0x21f)]=requestAnimationFrame(this[_0x5ed51e(0x1d7)]['bind'](this));}[_0x3547be(0x364)](){const _0x43152f=_0x3547be;let _0x882208=[];for(let _0x551235 in this[_0x43152f(0x374)]){this['devices'][_0x551235][_0x43152f(0x2c8)]===_0x43152f(0x297)&&_0x882208[_0x43152f(0x2af)](this[_0x43152f(0x374)][_0x551235]);}let _0x43953f=this[_0x43152f(0x360)]?this['stream'][_0x43152f(0x2f6)]()[0x0][_0x43152f(0x253)]()[_0x43152f(0x373)]||null:null;helper_logger[_0x43152f(0x33a)]()[_0x43152f(0x319)](_0x43152f(0x374),this[_0x43152f(0x374)]),helper_logger[_0x43152f(0x33a)]()['log'](_0x43152f(0x373),_0x43953f);if(_0x43953f==='environment')return!![];return![];}[_0x3547be(0x338)](){const _0x35d398=_0x3547be;return this[_0x35d398(0x360)]&&this[_0x35d398(0x2b1)]&&!this[_0x35d398(0x2b1)][_0x35d398(0x2f9)];}['getImageData'](){const _0x5808d9=_0x3547be;let _0x4cfa59=this[_0x5808d9(0x203)][_0x5808d9(0x349)]('2d');return _0x4cfa59['getImageData'](0x0,0x0,this[_0x5808d9(0x203)]['width'],this[_0x5808d9(0x203)][_0x5808d9(0x2c9)]);}[_0x3547be(0x28a)](){const _0x4b7df0=_0x3547be;return this[_0x4b7df0(0x203)][_0x4b7df0(0x3a1)]();}['getSnapshots'](){return this['snapshotlist'];}[_0x3547be(0x2d9)](){const _0x53042a=_0x3547be;this[_0x53042a(0x3a0)]['push'](this['getImageB64']());}[_0x3547be(0x3b2)](){const _0x59d02a=_0x3547be;this[_0x59d02a(0x3a0)]=[];}[_0x3547be(0x22d)](_0x46333d){const _0x3be6e1=_0x3547be;typeof this[_0x3be6e1(0x2bb)][_0x3be6e1(0x22d)]===_0x3be6e1(0x20d)&&this[_0x3be6e1(0x2bb)][_0x3be6e1(0x22d)](_0x46333d);}['onStreamLoaded'](){const _0x48d7e4=_0x3547be;typeof this[_0x48d7e4(0x2bb)][_0x48d7e4(0x34e)]===_0x48d7e4(0x20d)&&this[_0x48d7e4(0x2bb)][_0x48d7e4(0x34e)](this['video'],this[_0x48d7e4(0x317)]);}['onStop'](){const _0x3b696c=_0x3547be;typeof this['options'][_0x3b696c(0x33d)]===_0x3b696c(0x20d)&&this[_0x3b696c(0x2bb)][_0x3b696c(0x33d)]();}['onStart'](){const _0x256868=_0x3547be;typeof this['options'][_0x256868(0x2fc)]===_0x256868(0x20d)&&this[_0x256868(0x2bb)][_0x256868(0x2fc)]();}[_0x3547be(0x2ac)](){const _0x560ff5=_0x3547be;typeof this[_0x560ff5(0x2bb)][_0x560ff5(0x2ac)]===_0x560ff5(0x20d)&&this[_0x560ff5(0x2bb)][_0x560ff5(0x2ac)]();}}const camera=DCCamera;;class CoordConverter{constructor(_0x29dc5a={'k':0x1,'dx':0x0,'dy':0x0,'dw':0x0,'dh':0x0}){const _0x3ed964=_0x3547be;this[_0x3ed964(0x3ba)]=_0x29dc5a;}['setDim'](_0x4c6ec9){this['dim']=_0x4c6ec9;}[_0x3547be(0x26d)](_0x43ec04,_0x34db43){const _0x12a608=_0x3547be;return{'x':_0x43ec04*this[_0x12a608(0x3ba)]['k']+this[_0x12a608(0x3ba)]['dx'],'y':_0x34db43*this['dim']['k']+this[_0x12a608(0x3ba)]['dy']};}['getCoordX'](_0x3d3ae3){const _0x341c94=_0x3547be;return _0x3d3ae3*this[_0x341c94(0x3ba)]['k']+this[_0x341c94(0x3ba)]['dx'];}[_0x3547be(0x23b)](_0x29139b){const _0x537ed7=_0x3547be;return _0x29139b*this[_0x537ed7(0x3ba)]['k']+this['dim']['dy'];}[_0x3547be(0x39b)](_0x38bcc9){const _0x1a5ed6=_0x3547be;return _0x38bcc9*this[_0x1a5ed6(0x3ba)]['k'];}['toRealCoordX'](_0x24bf16){const _0x2755d1=_0x3547be;return _0x24bf16/this[_0x2755d1(0x3ba)]['k']-this[_0x2755d1(0x3ba)]['dx'];}['toRealCoordY'](_0x1d1187){const _0x10bd36=_0x3547be;return _0x1d1187/this[_0x10bd36(0x3ba)]['k']-this[_0x10bd36(0x3ba)]['dy'];}};class MaskLayer{constructor(_0x42f4c6,_0x3efe5e={'width':0x0,'height':0x0},_0x3d2fdd={'width':0x0,'height':0x0}){const _0xd5d619=_0x3547be;this['dom']=_0x42f4c6,this[_0xd5d619(0x29f)]=null,this['ctx']=null,this[_0xd5d619(0x33c)]=null,this[_0xd5d619(0x355)]=null,this[_0xd5d619(0x295)]=_0x3efe5e,this[_0xd5d619(0x329)]=_0x3d2fdd,this[_0xd5d619(0x26e)]=![],this[_0xd5d619(0x383)]={'h':0.4,'v':0.6},(this[_0xd5d619(0x329)][_0xd5d619(0x30d)]===0x0||this['maskSize'][_0xd5d619(0x2c9)]===0x0)&&(this[_0xd5d619(0x329)]={'width':this['videoSize'][_0xd5d619(0x30d)]*this[_0xd5d619(0x383)]['h'],'height':this['videoSize'][_0xd5d619(0x30d)]*this[_0xd5d619(0x383)]['v']}),this[_0xd5d619(0x275)]();}['setup'](){const _0x3c503a=_0x3547be;this[_0x3c503a(0x3c3)]!=null&&(this['canvas']=document[_0x3c503a(0x1f1)]('CANVAS'),this[_0x3c503a(0x29f)]['id']='maskLayer',this[_0x3c503a(0x29f)]['width']=this[_0x3c503a(0x295)][_0x3c503a(0x30d)],this[_0x3c503a(0x29f)][_0x3c503a(0x2c9)]=this[_0x3c503a(0x295)][_0x3c503a(0x2c9)],this[_0x3c503a(0x3c3)]['appendChild'](this[_0x3c503a(0x29f)]),this[_0x3c503a(0x311)]=this['canvas'][_0x3c503a(0x349)]('2d'));}['createTextArea'](){const _0x577166=_0x3547be;if(!this['commandText']){this[_0x577166(0x33c)]=document[_0x577166(0x1f1)](_0x577166(0x1f5)),this[_0x577166(0x33c)]['id']='commandArea';let _0x247884=document[_0x577166(0x1f1)]('P');_0x247884[_0x577166(0x32c)]='',this[_0x577166(0x33c)][_0x577166(0x316)](_0x247884),this[_0x577166(0x3c3)][_0x577166(0x316)](this[_0x577166(0x33c)]);let _0x18d0fa=((this[_0x577166(0x29f)][_0x577166(0x2c9)]-this[_0x577166(0x329)][_0x577166(0x2c9)])/0x2-this['commandText'][_0x577166(0x345)])/0x2;this['commandText'][_0x577166(0x31e)][_0x577166(0x20b)]=_0x18d0fa+'px';}else this[_0x577166(0x33c)][_0x577166(0x31e)][_0x577166(0x3ac)]=_0x577166(0x2a2);if(!this[_0x577166(0x355)]){this['actionText']=document[_0x577166(0x1f1)](_0x577166(0x1f5)),this[_0x577166(0x355)]['id']=_0x577166(0x37c);let _0x3bd1c9=document[_0x577166(0x1f1)]('P');_0x3bd1c9[_0x577166(0x32c)]='',this[_0x577166(0x355)]['appendChild'](_0x3bd1c9),this[_0x577166(0x3c3)]['appendChild'](this[_0x577166(0x355)]);let _0x4f6f44=((this[_0x577166(0x29f)]['height']-this[_0x577166(0x329)][_0x577166(0x2c9)])/0x2-this['commandText'][_0x577166(0x345)])/0x2;this[_0x577166(0x355)][_0x577166(0x31e)][_0x577166(0x342)]=_0x4f6f44+'px';}else this['actionText'][_0x577166(0x31e)]['display']='block';}['showTextArea'](){const _0x305bcf=_0x3547be;if(this[_0x305bcf(0x33c)])this[_0x305bcf(0x33c)][_0x305bcf(0x31e)][_0x305bcf(0x3ac)]='';if(this['actionText'])this[_0x305bcf(0x355)][_0x305bcf(0x31e)][_0x305bcf(0x3ac)]='';}['hideTextArea'](){const _0x88ad1=_0x3547be;if(this[_0x88ad1(0x33c)])this[_0x88ad1(0x33c)][_0x88ad1(0x31e)][_0x88ad1(0x3ac)]=_0x88ad1(0x2d1);if(this[_0x88ad1(0x355)])this[_0x88ad1(0x355)][_0x88ad1(0x31e)]['display']=_0x88ad1(0x2d1);}[_0x3547be(0x340)](_0x276a9b){const _0x1acb9e=_0x3547be;if(this[_0x1acb9e(0x355)])this[_0x1acb9e(0x355)][_0x1acb9e(0x2ce)]=_0x276a9b;}[_0x3547be(0x20c)](_0x9eff6){const _0x50fc4b=_0x3547be;if(this[_0x50fc4b(0x33c)])this[_0x50fc4b(0x33c)]['innerHtml']=_0x9eff6;}['getArea'](){const _0x3fcda0=_0x3547be;return{'x':this[_0x3fcda0(0x29f)]['width']/0x2-this[_0x3fcda0(0x329)]['width']/0x2-0x14,'y':this[_0x3fcda0(0x29f)][_0x3fcda0(0x2c9)]/0x2-this[_0x3fcda0(0x329)][_0x3fcda0(0x30d)]/0x2-0x14,'width':this[_0x3fcda0(0x329)][_0x3fcda0(0x30d)],'height':this[_0x3fcda0(0x329)]['height']};}['draw'](){const _0x407994=_0x3547be;if(!this['maskInited']){console['log'](_0x407994(0x202)),this['ctx'][_0x407994(0x231)](),this[_0x407994(0x311)][_0x407994(0x30a)](),this[_0x407994(0x311)][_0x407994(0x31c)](this['canvas'][_0x407994(0x30d)]/0x2,this[_0x407994(0x29f)][_0x407994(0x2c9)]/0x2,this[_0x407994(0x329)][_0x407994(0x30d)]/0x2,this['maskSize'][_0x407994(0x2c9)]/0x2,Math['PI'],0x0,0x2*Math['PI']),this['ctx'][_0x407994(0x344)]=_0x407994(0x333),this[_0x407994(0x311)][_0x407994(0x2aa)](),this[_0x407994(0x311)][_0x407994(0x32a)]=_0x407994(0x35f),this['ctx']['beginPath'](),this[_0x407994(0x311)][_0x407994(0x2d4)](0x0,0x0,this[_0x407994(0x29f)]['width'],this[_0x407994(0x29f)][_0x407994(0x2c9)]),this[_0x407994(0x311)][_0x407994(0x344)]='rgba(0,\x200,\x200,\x201)',this[_0x407994(0x311)][_0x407994(0x238)](),this['ctx']['fill'](),this[_0x407994(0x311)][_0x407994(0x2e4)]=0.5;let _0x3c62e2=this[_0x407994(0x29f)][_0x407994(0x3a1)]();this[_0x407994(0x311)][_0x407994(0x32a)]=_0x407994(0x21c);let _0x57a446=new Image();_0x57a446[_0x407994(0x3ce)]=()=>{const _0x5271ac=_0x407994;this[_0x5271ac(0x311)]['clearRect'](0x0,0x0,this[_0x5271ac(0x29f)][_0x5271ac(0x30d)],this['canvas'][_0x5271ac(0x2c9)]),this[_0x5271ac(0x311)][_0x5271ac(0x2ff)](_0x57a446,0x0,0x0);},_0x57a446[_0x407994(0x2b2)]=_0x3c62e2,this[_0x407994(0x26e)]=!![],this['createTextArea']();}}[_0x3547be(0x272)](){const _0x5a65a4=_0x3547be;!this['maskInited']?(this[_0x5a65a4(0x2a9)](),this[_0x5a65a4(0x29f)]['style'][_0x5a65a4(0x3ac)]=_0x5a65a4(0x2a2)):(this[_0x5a65a4(0x23e)](),this[_0x5a65a4(0x29f)]['style'][_0x5a65a4(0x3ac)]=_0x5a65a4(0x2a2));}[_0x3547be(0x369)](){const _0x2c24de=_0x3547be;this['hideTextArea'](),this[_0x2c24de(0x29f)]['style'][_0x2c24de(0x3ac)]=_0x2c24de(0x2d1);}[_0x3547be(0x324)](){const _0x109f94=_0x3547be;this[_0x109f94(0x311)][_0x109f94(0x1d9)](0x0,0x0,this['canvas']['width'],this[_0x109f94(0x29f)][_0x109f94(0x2c9)]),this['ctx'][_0x109f94(0x38d)]();}};class VisualLayer{constructor(_0x55a499,_0x23224f={}){const _0xe8084a=_0x3547be;this[_0xe8084a(0x29f)]=_0x55a499,this['options']={'srcDim':{'k':0x1,'dx':0x0,'dy':0x0,'dw':0x0,'dh':0x0}},this['options']=deepMerge(this['options'],_0x23224f),this['cc']=new CoordConverter(this[_0xe8084a(0x2bb)]['srcDim']);}[_0x3547be(0x292)](_0x40b7f2,_0x23bc5c,_0x1a71e4){const _0x5a8ee8=_0x3547be,_0x641656=new Path2D();_0x641656[_0x5a8ee8(0x395)](_0x23bc5c[0x0][0x0],_0x23bc5c[0x0][0x1]);for(let _0xc00cff=0x1;_0xc00cff<_0x23bc5c[_0x5a8ee8(0x29e)];_0xc00cff++){const _0x12aa21=_0x23bc5c[_0xc00cff];_0x641656['lineTo'](_0x12aa21[0x0],_0x12aa21[0x1]);}_0x1a71e4&&_0x641656[_0x5a8ee8(0x238)](),_0x40b7f2['stroke'](_0x641656);}[_0x3547be(0x254)](_0x339aad){const _0x2f0145=_0x3547be;let _0x52c309=this[_0x2f0145(0x2bb)][_0x2f0145(0x3a4)]['k'],_0x231b83=null,_0x1d9568=null,_0x34de26={'x':0x0,'y':0x0,'w':0x0,'h':0x0},_0x414b03=this[_0x2f0145(0x29f)][_0x2f0145(0x349)]('2d');_0x414b03[_0x2f0145(0x231)]();for(let _0x39368d=0x0;_0x39368d<_0x339aad[_0x2f0145(0x29e)];_0x39368d++){_0x1d9568=_0x339aad[_0x39368d]['landMarks'];for(let _0x4472b7=0x0;_0x4472b7<_0x1d9568['length'];_0x4472b7++){const _0x1f5095=_0x1d9568[_0x4472b7][0x0],_0x457d73=_0x1d9568[_0x4472b7][0x1];_0x414b03[_0x2f0145(0x30a)](),_0x414b03[_0x2f0145(0x24e)](this['cc'][_0x2f0145(0x352)](_0x1f5095),this['cc'][_0x2f0145(0x23b)](_0x457d73),0x1,0x0,0x2*Math['PI']),_0x414b03[_0x2f0145(0x2aa)](),_0x414b03[_0x2f0145(0x238)]();}}_0x414b03[_0x2f0145(0x38d)]();}};class PipeStream{constructor(_0x345779){const _0x3945a2=_0x3547be;this[_0x3945a2(0x381)]=_0x345779,this[_0x3945a2(0x1ff)]={};}['on'](_0x34d071,_0xf8a5f7){const _0x46521a=_0x3547be;if(this[_0x46521a(0x1ff)][_0x34d071]===undefined)this['observers'][_0x34d071]=[];if(typeof _0xf8a5f7==_0x46521a(0x20d))this[_0x46521a(0x1ff)][_0x34d071][_0x46521a(0x2af)](_0xf8a5f7);}['remove'](_0x19be0f,_0x8e8e57){const _0x888313=_0x3547be;for(const _0x237462 in this[_0x888313(0x1ff)]){this[_0x888313(0x1ff)][_0x237462]=this[_0x888313(0x1ff)][_0x237462][_0x888313(0x2cb)](_0xf32660=>_0xf32660!==_0x8e8e57);}}['notify'](_0x578aea,_0x2af79c){const _0x23d177=_0x3547be;this[_0x23d177(0x1ff)][_0x578aea]&&this[_0x23d177(0x1ff)][_0x578aea][_0x23d177(0x308)](_0xe197f8=>{const _0x168420=_0x23d177;if(typeof _0xe197f8==_0x168420(0x20d))_0xe197f8(_0x2af79c);});}['notifyAll'](_0x3ca92d){const _0x3c2688=_0x3547be;this[_0x3c2688(0x1ff)][_0x3c2688(0x308)](_0x1f19ba=>{const _0x249afc=_0x3c2688;_0x1f19ba[_0x249afc(0x308)](_0x4a1236=>{const _0xebfc7b=_0x249afc;typeof _0x4a1236==_0xebfc7b(0x20d)&&_0x4a1236(_0x3ca92d);});});}};class Pipe{constructor(){const _0x135c25=_0x3547be;this[_0x135c25(0x2bc)]={};}[_0x3547be(0x1f0)](_0x413f9a){const _0x4d43f2=_0x3547be;return!this[_0x4d43f2(0x2bc)][_0x413f9a]&&(this['streams'][_0x413f9a]=new PipeStream(_0x413f9a)),this[_0x4d43f2(0x2bc)][_0x413f9a];}}const pipe=new Pipe(),stream=pipe;;class ImageProcessing{constructor(){}static[_0x3547be(0x1ed)](_0x3de022,_0x48736c,_0x5114ca,_0xdcd57f,_0x2031e0){const _0x4c4312=_0x3547be;let _0x5e5a9a=document['createElement'](_0x4c4312(0x2a3));_0x5e5a9a[_0x4c4312(0x30d)]=_0xdcd57f,_0x5e5a9a[_0x4c4312(0x2c9)]=_0x2031e0;let _0x1fc58d=_0x5e5a9a[_0x4c4312(0x349)]('2d');return _0x1fc58d[_0x4c4312(0x2ff)](_0x3de022,_0x48736c,_0x5114ca,_0xdcd57f,_0x2031e0,0x0,0x0,_0xdcd57f,_0x2031e0),_0x5e5a9a;}static[_0x3547be(0x1fa)](_0x334394,_0x2ecce5={'w':null,'h':null}){const _0x38af5d=_0x3547be;let _0x476c29=document[_0x38af5d(0x1f1)](_0x38af5d(0x2a3));if(_0x2ecce5['w']==null&&_0x2ecce5['h']==null)_0x476c29['width']=_0x334394[_0x38af5d(0x30d)],_0x476c29[_0x38af5d(0x2c9)]=_0x334394[_0x38af5d(0x2c9)];else{if(_0x2ecce5['w']==null)_0x476c29[_0x38af5d(0x2c9)]=_0x2ecce5['h'],_0x476c29[_0x38af5d(0x30d)]=_0x2ecce5['h']/_0x334394[_0x38af5d(0x2c9)]*_0x334394[_0x38af5d(0x30d)];else _0x2ecce5['h']==null?(_0x476c29[_0x38af5d(0x30d)]=_0x2ecce5['w'],_0x476c29[_0x38af5d(0x2c9)]=_0x2ecce5['w']/_0x334394['width']*_0x334394[_0x38af5d(0x2c9)]):(_0x476c29[_0x38af5d(0x30d)]=_0x2ecce5['w'],_0x476c29[_0x38af5d(0x2c9)]=_0x2ecce5['h']);}let _0x589d29=_0x476c29[_0x38af5d(0x349)]('2d');return _0x589d29[_0x38af5d(0x2ff)](_0x334394,0x0,0x0,_0x476c29[_0x38af5d(0x30d)],_0x476c29[_0x38af5d(0x2c9)]),_0x476c29;}static[_0x3547be(0x265)](_0x333ef8,_0x227d49,_0x2b6253,_0x4818a4,_0xfe84e1,_0x2e0f43,_0x1eab60){const _0x3b7733=_0x3547be;let _0x4aabb1=document['createElement'](_0x3b7733(0x2a3));_0x4aabb1[_0x3b7733(0x30d)]=_0x2e0f43,_0x4aabb1['height']=_0x1eab60;let _0x3a60e5=_0x4aabb1[_0x3b7733(0x349)]('2d');return _0x3a60e5[_0x3b7733(0x2ff)](_0x333ef8,_0x227d49,_0x2b6253,_0x4818a4,_0xfe84e1,0x0,0x0,_0x2e0f43,_0x1eab60),_0x4aabb1;}static[_0x3547be(0x2a7)](_0x9c9be){const _0x3aea48=_0x3547be;let _0x1f4b70=document[_0x3aea48(0x1f1)]('CANVAS');_0x1f4b70['width']=_0x9c9be['width'],_0x1f4b70[_0x3aea48(0x2c9)]=_0x9c9be['height'];let _0x27f4cf=_0x1f4b70[_0x3aea48(0x349)]('2d');return _0x27f4cf['putImageData'](_0x9c9be,0x0,0x0),_0x1f4b70;}static[_0x3547be(0x3b9)](_0x4712f7){const _0x1ce6b3=_0x3547be;let _0x41d2e8=document[_0x1ce6b3(0x1f1)](_0x1ce6b3(0x2a3));_0x41d2e8[_0x1ce6b3(0x30d)]=_0x4712f7[_0x1ce6b3(0x30d)],_0x41d2e8[_0x1ce6b3(0x2c9)]=_0x4712f7[_0x1ce6b3(0x2c9)];let _0x41fcb3=_0x41d2e8[_0x1ce6b3(0x349)]('2d');return _0x41fcb3[_0x1ce6b3(0x2ff)](_0x4712f7,0x0,0x0),_0x41d2e8;}static[_0x3547be(0x322)](_0x352f10){const _0x2cba4e=_0x3547be;let _0x1f87bc=_0x352f10['getContext']('2d'),_0x32dcc5=_0x1f87bc[_0x2cba4e(0x2c3)](0x0,0x0,_0x352f10[_0x2cba4e(0x30d)],_0x352f10['height']);return _0x32dcc5;}static['canvasToBase64'](_0x5b1589,_0x496840=_0x3547be(0x2fb),_0x27ad9f=0.92){const _0x387de6=_0x3547be;return _0x5b1589[_0x387de6(0x3a1)](_0x496840,_0x27ad9f);}static[_0x3547be(0x3cd)](_0x27293c,_0x2b6d2b=_0x3547be(0x2fb),_0x7cc11f=0.92){return new Promise(function(_0x75e17d,_0x3a4e00){const _0x3cfa29=_0xe49d;let _0x3ff5a5=new Image();_0x3ff5a5[_0x3cfa29(0x38a)](_0x3cfa29(0x3bb),'anonymous'),_0x3ff5a5[_0x3cfa29(0x3ce)]=()=>{_0x75e17d(_0x3ff5a5);},_0x3ff5a5[_0x3cfa29(0x290)]=_0x51070d=>{const _0x4c9304=_0x3cfa29;_0x3a4e00(_0x4c9304(0x36e)+_0x51070d);},_0x3ff5a5[_0x3cfa29(0x2b2)]=ImageProcessing['canvasToBase64'](_0x27293c,_0x2b6d2b,_0x7cc11f);});}static[_0x3547be(0x379)](_0xa86bae){const _0x4dd8ab=_0x3547be;let _0x14a094=_0xa86bae[_0x4dd8ab(0x349)]('2d'),_0x20eb48=_0x14a094[_0x4dd8ab(0x2c3)](0x0,0x0,_0xa86bae[_0x4dd8ab(0x30d)],_0xa86bae['height']),_0x243c22=_0x20eb48['data'],_0x599c2c=_0xa86bae[_0x4dd8ab(0x30d)]*_0xa86bae[_0x4dd8ab(0x2c9)]*0x4;for(let _0x485ea3=_0x599c2c-0x1;_0x485ea3>0x0;_0x485ea3-=0x4){let _0x1d5793=0.3*_0x243c22[_0x485ea3-0x3]+0.59*_0x243c22[_0x485ea3-0x2]+0.11*_0x243c22[_0x485ea3-0x1];_0x243c22[_0x485ea3-0x3]=_0x1d5793,_0x243c22[_0x485ea3-0x2]=_0x1d5793,_0x243c22[_0x485ea3-0x1]=_0x1d5793;}let _0x3e211c=document[_0x4dd8ab(0x1f1)](_0x4dd8ab(0x2a3)),_0x52501a=_0x3e211c[_0x4dd8ab(0x349)]('2d');return _0x52501a[_0x4dd8ab(0x223)](_0x20eb48,0x0,0x0),_0x3e211c;}static[_0x3547be(0x389)](_0x15a829,_0x3eea25,_0x17020d=_0x3547be(0x247)){const _0x5485bf=_0x3547be;let _0x2c5549=document[_0x5485bf(0x1f1)](_0x5485bf(0x2a3));_0x2c5549['width']=_0x15a829,_0x2c5549[_0x5485bf(0x2c9)]=_0x3eea25;let _0x29f00b=_0x2c5549['getContext']('2d');return _0x29f00b[_0x5485bf(0x344)]=_0x17020d,_0x29f00b[_0x5485bf(0x27a)](0x0,0x0,_0x15a829,_0x3eea25),_0x2c5549;}static['getLaplacianVariance'](_0x1445c0,_0x20dc03=0x1e){const _0x4dcd9b=_0x3547be;let _0x414461=_0x1445c0[_0x4dcd9b(0x349)]('2d'),_0x9516f0=_0x414461['getImageData'](0x0,0x0,_0x1445c0['width'],_0x1445c0[_0x4dcd9b(0x2c9)]),_0x261271=_0x9516f0['data'],_0x127cca=[[0x0,0x1,0x0],[0x1,-0x4,0x1],[0x0,0x1,0x0]],_0x1df860=_0x1445c0['width']*0x4,_0x23e508=0x0,_0x561905=0x3,_0x54bf7f=Math[_0x4dcd9b(0x25a)](_0x561905/0x2),_0x266c93=0x0,_0x518f9e=0x0;for(let _0x2c94f6=0x1;_0x2c94f6<_0x1445c0[_0x4dcd9b(0x2c9)]-0x1;_0x2c94f6++){for(let _0x1ad94c=0x4;_0x1ad94c<_0x1df860-0x4;_0x1ad94c+=0x4){_0x266c93=0x0;for(let _0x29e20e=0x0;_0x29e20e<_0x561905;_0x29e20e++){for(let _0x1795e0=0x0;_0x1795e0<_0x561905;_0x1795e0++){_0x23e508=_0x1df860*(_0x2c94f6+_0x29e20e-_0x54bf7f)+_0x1ad94c+(_0x1795e0-_0x54bf7f)*0x4;let _0x3219a5=0.3*_0x261271[_0x23e508]+0.59*_0x261271[_0x23e508+0x1]+0.11*_0x261271[_0x23e508+0x2];_0x266c93+=_0x3219a5*_0x127cca[_0x29e20e][_0x1795e0];}}_0x266c93>_0x20dc03&&(_0x518f9e+=0x1);}}return _0x518f9e;}static[_0x3547be(0x1ec)](_0x50162f){return new Promise(function(_0x159e94,_0x1aa9fd){const _0x296c34=_0xe49d;let _0x5b8788=new Image();_0x5b8788[_0x296c34(0x38a)](_0x296c34(0x3bb),_0x296c34(0x371)),_0x5b8788['onload']=()=>{_0x159e94(_0x5b8788);},_0x5b8788[_0x296c34(0x290)]=()=>{const _0x48d7c7=_0x296c34;_0x1aa9fd(_0x48d7c7(0x36e)+_0x50162f);},_0x5b8788[_0x296c34(0x2b2)]=_0x50162f;});}};class WebWorker{constructor(_0x2eb4f={}){const _0xcba1ac=_0x3547be;this['worker']=null,this['stream']=null,this[_0xcba1ac(0x2bb)]={'path':null},this[_0xcba1ac(0x2bb)]=deepMerge(this['options'],_0x2eb4f),this['setup']();}[_0x3547be(0x275)](){const _0x13422b=_0x3547be;this[_0x13422b(0x360)]=stream[_0x13422b(0x1f0)](_0x13422b(0x1e1)),this[_0x13422b(0x360)]['on'](_0x13422b(0x341),this['getFace'][_0x13422b(0x240)](this)),this[_0x13422b(0x360)]['on'](_0x13422b(0x211),this[_0x13422b(0x211)][_0x13422b(0x240)](this)),this[_0x13422b(0x360)]['on']('loadCard',this['loadCard'][_0x13422b(0x240)](this)),this[_0x13422b(0x360)]['on'](_0x13422b(0x3b0),this[_0x13422b(0x3b0)][_0x13422b(0x240)](this)),window[_0x13422b(0x327)]&&this[_0x13422b(0x2bb)][_0x13422b(0x2e2)]!=null?(this[_0x13422b(0x1e1)]=new Worker(this[_0x13422b(0x2bb)][_0x13422b(0x2e2)]),this['worker']['onmessage']=this['onWorkerMessage'][_0x13422b(0x240)](this)):console[_0x13422b(0x319)](_0x13422b(0x1e4));}[_0x3547be(0x341)](_0xdf5e75){const _0x27820f=_0x3547be;let _0x50d591=null;if(_0xdf5e75 instanceof HTMLCanvasElement){let _0x4129b7=_0xdf5e75[_0x27820f(0x349)]('2d');_0x50d591=_0x4129b7[_0x27820f(0x2c3)](0x0,0x0,_0xdf5e75[_0x27820f(0x30d)],_0xdf5e75['height']);}else{if(_0xdf5e75 instanceof HTMLImageElement){let _0x4f8ba7=document[_0x27820f(0x1f1)](_0x27820f(0x29f)),_0x17ca76=_0x4f8ba7['getContext']('2d');_0x4f8ba7['width']=_0xdf5e75[_0x27820f(0x30d)],_0x4f8ba7[_0x27820f(0x2c9)]=_0xdf5e75['height'],_0x17ca76[_0x27820f(0x2ff)](_0xdf5e75,0x0,0x0),_0x50d591=_0x17ca76['getImageData'](0x0,0x0,_0xdf5e75['width'],_0xdf5e75[_0x27820f(0x2c9)]);}}this[_0x27820f(0x1e1)][_0x27820f(0x274)]({'type':_0x27820f(0x350),'action':_0x27820f(0x341),'data':_0x50d591});}[_0x3547be(0x211)](_0x5510e5){const _0x2f21d9=_0x3547be;let _0x10954d=null;if(_0x5510e5 instanceof HTMLCanvasElement){let _0x753449=_0x5510e5[_0x2f21d9(0x349)]('2d');_0x10954d=_0x753449[_0x2f21d9(0x2c3)](0x0,0x0,_0x5510e5[_0x2f21d9(0x30d)],_0x5510e5[_0x2f21d9(0x2c9)]);}else{if(_0x5510e5 instanceof HTMLImageElement){let _0x44ca67=document[_0x2f21d9(0x1f1)](_0x2f21d9(0x29f)),_0x5e1d21=_0x44ca67[_0x2f21d9(0x349)]('2d');_0x44ca67[_0x2f21d9(0x30d)]=_0x5510e5['width'],_0x44ca67[_0x2f21d9(0x2c9)]=_0x5510e5[_0x2f21d9(0x2c9)],_0x5e1d21[_0x2f21d9(0x2ff)](_0x5510e5,0x0,0x0),_0x10954d=_0x5e1d21[_0x2f21d9(0x2c3)](0x0,0x0,_0x5510e5[_0x2f21d9(0x30d)],_0x5510e5[_0x2f21d9(0x2c9)]);}}this[_0x2f21d9(0x1e1)]['postMessage']({'type':_0x2f21d9(0x350),'action':_0x2f21d9(0x211),'data':_0x10954d});}[_0x3547be(0x3b0)](_0x59896d){const _0x4e7071=_0x3547be;let _0x31a9f3=null;if(_0x59896d instanceof HTMLCanvasElement)_0x31a9f3=ImageProcessing['canvasToImageData'](_0x59896d);else _0x59896d instanceof HTMLImageElement&&(_0x31a9f3=ImageProcessing[_0x4e7071(0x3b9)](_0x59896d));this['worker']['postMessage']({'type':_0x4e7071(0x2e9),'action':_0x4e7071(0x3b0),'data':_0x31a9f3});}['loadCard'](){const _0x4fd9ea=_0x3547be;this[_0x4fd9ea(0x1e1)][_0x4fd9ea(0x274)]({'type':_0x4fd9ea(0x2e9),'action':_0x4fd9ea(0x243)});}[_0x3547be(0x353)](_0x12e1d3){const _0x3717c4=_0x3547be;let _0x14c9da=_0x12e1d3[_0x3717c4(0x2c4)][_0x3717c4(0x22b)],_0x459da8=_0x12e1d3[_0x3717c4(0x2c4)][_0x3717c4(0x27d)],_0x4f47a6=_0x12e1d3['data'][_0x3717c4(0x2c4)];switch(_0x14c9da){case _0x3717c4(0x350):if(_0x459da8===_0x3717c4(0x1f7))this[_0x3717c4(0x360)][_0x3717c4(0x362)](_0x3717c4(0x256),_0x4f47a6);else _0x459da8===_0x3717c4(0x29b)&&this[_0x3717c4(0x360)][_0x3717c4(0x362)](_0x3717c4(0x287),_0x4f47a6);break;case'scan':this[_0x3717c4(0x360)][_0x3717c4(0x362)](_0x3717c4(0x36c),_0x4f47a6);break;case'scanLoaded':this[_0x3717c4(0x360)]['notify'](_0x3717c4(0x34a),_0x4f47a6);break;case'other':break;default:break;}}};class HeadPos{constructor(){const _0x694292=_0x3547be;this['net']=null,this[_0x694292(0x37d)]={'x':0x0,'y':0x0,'width':0x0,'height':0x0},this['landmark']=[],this[_0x694292(0x350)]=null,this['yaw']=0x0,this['pitch']=0x0,this[_0x694292(0x201)]=0x0;}[_0x3547be(0x21e)](_0x568d44){const _0x4a95dd=_0x3547be;this[_0x4a95dd(0x350)]=_0x568d44,this[_0x4a95dd(0x37d)]={'x':_0x568d44['x'],'y':_0x568d44['y'],'height':_0x568d44['height'],'width':_0x568d44['width']},this[_0x4a95dd(0x2ba)]=_0x568d44[_0x4a95dd(0x285)],this[_0x4a95dd(0x273)]();}[_0x3547be(0x386)](){const _0x4f12dd=_0x3547be;this[_0x4f12dd(0x3a8)]=null,this['box']={'x':0x0,'y':0x0,'width':0x0,'height':0x0},this[_0x4f12dd(0x2ba)]=[],this['face']=null,this['yaw']=0x0,this[_0x4f12dd(0x372)]=0x0,this[_0x4f12dd(0x201)]=0x0;}[_0x3547be(0x273)](){const _0x457181=_0x3547be;let _0x5cb814=this[_0x457181(0x350)]['landMarks'][0xea],_0xfb0d22=this[_0x457181(0x350)]['landMarks'][0x1c6],_0x206325=this[_0x457181(0x350)][_0x457181(0x285)][0xa],_0x258485=this[_0x457181(0x350)][_0x457181(0x285)][0x98];this['yaw']=Math[_0x457181(0x25c)](_0xfb0d22[0x2]-_0x5cb814[0x2],_0xfb0d22[0x0]-_0x5cb814[0x0])*0xb4/Math['PI'],this[_0x457181(0x372)]=Math[_0x457181(0x25c)](_0x258485[0x0]-_0x206325[0x0],_0x258485[0x2]-_0x206325[0x2])*0xb4/Math['PI'],this[_0x457181(0x201)]=Math[_0x457181(0x25c)](_0xfb0d22[0x1]-_0x5cb814[0x1],_0xfb0d22[0x0]-_0x5cb814[0x0])*0xb4/Math['PI'];}[_0x3547be(0x3d1)](){}['getBox'](){const _0x3e6e4a=_0x3547be;return this[_0x3e6e4a(0x37d)];}[_0x3547be(0x3ae)](){const _0x417689=_0x3547be;return this[_0x417689(0x2ba)];}}const headpos=HeadPos;;const FaceCommands={'FORWARD':_0x3547be(0x27c),'LEFT':'left','RIGHT':_0x3547be(0x30e),'UP':'up','DOWN':_0x3547be(0x35e),'SMILE':'smile','BLINKING':_0x3547be(0x3c9),'NONE':_0x3547be(0x2d1)};class Commander{constructor(){const _0x2e2727=_0x3547be;this['commands']=[],this[_0x2e2727(0x3b7)]=0x2,this[_0x2e2727(0x3b5)]=[FaceCommands[_0x2e2727(0x351)],FaceCommands[_0x2e2727(0x36b)],FaceCommands['UP'],FaceCommands[_0x2e2727(0x1eb)],FaceCommands['SMILE']],this[_0x2e2727(0x393)]=0x0;}[_0x3547be(0x335)](){const _0x5324cd=_0x3547be;this[_0x5324cd(0x386)]();for(let _0x4a0cef=0x0;_0x4a0cef<this['count'];_0x4a0cef++){this[_0x5324cd(0x306)][_0x5324cd(0x2af)]({'name':FaceCommands[_0x5324cd(0x28b)]});}return this[_0x5324cd(0x306)];}[_0x3547be(0x270)](){const _0x48d0b7=_0x3547be;return this[_0x48d0b7(0x393)]<this[_0x48d0b7(0x306)][_0x48d0b7(0x29e)]-0x1?(this['index']++,this['commands'][this[_0x48d0b7(0x393)]]):null;}[_0x3547be(0x2f5)](){const _0x28b27b=_0x3547be;return this['commands'][this[_0x28b27b(0x393)]];}['hasCommand'](){const _0x2a5bcd=_0x3547be;return this[_0x2a5bcd(0x393)]<this[_0x2a5bcd(0x306)][_0x2a5bcd(0x29e)]-0x1;}[_0x3547be(0x386)](){const _0x217816=_0x3547be;this['index']=0x0,this[_0x217816(0x306)]=[];}};const DCFaceError={'NO_FACE':_0x3547be(0x2ab),'MANY_FACES':'manyfaces','LOW_LIGHT':_0x3547be(0x3c5),'HIGH_LIGHT':_0x3547be(0x26f),'OUT_OF_BOUNDS':_0x3547be(0x2d7)},DCFacePos={'NONE':'none','UP':'up','DOWN':_0x3547be(0x35e),'FORWARD':_0x3547be(0x27c),'LEFT':_0x3547be(0x377),'RIGHT':_0x3547be(0x30e)},FaceActionSteps={'NONE':'none','INIT':_0x3547be(0x1e6),'START':_0x3547be(0x2c0),'ACTIONS':_0x3547be(0x1e7),'FINISH':_0x3547be(0x261)},CommandResult={'SUCCESS':_0x3547be(0x321),'NONE':'none','REJECT':_0x3547be(0x300)};class FaceAnalyser{constructor(_0x246774,_0x344f40={}){const _0x5dfc2b=_0x3547be;this['canvas']=_0x246774,this['options']={'video':null,'area':{'x':0x0,'y':0x0,'width':0x0,'height':0x0},'detectTime':0x64,'startingWaitTime':0x7d0,'onFaceDetected':null,'onError':null,'onFinished':null,'onCommand':null,'onCommandResult':null,'onStep':null,'onStartDownCount':null},this[_0x5dfc2b(0x2bb)]=deepMerge(this['options'],_0x344f40),this[_0x5dfc2b(0x34d)]=null,this[_0x5dfc2b(0x2a1)]={'lowLight':![],'highLight':![],'noFace':![],'manyFace':![],'outOfBounds':![]},this[_0x5dfc2b(0x1dc)]=DCFacePos[_0x5dfc2b(0x2d8)],this[_0x5dfc2b(0x360)]=null,this['headpos']=new headpos(),this[_0x5dfc2b(0x262)]=new Commander(),this['lock']=![],this[_0x5dfc2b(0x236)]=[],this[_0x5dfc2b(0x30c)]=FaceActionSteps['NONE'],this['detectedFaceCountDownBeforeStart']=0x3,this['fixedTime']=0x0,this['errorTime']=0x0,this['errorWaitTime']=0x7d0,this[_0x5dfc2b(0x2d0)]=0x1770,this[_0x5dfc2b(0x2c5)]=0x3e8,this['finishWaitTime']=0x7d0,this[_0x5dfc2b(0x214)]=![],this[_0x5dfc2b(0x310)]=null,this[_0x5dfc2b(0x3ab)]=[],this[_0x5dfc2b(0x397)]=FaceCommands[_0x5dfc2b(0x2d8)],this[_0x5dfc2b(0x3b8)]=DCFacePos[_0x5dfc2b(0x2d8)],this[_0x5dfc2b(0x39d)]=[],this['cc']=null,this['initWorker']();}[_0x3547be(0x212)](){const _0x12b229=_0x3547be;this[_0x12b229(0x360)]=stream['open'](_0x12b229(0x1e1)),this[_0x12b229(0x360)]['on']('onFaceResult',_0x186787=>{const _0x3d6ff9=_0x12b229;this[_0x3d6ff9(0x34d)]!=null&&(this[_0x3d6ff9(0x1e3)](_0x186787),this['lock']=![]);});}[_0x3547be(0x2c0)](){const _0x4d6de2=_0x3547be;this[_0x4d6de2(0x271)]=![],this[_0x4d6de2(0x236)]=[],this['currentStepActive']=![],this[_0x4d6de2(0x30c)]=FaceActionSteps[_0x4d6de2(0x268)],this[_0x4d6de2(0x3ab)]=[],this[_0x4d6de2(0x2ee)]=0x3,this[_0x4d6de2(0x310)]=new Date()[_0x4d6de2(0x2d6)](),this['defineCommands'](),this['callStepChange'](this[_0x4d6de2(0x30c)]),clearTimeout(this[_0x4d6de2(0x34d)]),this[_0x4d6de2(0x34d)]=setTimeout(this[_0x4d6de2(0x1f3)]['bind'](this),this['options'][_0x4d6de2(0x2e5)]);}[_0x3547be(0x36a)](){const _0x1422d8=_0x3547be;this[_0x1422d8(0x310)]=null,clearTimeout(this[_0x1422d8(0x34d)]),this['detectTimer']=null,this[_0x1422d8(0x271)]=![],this[_0x1422d8(0x386)]();}[_0x3547be(0x386)](){const _0x4b81a5=_0x3547be;this[_0x4b81a5(0x236)]=[],this[_0x4b81a5(0x30c)]=FaceActionSteps[_0x4b81a5(0x2d8)],this[_0x4b81a5(0x2ee)]=0x3,this['currentAction']=DCFacePos[_0x4b81a5(0x2d8)],this[_0x4b81a5(0x39d)]=[],this[_0x4b81a5(0x214)]=![];}[_0x3547be(0x21d)](){const _0x2947bd=_0x3547be;let _0x7a64b0=this['commander'][_0x2947bd(0x335)]();for(let _0x1c0fbd in _0x7a64b0){this[_0x2947bd(0x3ab)][_0x2947bd(0x2af)]({'pos':DCFacePos['NONE'],'image':null,'command':FaceCommands['NONE'],'status':![]});}helper_logger['getInstance']()['log']('defineCommands',_0x7a64b0);}[_0x3547be(0x1f3)](){const _0x302d73=_0x3547be;!this['lock']&&(this[_0x302d73(0x360)][_0x302d73(0x362)](_0x302d73(0x341),this[_0x302d73(0x29f)]),this['lock']=!![]),this['detectTimer']=setTimeout(this[_0x302d73(0x1f3)][_0x302d73(0x240)](this),this[_0x302d73(0x2bb)][_0x302d73(0x2e5)]);}[_0x3547be(0x1e3)](_0x553279){const _0x506860=_0x3547be;this[_0x506860(0x2a1)]['noFace']=![],this['errors'][_0x506860(0x30b)]=![],this[_0x506860(0x1dc)]=DCFacePos[_0x506860(0x2d8)];if(_0x553279[_0x506860(0x29e)]>0x1)this[_0x506860(0x2a1)][_0x506860(0x30b)]=!![];else{if(_0x553279[_0x506860(0x29e)]===0x0){this[_0x506860(0x2a1)][_0x506860(0x263)]=!![];if(typeof this[_0x506860(0x2bb)]['onFaceDetected']==='function')this[_0x506860(0x2bb)][_0x506860(0x1e3)]([]);this[_0x506860(0x271)]=![];return;}}this[_0x506860(0x236)]=_0x553279;if(typeof this[_0x506860(0x2bb)][_0x506860(0x1e3)]===_0x506860(0x20d))this[_0x506860(0x2bb)][_0x506860(0x1e3)](_0x553279);this['detectedFaceCountDownBeforeStart']>0x0?(this[_0x506860(0x2ee)]--,this[_0x506860(0x25e)]=new Date()[_0x506860(0x2d6)](),this[_0x506860(0x385)]=new Date()[_0x506860(0x2d6)]()):(this[_0x506860(0x258)][_0x506860(0x21e)](_0x553279[0x0]),this['defineCurrentAction'](),this['checkCurrentCommandAction']()),this[_0x506860(0x271)]=![];}['finish'](_0x2c4596,_0x287d1b){const _0x67bf82=_0x3547be;if(this[_0x67bf82(0x310)]==null)return![];let _0x2eb0a1={'tid':this[_0x67bf82(0x310)],'status':_0x287d1b,'results':this[_0x67bf82(0x3ab)],'image':null};for(let _0x52b9f0 in this[_0x67bf82(0x3ab)]){if(this[_0x67bf82(0x3ab)][_0x52b9f0][_0x67bf82(0x1fc)]===FaceCommands['FORWARD']&&this[_0x67bf82(0x3ab)][_0x52b9f0]['status']===!![]){_0x2eb0a1[_0x52b9f0][_0x67bf82(0x20f)]=this['results'][_0x52b9f0][_0x67bf82(0x20f)];break;}}typeof this[_0x67bf82(0x2bb)][_0x67bf82(0x392)]===_0x67bf82(0x20d)&&this['options'][_0x67bf82(0x392)](_0x2eb0a1),this[_0x67bf82(0x36a)]();}[_0x3547be(0x32e)](){const _0x4e361c=_0x3547be;let _0x106f66=this['headpos'][_0x4e361c(0x3af)](),_0x592dd1={'x':this['cc'][_0x4e361c(0x352)](_0x106f66['x']),'y':this['cc']['getCoordY'](_0x106f66['y']),'width':this['cc'][_0x4e361c(0x39b)](_0x106f66[_0x4e361c(0x30d)]),'height':this['cc'][_0x4e361c(0x39b)](_0x106f66[_0x4e361c(0x2c9)])},_0x27193b=this['options'][_0x4e361c(0x35d)][_0x4e361c(0x30d)]*0.3,_0x4c904d=this[_0x4e361c(0x2bb)][_0x4e361c(0x35d)]['height']*0.3,_0x5a8f57=_0x592dd1['x']+_0x592dd1[_0x4e361c(0x30d)],_0x3574f8=_0x592dd1['y']+_0x592dd1['height'];if(_0x592dd1['x']>this['options']['area']['x']-_0x27193b&&_0x592dd1['y']>this[_0x4e361c(0x2bb)]['area']['y']-_0x4c904d&&_0x5a8f57<this[_0x4e361c(0x2bb)][_0x4e361c(0x35d)]['x']+this[_0x4e361c(0x2bb)][_0x4e361c(0x35d)]['width']+_0x27193b&&_0x3574f8<this[_0x4e361c(0x2bb)][_0x4e361c(0x35d)]['y']+this[_0x4e361c(0x2bb)][_0x4e361c(0x35d)][_0x4e361c(0x2c9)]+_0x4c904d)this[_0x4e361c(0x2a1)][_0x4e361c(0x39c)]=![];else return this['errors'][_0x4e361c(0x39c)]=!![],![];this[_0x4e361c(0x258)][_0x4e361c(0x201)]<0xc&&this[_0x4e361c(0x258)][_0x4e361c(0x201)]>-0xc&&this[_0x4e361c(0x258)][_0x4e361c(0x372)]<=-0x14&&this['headpos']['pitch']>=-0x82&&this[_0x4e361c(0x258)][_0x4e361c(0x264)]>=-0xa&&this[_0x4e361c(0x258)][_0x4e361c(0x264)]<=0xa&&(this[_0x4e361c(0x3b8)]=DCFacePos['FORWARD']),this[_0x4e361c(0x258)][_0x4e361c(0x201)]<0xc&&this[_0x4e361c(0x258)][_0x4e361c(0x201)]>-0xc&&this[_0x4e361c(0x258)][_0x4e361c(0x264)]<-0xa&&(this[_0x4e361c(0x3b8)]=DCFacePos['LEFT']),this[_0x4e361c(0x258)]['roll']<0xc&&this['headpos']['roll']>-0xc&&this[_0x4e361c(0x258)][_0x4e361c(0x264)]>0xa&&(this['currentAction']=DCFacePos['RIGHT']),this['headpos']['roll']<0xc&&this[_0x4e361c(0x258)][_0x4e361c(0x201)]>-0xc&&this['headpos'][_0x4e361c(0x372)]<-0x82&&(this[_0x4e361c(0x3b8)]=DCFacePos['UP']),this[_0x4e361c(0x258)][_0x4e361c(0x201)]<0xc&&this['headpos'][_0x4e361c(0x201)]>-0xc&&this[_0x4e361c(0x258)][_0x4e361c(0x372)]>-0x14&&(this[_0x4e361c(0x3b8)]=DCFacePos[_0x4e361c(0x1eb)]);}[_0x3547be(0x204)](){const _0x47f67d=_0x3547be;let _0x26af58=this[_0x47f67d(0x205)](),_0x562073=this[_0x47f67d(0x318)](this[_0x47f67d(0x25e)]);_0x26af58?(this[_0x47f67d(0x1dc)]=DCFacePos['NONE'],this[_0x47f67d(0x368)](this['errors'])):this[_0x47f67d(0x385)]=new Date()[_0x47f67d(0x2d6)]();this[_0x47f67d(0x30c)]===FaceActionSteps[_0x47f67d(0x268)]&&(this[_0x47f67d(0x214)]=![],this[_0x47f67d(0x30c)]=FaceActionSteps[_0x47f67d(0x29d)],this[_0x47f67d(0x279)](this['step']));if(this[_0x47f67d(0x30c)]===FaceActionSteps[_0x47f67d(0x29d)]){let _0x1d3edc=Math[_0x47f67d(0x252)]((this['options'][_0x47f67d(0x293)]-_0x562073)/0x3e8);if(_0x1d3edc>0x0){if(typeof this[_0x47f67d(0x2bb)][_0x47f67d(0x237)]==='function')this['options'][_0x47f67d(0x237)](_0x1d3edc);}else this[_0x47f67d(0x30c)]=FaceActionSteps[_0x47f67d(0x23d)],this[_0x47f67d(0x214)]=![],this['fixedTime']=new Date()[_0x47f67d(0x2d6)](),this[_0x47f67d(0x219)]=new Date()[_0x47f67d(0x2d6)](),this[_0x47f67d(0x279)](this[_0x47f67d(0x30c)]);}if(this[_0x47f67d(0x30c)]===FaceActionSteps[_0x47f67d(0x23d)]&&(_0x26af58===![]||this[_0x47f67d(0x27e)]===0x0)){let _0xc250d=this[_0x47f67d(0x262)][_0x47f67d(0x393)],_0x1a2008=this[_0x47f67d(0x262)][_0x47f67d(0x2f5)]();this[_0x47f67d(0x397)]!==_0x1a2008[_0x47f67d(0x381)]&&(this['currentCommand']=_0x1a2008[_0x47f67d(0x381)],this[_0x47f67d(0x39d)]=[],this[_0x47f67d(0x330)](_0x1a2008[_0x47f67d(0x381)]));_0x562073>0x0&&this[_0x47f67d(0x39d)][_0x47f67d(0x2af)]({'pos':this['currentAction'],'posPitch':this[_0x47f67d(0x258)][_0x47f67d(0x372)],'posYaw':this[_0x47f67d(0x258)][_0x47f67d(0x264)],'time':new Date()['getTime'](),'valid':!![],'command':_0x1a2008});let _0xb8aaae=this['actionWaitTime']+this[_0x47f67d(0x2c5)]-_0x562073,_0x3756a0=_0x562073>this['actionWaitBeforeCheck']?this[_0x47f67d(0x3cf)](_0x1a2008[_0x47f67d(0x381)],this[_0x47f67d(0x3b8)]):CommandResult[_0x47f67d(0x2d8)];if(_0xb8aaae>0x0&&_0x3756a0===CommandResult[_0x47f67d(0x2d8)]){}else{if(_0x562073>this[_0x47f67d(0x2c5)]){let _0x39fef0=ImageProcessing['cropCanvas'](this[_0x47f67d(0x29f)],this[_0x47f67d(0x258)][_0x47f67d(0x37d)]['x'],this[_0x47f67d(0x258)][_0x47f67d(0x37d)]['y'],this[_0x47f67d(0x258)]['box'][_0x47f67d(0x30d)],this[_0x47f67d(0x258)][_0x47f67d(0x37d)][_0x47f67d(0x2c9)]);_0x3756a0===CommandResult[_0x47f67d(0x3d8)]?this[_0x47f67d(0x3ab)][_0xc250d]={'pos':this[_0x47f67d(0x3b8)],'command':_0x1a2008,'status':!![],'image':_0x39fef0}:this[_0x47f67d(0x3ab)][_0xc250d]={'pos':this['currentAction'],'command':_0x1a2008,'status':![],'image':_0x39fef0},this[_0x47f67d(0x343)](this[_0x47f67d(0x3ab)][_0xc250d]),this['commander'][_0x47f67d(0x359)]()?this[_0x47f67d(0x262)]['next']():(this[_0x47f67d(0x30c)]=FaceActionSteps[_0x47f67d(0x315)],this['headpos'][_0x47f67d(0x386)](),this[_0x47f67d(0x279)](this[_0x47f67d(0x30c)])),this['fixedTime']=new Date()[_0x47f67d(0x2d6)]();}}}if(this[_0x47f67d(0x30c)]===FaceActionSteps[_0x47f67d(0x315)]){let _0x3153dc=this[_0x47f67d(0x302)]-_0x562073;if(_0x3153dc>0x0){}else this[_0x47f67d(0x30c)]=FaceActionSteps[_0x47f67d(0x315)],this[_0x47f67d(0x25e)]=new Date()['getTime'](),this[_0x47f67d(0x261)](!![],!![]);}}[_0x3547be(0x3cf)](_0x33562c,_0x5dcfdd){const _0x307576=_0x3547be;let _0x5afcab={},_0x4a7a96=FaceCommands[_0x307576(0x2d8)],_0x30a11a=FaceCommands[_0x307576(0x2d8)],_0x53fbaa={};for(let _0x4ab5ab in this[_0x307576(0x39d)]){let _0x453fca=this['currentActionList'][_0x4ab5ab];_0x453fca!=null&&_0x453fca[_0x307576(0x227)]&&(_0x453fca[_0x307576(0x278)]!=null&&(_0x4a7a96=this[_0x307576(0x3d7)](_0x453fca[_0x307576(0x278)])),_0x5afcab[_0x4a7a96]==null&&(_0x5afcab[_0x4a7a96]={'list':[],'max':0x0}),_0x5afcab[_0x4a7a96]=this[_0x307576(0x2cc)](_0x5afcab[_0x4a7a96],_0x453fca,_0x30a11a!==_0x4a7a96),_0x53fbaa[_0x4a7a96]=(_0x53fbaa[_0x4a7a96]||0x0)+0x1,_0x30a11a=_0x4a7a96);}let _0x51a73e=_0x53fbaa[_0x307576(0x29e)];if(_0x33562c===FaceCommands[_0x307576(0x351)]||_0x33562c===FaceCommands['UP']||_0x33562c===FaceCommands[_0x307576(0x36b)]||_0x33562c===FaceCommands[_0x307576(0x1eb)]){if(_0x51a73e>0x3)return CommandResult[_0x307576(0x2e8)];if(_0x5afcab[_0x33562c]!=null&&_0x5afcab[_0x33562c][_0x307576(0x1f2)]>0x3e8)return CommandResult['SUCCESS'];}if(_0x33562c===FaceCommands[_0x307576(0x28b)]){if(_0x51a73e>=0x3)return CommandResult[_0x307576(0x2e8)];if(_0x5afcab[_0x33562c]!=null&&_0x5afcab[_0x33562c]['max']>0x3e8)return CommandResult['SUCCESS'];}return CommandResult[_0x307576(0x2d8)];}['callStepChange'](_0x839db1){const _0x3101b4=_0x3547be;typeof this['options'][_0x3101b4(0x26a)]===_0x3101b4(0x20d)&&this[_0x3101b4(0x2bb)][_0x3101b4(0x26a)](_0x839db1);}[_0x3547be(0x368)](_0x3a8f06){const _0x514bd7=_0x3547be;typeof this[_0x514bd7(0x2bb)][_0x514bd7(0x22d)]===_0x514bd7(0x20d)&&this[_0x514bd7(0x2bb)][_0x514bd7(0x22d)](_0x3a8f06);}[_0x3547be(0x330)](_0x4646b5){const _0x3f2953=_0x3547be;typeof this[_0x3f2953(0x2bb)]['onCommand']===_0x3f2953(0x20d)&&this[_0x3f2953(0x2bb)][_0x3f2953(0x390)](_0x4646b5);}[_0x3547be(0x343)](_0x468e23){const _0x3a8bde=_0x3547be;typeof this[_0x3a8bde(0x2bb)][_0x3a8bde(0x234)]===_0x3a8bde(0x20d)&&this['options'][_0x3a8bde(0x234)](_0x468e23);}[_0x3547be(0x31d)](){const _0x2addb2=_0x3547be;return this[_0x2addb2(0x236)];}['isErrorExist'](){const _0x59c287=_0x3547be;for(const _0x34ab04 in this[_0x59c287(0x2a1)]){if(this[_0x59c287(0x2a1)][_0x34ab04]===!![])return!![];}return![];}[_0x3547be(0x318)](_0x130b50){const _0x1c5616=_0x3547be;let _0x57cc45=new Date()[_0x1c5616(0x2d6)]();return _0x57cc45-_0x130b50;}[_0x3547be(0x3d7)](_0x42db08){const _0xb0b5f0=_0x3547be;switch(_0x42db08){case DCFacePos['LEFT']:return FaceCommands[_0xb0b5f0(0x351)];case DCFacePos['UP']:return FaceCommands['UP'];case DCFacePos[_0xb0b5f0(0x36b)]:return FaceCommands['RIGHT'];case DCFacePos[_0xb0b5f0(0x1eb)]:return FaceCommands[_0xb0b5f0(0x1eb)];case DCFacePos['FORWARD']:return FaceCommands[_0xb0b5f0(0x28b)];default:return FaceCommands['NONE'];}}['addActionTime'](_0x42af68,_0x3a76da,_0x5b074d){const _0x382986=_0x3547be;let _0x5495da=_0x42af68,_0xf685c5=0x0;return _0x5495da[_0x382986(0x216)]['length']>0x0&&_0x5495da[_0x382986(0x216)][_0xf685c5]['start']!=null&&_0x5b074d?(_0xf685c5=_0x5495da[_0x382986(0x216)][_0x382986(0x29e)]-0x1,_0x3a76da['time']!=null&&(_0x5495da[_0x382986(0x216)][_0xf685c5][_0x382986(0x3be)]=_0x3a76da[_0x382986(0x28d)],_0x5495da[_0x382986(0x216)][_0xf685c5][_0x382986(0x25d)]=_0x3a76da[_0x382986(0x28d)]-_0x5495da[_0x382986(0x216)][_0xf685c5][_0x382986(0x2c0)],_0x5495da['max']=(_0x5495da[_0x382986(0x216)][_0xf685c5][_0x382986(0x25d)]||0x0)>_0x5495da[_0x382986(0x1f2)]?_0x5495da[_0x382986(0x216)][_0xf685c5][_0x382986(0x25d)]||0x0:_0x5495da[_0x382986(0x1f2)])):_0x5495da[_0x382986(0x216)][_0x382986(0x2af)]({'start':_0x3a76da['time'],'end':null,'interval':null}),_0x5495da;}};class DeepFace{constructor(_0x5f068e,_0x5b4d42={}){const _0x534a00=_0x3547be;this[_0x534a00(0x3c3)]=null,this['canvas']=null,this[_0x534a00(0x2b5)]=null,this[_0x534a00(0x331)]={'start':![],'detectInit':![],'analyzeAfterOpen':![]},this[_0x534a00(0x2bb)]={'src':null,'sourceType':null,'width':0x280,'height':0x1e0,'liveness':!![],'onFrameCaptured':null,'detectTime':0x64,'onFinished':null,'worker_path':_0x534a00(0x241)},this[_0x534a00(0x2bb)]=deepMerge(this['options'],_0x5b4d42),this['initContainer'](_0x5f068e),this[_0x534a00(0x275)]();}['initContainer'](_0x587d97){const _0x5509a4=_0x3547be;this[_0x5509a4(0x2b5)]=new camera(_0x587d97,{'src':this[_0x5509a4(0x2bb)][_0x5509a4(0x2b2)],'width':this[_0x5509a4(0x2bb)][_0x5509a4(0x30d)],'height':this['options']['height'],'onFrameUpdated':this[_0x5509a4(0x2ac)][_0x5509a4(0x240)](this),'onLoaded':this[_0x5509a4(0x399)][_0x5509a4(0x240)](this),'onStart':this[_0x5509a4(0x363)][_0x5509a4(0x240)](this),'onStop':this[_0x5509a4(0x380)][_0x5509a4(0x240)](this)}),this[_0x5509a4(0x3c3)]=this[_0x5509a4(0x2b5)]['dom'],this[_0x5509a4(0x29f)]=this[_0x5509a4(0x2b5)][_0x5509a4(0x29f)];}[_0x3547be(0x275)](){const _0x560c0e=_0x3547be;this['cc']=new CoordConverter(this[_0x560c0e(0x2b5)][_0x560c0e(0x317)]),this['faceMask']=new MaskLayer(this[_0x560c0e(0x3c3)],{'width':this[_0x560c0e(0x2bb)][_0x560c0e(0x30d)],'height':this[_0x560c0e(0x2bb)][_0x560c0e(0x2c9)]}),this[_0x560c0e(0x2c2)]=new VisualLayer(this[_0x560c0e(0x29f)]),this[_0x560c0e(0x2ea)]=new WebWorker({'path':this[_0x560c0e(0x2bb)][_0x560c0e(0x26b)]}),this[_0x560c0e(0x269)]=new FaceAnalyser(this['camera'][_0x560c0e(0x203)],{'area':this[_0x560c0e(0x255)][_0x560c0e(0x22c)](),'detectTime':this[_0x560c0e(0x2bb)][_0x560c0e(0x2e5)],'onFaceDetected':this[_0x560c0e(0x1e3)][_0x560c0e(0x240)](this),'onError':this[_0x560c0e(0x22d)]['bind'](this),'onFinished':this[_0x560c0e(0x392)]['bind'](this),'onCommand':this['onCommand'][_0x560c0e(0x240)](this),'onCommandResult':this[_0x560c0e(0x234)][_0x560c0e(0x240)](this),'onStep':this[_0x560c0e(0x26a)][_0x560c0e(0x240)](this),'onStartDownCount':this[_0x560c0e(0x237)][_0x560c0e(0x240)](this)}),this[_0x560c0e(0x269)]['cc']=this['cc'];}['open'](){const _0x138484=_0x3547be;!this['camera']['isPlaying']()&&(this[_0x138484(0x2b5)][_0x138484(0x2c0)](),this['faceMask'][_0x138484(0x272)]());}[_0x3547be(0x366)](){const _0x14e458=_0x3547be;this[_0x14e458(0x36a)](),this[_0x14e458(0x2b5)][_0x14e458(0x36a)](),this[_0x14e458(0x255)][_0x14e458(0x369)]();}['start'](){const _0x4a5ced=_0x3547be;!this['camera'][_0x4a5ced(0x338)]()?(this[_0x4a5ced(0x1f0)](),this[_0x4a5ced(0x331)][_0x4a5ced(0x2cf)]=!![]):(this[_0x4a5ced(0x331)][_0x4a5ced(0x2c0)]=!![],this[_0x4a5ced(0x269)][_0x4a5ced(0x2c0)]());}[_0x3547be(0x36a)](){const _0x4673f3=_0x3547be;this['state']['start']=![],this[_0x4673f3(0x269)][_0x4673f3(0x36a)](),this[_0x4673f3(0x331)][_0x4673f3(0x2cf)]=![];}['onFinished'](_0x2b95fc,_0x38942f){const _0x574233=_0x3547be;helper_logger[_0x574233(0x33a)]()[_0x574233(0x319)](_0x574233(0x221)),this['faceMask'][_0x574233(0x20c)]('Finished'),typeof this[_0x574233(0x2bb)][_0x574233(0x392)]=='function'&&this[_0x574233(0x2bb)]['onFinished'](_0x2b95fc,_0x38942f);}[_0x3547be(0x1e3)](_0x4a38be){}['onCommand'](_0x23b353){const _0x52bcdc=_0x3547be;helper_logger[_0x52bcdc(0x33a)]()[_0x52bcdc(0x319)]('onCommand',_0x23b353);let _0x25d0f5='';switch(_0x23b353){case FaceCommands[_0x52bcdc(0x28b)]:_0x25d0f5=_0x52bcdc(0x2ed);break;case FaceCommands[_0x52bcdc(0x351)]:_0x25d0f5=_0x52bcdc(0x2f4);break;case FaceCommands['RIGHT']:_0x25d0f5=_0x52bcdc(0x2bf);break;case FaceCommands['UP']:_0x25d0f5=_0x52bcdc(0x286);break;case FaceCommands['DOWN']:_0x25d0f5='look\x20down';break;default:_0x25d0f5='';}this['faceMask'][_0x52bcdc(0x20c)](_0x25d0f5);}['onCommandResult'](){}[_0x3547be(0x26a)](_0x524324){const _0x1878b0=_0x3547be;helper_logger[_0x1878b0(0x33a)]()[_0x1878b0(0x319)](_0x1878b0(0x32b),_0x524324);let _0x1c237f='';switch(_0x524324){case FaceActionSteps[_0x1878b0(0x268)]:_0x1c237f=_0x1878b0(0x3cc);break;case FaceActionSteps[_0x1878b0(0x29d)]:_0x1c237f='Starting';break;case FaceActionSteps[_0x1878b0(0x23d)]:_0x1c237f=_0x1878b0(0x225);break;case FaceActionSteps[_0x1878b0(0x315)]:_0x1c237f='Computing\x20for\x20finishing';break;default:_0x1c237f='';}this[_0x1878b0(0x255)][_0x1878b0(0x20c)](_0x1c237f);}[_0x3547be(0x237)](_0x2ef242){const _0x3dce28=_0x3547be;helper_logger[_0x3dce28(0x33a)]()[_0x3dce28(0x319)]('onStartDownCount',_0x2ef242);}[_0x3547be(0x22d)](_0x26d38b){const _0x2c3a00=_0x3547be;helper_logger[_0x2c3a00(0x33a)]()[_0x2c3a00(0x319)](_0x2c3a00(0x22d),_0x26d38b);}[_0x3547be(0x2ac)](){const _0xa6c782=_0x3547be;let _0x1cc939=this[_0xa6c782(0x269)][_0xa6c782(0x31d)]();this['visual']['drawFaces'](_0x1cc939);}[_0x3547be(0x399)](_0x1a8579,_0x233e7c){const _0xee4c76=_0x3547be;this['cc']['setDim'](_0x233e7c),this[_0xee4c76(0x2c2)]['cc'][_0xee4c76(0x244)](_0x233e7c),this[_0xee4c76(0x269)]['options'][_0xee4c76(0x2b1)]=_0x1a8579;}[_0x3547be(0x363)](){const _0x301734=_0x3547be;this[_0x301734(0x331)][_0x301734(0x2cf)]&&(this[_0x301734(0x331)][_0x301734(0x2cf)]=![],this[_0x301734(0x2c0)]());}[_0x3547be(0x380)](){}[_0x3547be(0x3d2)](_0x497059){const _0x212979=_0x3547be;this[_0x212979(0x3c3)]&&(this['dom'][_0x212979(0x378)][_0x212979(0x1fb)]('loading'),this['dom'][_0x212979(0x378)]['remove']('blur'),_0x497059&&(this['dom'][_0x212979(0x378)][_0x212979(0x246)](_0x212979(0x31f)),this[_0x212979(0x3c3)][_0x212979(0x378)][_0x212979(0x246)](_0x212979(0x200))));}};class CardDetector{constructor(_0x5170c1={}){const _0xb0c515=_0x3547be;this[_0xb0c515(0x2bb)]={'host':null,'headers':null,'serverSide':null,'modelUrl':null,'mirrored':!![],'single':!![]},this[_0xb0c515(0x2b7)]=null,this[_0xb0c515(0x307)]=![],this['loadedTID']=null,this[_0xb0c515(0x2bb)]=deepMerge(this['options'],_0x5170c1),this['originalSize']={'width':0x0,'height':0x0},this['croppedSize']={'x':0x0,'y':0x0,'width':0x0,'height':0x0},this['inputSize']={'width':0x12c,'height':0x12c};if(!this[_0xb0c515(0x2bb)]['serverSide'])this[_0xb0c515(0x212)]();else{}}[_0x3547be(0x387)](){const _0x8c7dc4=_0x3547be;this['options'][_0x8c7dc4(0x2f8)]=OSPlus[_0x8c7dc4(0x3a9)]()||OSPlus['isSafari']();}[_0x3547be(0x212)](){const _0x21647b=_0x3547be;this[_0x21647b(0x360)]=stream[_0x21647b(0x1f0)](_0x21647b(0x358)),this[_0x21647b(0x360)]['on']('onScanResult',_0x3f56b3=>{const _0x5b3af5=_0x21647b;if(typeof this[_0x5b3af5(0x2b7)]===_0x5b3af5(0x20d)){let _0x3b2ba8=this['normalizing'](_0x3f56b3,!![]);this[_0x5b3af5(0x2b7)](_0x3b2ba8);}}),this['stream']['on'](_0x21647b(0x34a),_0x218aea=>{const _0x55bec0=_0x21647b;helper_logger[_0x55bec0(0x33a)]()[_0x55bec0(0x319)](_0x55bec0(0x248)),this['loaded']=_0x218aea;});}[_0x3547be(0x235)](){const _0x489b7f=_0x3547be;if(!this[_0x489b7f(0x2bb)]['serverSide'])this[_0x489b7f(0x360)][_0x489b7f(0x362)]('loadCard');else{let _0x50299f=this[_0x489b7f(0x2bb)][_0x489b7f(0x250)]!=null?StringExtra[_0x489b7f(0x38e)](this[_0x489b7f(0x2bb)][_0x489b7f(0x250)]):'',_0x20ef2b=_0x50299f+'/'+_0x489b7f(0x38f),_0x1c9cd4=deepMerge({'Content-Type':_0x489b7f(0x2fa)},this[_0x489b7f(0x2bb)][_0x489b7f(0x1de)]||{});fetch(_0x20ef2b,{'method':_0x489b7f(0x34c),'headers':_0x1c9cd4})['then'](_0x4cd6c0=>_0x4cd6c0[_0x489b7f(0x2a5)]())[_0x489b7f(0x260)](_0x362e14=>{const _0x5df96a=_0x489b7f;this[_0x5df96a(0x307)]=_0x362e14[_0x5df96a(0x321)],helper_logger[_0x5df96a(0x33a)]()[_0x5df96a(0x319)]('Success:',_0x362e14);})[_0x489b7f(0x3c7)](_0x60071e=>{const _0x3eaae0=_0x489b7f;this['loaded']=![],helper_logger['getInstance']()[_0x3eaae0(0x319)](_0x3eaae0(0x259),_0x60071e);});}}[_0x3547be(0x304)](_0x2f6fa0=null){const _0x190a38=_0x3547be;let _0x112615=this[_0x190a38(0x2bb)][_0x190a38(0x250)]!=null?StringExtra[_0x190a38(0x38e)](this[_0x190a38(0x2bb)][_0x190a38(0x250)]):'',_0xf63533=_0x112615+'/'+_0x190a38(0x2c0),_0x50b78b=deepMerge({'Content-Type':'application/json'},this[_0x190a38(0x2bb)][_0x190a38(0x1de)]||{});fetch(_0xf63533,{'method':_0x190a38(0x34c),'headers':_0x50b78b})['then'](_0x16bae2=>_0x16bae2[_0x190a38(0x2a5)]())[_0x190a38(0x260)](_0x486fe6=>{const _0x14743c=_0x190a38;this[_0x14743c(0x209)]=_0x486fe6['tid']||null,helper_logger[_0x14743c(0x33a)]()[_0x14743c(0x319)](_0x14743c(0x301),_0x486fe6),typeof _0x2f6fa0===_0x14743c(0x20d)&&_0x2f6fa0(this['loaded'],this[_0x14743c(0x209)]);})['catch'](_0x3d438f=>{const _0x499e9b=_0x190a38;this[_0x499e9b(0x209)]=null,helper_logger[_0x499e9b(0x33a)]()['log']('Error:',_0x3d438f);});}[_0x3547be(0x356)](_0x2d86e8,_0x3d10b9,_0x44bf9c){const _0x11560f=_0x3547be;if(!this['options'][_0x11560f(0x2f8)]){this['callback']=_0x44bf9c;let _0x447e16=this[_0x11560f(0x2c7)](_0x2d86e8);this[_0x11560f(0x360)][_0x11560f(0x362)](_0x11560f(0x3b0),_0x447e16);}else{let _0x2a3358=ImageProcessing[_0x11560f(0x3a5)](_0x2d86e8,_0x11560f(0x320),0.95),_0x56e8c2=new FormData();_0x56e8c2[_0x11560f(0x376)](_0x11560f(0x20f),_0x2a3358),_0x56e8c2[_0x11560f(0x376)](_0x11560f(0x22b),'0'),_0x56e8c2[_0x11560f(0x376)]('tid',_0x3d10b9);let _0x255a8d=this[_0x11560f(0x2bb)][_0x11560f(0x250)]!=null?StringExtra[_0x11560f(0x38e)](this[_0x11560f(0x2bb)][_0x11560f(0x250)]):'',_0x28f69d=_0x255a8d+'/'+_0x11560f(0x2cd),_0x24d8e6=deepMerge({},this['options']['headers']||{});fetch(_0x28f69d,{'method':_0x11560f(0x312),'body':_0x56e8c2,'headers':_0x24d8e6})[_0x11560f(0x260)](function(_0x1266d8){const _0x19080f=_0x11560f;if(_0x1266d8['ok'])return _0x1266d8[_0x19080f(0x2a5)]();console['error'](_0x19080f(0x259),_0x1266d8),typeof _0x44bf9c===_0x19080f(0x20d)&&_0x44bf9c(null);})[_0x11560f(0x260)](_0x3748a3=>{const _0x422f41=_0x11560f;helper_logger[_0x422f41(0x33a)]()[_0x422f41(0x319)](_0x422f41(0x3d6),_0x3748a3);let _0x2150c5=[];_0x3748a3['success']===!![]&&_0x3748a3['data']!==undefined&&(_0x2150c5=_0x3748a3[_0x422f41(0x2c4)]);if(_0x2150c5['length']>0x0){}if(typeof _0x44bf9c===_0x422f41(0x20d)){let _0x2ab1b7=this[_0x422f41(0x37a)](_0x2150c5);_0x44bf9c(_0x2ab1b7);}})[_0x11560f(0x3c7)](_0xc1f7ff=>{const _0x2d0f62=_0x11560f;console[_0x2d0f62(0x1fd)]('Error:',_0xc1f7ff),typeof _0x44bf9c===_0x2d0f62(0x20d)&&_0x44bf9c(null);});}}[_0x3547be(0x224)](){const _0x4609a7=_0x3547be;return this[_0x4609a7(0x307)];}[_0x3547be(0x2c7)](_0x14ac28){const _0x1eb7e3=_0x3547be;let _0x422fdb={'x':0x0,'y':0x0,'w':_0x14ac28[_0x1eb7e3(0x30d)],'h':_0x14ac28[_0x1eb7e3(0x2c9)]};return _0x14ac28['width']>_0x14ac28[_0x1eb7e3(0x2c9)]?(_0x422fdb['w']=_0x14ac28[_0x1eb7e3(0x2c9)],_0x422fdb['x']=(_0x14ac28['width']-_0x422fdb['w'])/0x2):(_0x422fdb['h']=_0x14ac28[_0x1eb7e3(0x30d)],_0x422fdb['y']=(_0x14ac28[_0x1eb7e3(0x2c9)]-_0x422fdb['h'])/0x2),this[_0x1eb7e3(0x3ca)]={'x':_0x14ac28[_0x1eb7e3(0x30d)],'y':_0x14ac28['height']},this[_0x1eb7e3(0x239)]=_0x422fdb,ImageProcessing[_0x1eb7e3(0x265)](_0x14ac28,_0x422fdb['x'],_0x422fdb['y'],_0x422fdb['w'],_0x422fdb['h'],this[_0x1eb7e3(0x391)][_0x1eb7e3(0x30d)],this[_0x1eb7e3(0x391)][_0x1eb7e3(0x2c9)]);}[_0x3547be(0x30f)](_0xd661e8,_0x1c0c66){const _0x41a730=_0x3547be;let _0x3542cf=0x1;switch(_0x1c0c66){case'x':_0x3542cf=this['croppedSize']['w']/this['inputSize'][_0x41a730(0x30d)];return _0xd661e8*_0x3542cf+this[_0x41a730(0x239)]['x'];case'y':_0x3542cf=this[_0x41a730(0x239)]['h']/this[_0x41a730(0x391)][_0x41a730(0x2c9)];return _0xd661e8*_0x3542cf+this['croppedSize']['y'];case _0x41a730(0x30d):_0x3542cf=this['croppedSize']['w']/this[_0x41a730(0x391)]['width'];return _0xd661e8*_0x3542cf;case _0x41a730(0x2c9):_0x3542cf=this['croppedSize']['h']/this['inputSize'][_0x41a730(0x2c9)];return _0xd661e8*_0x3542cf;}}[_0x3547be(0x37a)](_0x299e6c,_0x2b1014=![]){const _0x19bcfd=_0x3547be;let _0xa1677f=[],_0x455b73=null,_0x51e296=![];for(let _0x2a0ee9 in _0x299e6c){_0x455b73=_0x299e6c[_0x2a0ee9];_0x2b1014&&(_0x455b73[_0x19bcfd(0x299)][0x0]=this[_0x19bcfd(0x30f)](_0x455b73[_0x19bcfd(0x299)][0x0],'x'),_0x455b73[_0x19bcfd(0x299)][0x1]=this['toOriginalSize'](_0x455b73[_0x19bcfd(0x299)][0x1],'y'),_0x455b73['bbox'][0x2]=this[_0x19bcfd(0x30f)](_0x455b73[_0x19bcfd(0x299)][0x2],_0x19bcfd(0x30d)),_0x455b73[_0x19bcfd(0x299)][0x3]=this['toOriginalSize'](_0x455b73[_0x19bcfd(0x299)][0x3],_0x19bcfd(0x2c9)));_0x51e296=![];for(let _0x3dfd8f in _0xa1677f){if(_0xa1677f[_0x3dfd8f][_0x19bcfd(0x2a0)]===_0x455b73[_0x19bcfd(0x2a0)]){let _0x328636=_0xa1677f[_0x3dfd8f],_0x13c89d=_0x455b73,_0x3fef11=0x0,_0x2943db=0x0;if(_0x13c89d[_0x19bcfd(0x299)][0x0]>_0x328636['bbox'][0x0]&&_0x13c89d[_0x19bcfd(0x299)][0x0]<_0x328636[_0x19bcfd(0x299)][0x0]+_0x328636[_0x19bcfd(0x299)][0x2])_0x3fef11=_0x328636[_0x19bcfd(0x299)][0x0]+_0x328636['bbox'][0x2]-_0x13c89d[_0x19bcfd(0x299)][0x0],_0x2943db=_0x3fef11/_0x13c89d[_0x19bcfd(0x299)][0x2];else _0x328636['bbox'][0x0]>_0x13c89d[_0x19bcfd(0x299)][0x0]&&_0x328636[_0x19bcfd(0x299)][0x0]<_0x13c89d['bbox'][0x0]+_0x13c89d['bbox'][0x2]&&(_0x3fef11=_0x13c89d[_0x19bcfd(0x299)][0x0]+_0x13c89d['bbox'][0x2]-_0x328636[_0x19bcfd(0x299)][0x0],_0x2943db=_0x3fef11/_0x328636[_0x19bcfd(0x299)][0x2]);let _0xb4bb6b=0x0,_0x59d922=0x0;if(_0x13c89d[_0x19bcfd(0x299)][0x1]>_0x328636['bbox'][0x1]&&_0x13c89d[_0x19bcfd(0x299)][0x1]<_0x328636[_0x19bcfd(0x299)][0x1]+_0x328636[_0x19bcfd(0x299)][0x3])_0xb4bb6b=_0x328636[_0x19bcfd(0x299)][0x1]+_0x328636['bbox'][0x3]-_0x13c89d[_0x19bcfd(0x299)][0x1],_0x59d922=_0x3fef11/_0x13c89d[_0x19bcfd(0x299)][0x3];else _0x328636[_0x19bcfd(0x299)][0x1]>_0x13c89d[_0x19bcfd(0x299)][0x1]&&_0x328636[_0x19bcfd(0x299)][0x1]<_0x13c89d[_0x19bcfd(0x299)][0x1]+_0x13c89d[_0x19bcfd(0x299)][0x3]&&(_0xb4bb6b=_0x13c89d[_0x19bcfd(0x299)][0x1]+_0x13c89d[_0x19bcfd(0x299)][0x3]-_0x328636['bbox'][0x1],_0x59d922=_0x3fef11/_0x328636[_0x19bcfd(0x299)][0x3]);_0x2943db>0.6&&_0x59d922>0.6&&(_0x51e296=!![],_0x13c89d[_0x19bcfd(0x24c)]>_0x328636['score']&&(_0xa1677f[_0x3dfd8f]=_0x455b73));}}!_0x51e296&&_0xa1677f['push'](_0x299e6c[_0x2a0ee9]);}if(this['options'][_0x19bcfd(0x38c)]&&_0xa1677f['length']>0x0){let _0x51f220=0x0,_0x554be1=0x0;for(let _0x50a6bb in _0xa1677f){_0xa1677f[_0x50a6bb]['score']>_0x51f220&&(_0x51f220=_0xa1677f[_0x50a6bb][_0x19bcfd(0x24c)],_0x554be1=_0x50a6bb);}return[_0xa1677f[_0x554be1]];}return _0xa1677f;}[_0x3547be(0x354)](){this['loadedTID']=null;}};class MRZReader{constructor(_0x451e9c={}){const _0x48c540=_0x3547be;this[_0x48c540(0x2bb)]={'server':!![],'url':null,'host':null,'checkURI':null},this[_0x48c540(0x2bb)]=deepMerge(this[_0x48c540(0x2bb)],_0x451e9c);if(this['options'][_0x48c540(0x2da)]==null)this[_0x48c540(0x2bb)][_0x48c540(0x2da)]=_0x48c540(0x21a);this['loaded']=![],this['setup']();}['setup'](){const _0x243d31=_0x3547be;if(!this[_0x243d31(0x2bb)][_0x243d31(0x305)]){}}[_0x3547be(0x235)](){const _0x53c99b=_0x3547be;if(this[_0x53c99b(0x2bb)][_0x53c99b(0x305)])this[_0x53c99b(0x307)]=!![];else{}}['recognize'](_0x3a151d,_0x5657a0,_0xb86d57){const _0x242903=_0x3547be;if(this[_0x242903(0x2bb)][_0x242903(0x305)])this[_0x242903(0x2f3)](_0x3a151d,_0x5657a0,_0xb86d57);else{}}[_0x3547be(0x2f3)](_0x4d82e8,_0x3a73cd,_0x2d26a1){const _0x5255aa=_0x3547be;let _0x483724=ImageProcessing['canvasToBase64'](_0x4d82e8,_0x5255aa(0x320),0.9),_0x18e7c7=new FormData();_0x18e7c7[_0x5255aa(0x376)](_0x5255aa(0x20f),_0x483724),_0x18e7c7['append'](_0x5255aa(0x310),_0x3a73cd);let _0x112a6a=this[_0x5255aa(0x2bb)][_0x5255aa(0x250)]!=null?StringExtra[_0x5255aa(0x38e)](this['options'][_0x5255aa(0x250)]):'',_0x4a7735=this['options'][_0x5255aa(0x26c)]!=null?this['options'][_0x5255aa(0x26c)]:_0x112a6a+'/'+this[_0x5255aa(0x2bb)][_0x5255aa(0x2da)];fetch(_0x4a7735,{'method':'POST','body':_0x18e7c7})[_0x5255aa(0x260)](_0x4d22d6=>_0x4d22d6[_0x5255aa(0x2a5)]())['then'](_0x8f09=>{const _0x46d1bf=_0x5255aa;helper_logger[_0x46d1bf(0x33a)]()[_0x46d1bf(0x319)](_0x46d1bf(0x3d6),_0x8f09);let _0x587dc8=MRZReader[_0x46d1bf(0x34f)](_0x8f09[_0x46d1bf(0x2c4)]);_0x8f09[_0x46d1bf(0x321)]===![]&&(_0x587dc8['type']=null),typeof _0x2d26a1===_0x46d1bf(0x20d)&&_0x2d26a1(_0x587dc8);})['catch'](_0x428d89=>{const _0x374306=_0x5255aa;console[_0x374306(0x1fd)](_0x374306(0x259),_0x428d89),typeof _0x2d26a1==='function'&&_0x2d26a1(null);});}['recognizeLocal'](_0x4fe656,_0x3f0626){}[_0x3547be(0x2b6)](_0x711da5){const _0x26979d=_0x3547be;let _0x241bb2={'type':null,'text':_0x711da5,'object':null};if(_0x241bb2[_0x26979d(0x3b7)]>0x4b){const _0x5d504d=_0x711da5['substring'](0x0,0x3);if(_0x5d504d[_0x26979d(0x346)]('I<')||_0x5d504d[_0x26979d(0x346)]('1<'))_0x241bb2[_0x26979d(0x22b)]='I';else(_0x5d504d['includes']('P<')||_0x5d504d[_0x26979d(0x346)]('PC'))&&(_0x241bb2[_0x26979d(0x22b)]='P');}return _0x241bb2;}static['parseObject'](_0x306d2e){const _0x28e99c=_0x3547be;let _0x2744d7={'type':null,'text':_0x306d2e['Lines']['join'](''),'object':_0x306d2e};if(_0x2744d7[_0x28e99c(0x249)][_0x28e99c(0x29e)]>0x4b){const _0x30fb4e=_0x306d2e[_0x28e99c(0x28e)];if(_0x30fb4e['includes']('I<')||_0x30fb4e[_0x28e99c(0x346)]('1<'))_0x2744d7['type']='I';else(_0x30fb4e[_0x28e99c(0x346)]('P<')||_0x30fb4e['includes']('PC'))&&(_0x2744d7['type']='P');}return _0x2744d7;}};const DCScanError={'NO_CARD':_0x3547be(0x313),'MANY_CARDS':_0x3547be(0x2fd),'LOW_LIGHT':'lowlight','HIGH_LIGHT':'highlight','TOO_SMALL':_0x3547be(0x39f)},DCScanDocType={'NONE':'none','ID':'id','PASSPORT':_0x3547be(0x36f)},DCScanDocFaces={'NONE':_0x3547be(0x2d1),'ID_FRONT':'id_front','ID_BACK':_0x3547be(0x3c6),'PASS_FRONT':_0x3547be(0x365)},DCScanCommand={'NONE':_0x3547be(0x2d1),'SHOW':'show','ID_BACK':_0x3547be(0x3c6),'FINISH':_0x3547be(0x261)},DCScanSteps={'NONE':'none','SCANNING':_0x3547be(0x217),'FINISH':_0x3547be(0x261)};class ScanAnalyser{constructor(_0x568fd3,_0x3f64ba={}){const _0x4181bc=_0x3547be;this[_0x4181bc(0x29f)]=_0x568fd3,this[_0x4181bc(0x2bb)]={'host':null,'headers':null,'mrzOptions':null,'detector':null,'video':null,'area':{'x':0x0,'y':0x0,'width':0x0,'height':0x0},'detectTime':0x64,'useServerSide':null,'onCardDetected':null,'onFaceDetected':null,'onMRZDetected':null,'onDetected':null,'onError':null,'onFinished':null,'onCommand':null,'onCommandResult':null,'onStepChanged':null,'mirrored':!![],'delay':0x1f4,'serverDelay':0x1f4,'cardMinSize':{'width':0x46,'height':0x37}},this[_0x4181bc(0x2bb)]=deepMerge(this['options'],_0x3f64ba),this[_0x4181bc(0x360)]=null,this[_0x4181bc(0x1f8)]=![],this[_0x4181bc(0x3bc)]=null,this[_0x4181bc(0x30c)]=DCScanSteps[_0x4181bc(0x2d8)],this[_0x4181bc(0x2e7)]=null,this[_0x4181bc(0x309)]={},this['result']={},this[_0x4181bc(0x280)]=null,this[_0x4181bc(0x2b0)]=null,this[_0x4181bc(0x35b)]=null,this[_0x4181bc(0x1f6)]=null,this[_0x4181bc(0x388)]=null,this[_0x4181bc(0x31a)]=this[_0x4181bc(0x2bb)][_0x4181bc(0x31a)],this['tID']=null,this[_0x4181bc(0x2bb)][_0x4181bc(0x2c1)]&&(this[_0x4181bc(0x31a)]=this[_0x4181bc(0x2bb)][_0x4181bc(0x3c4)]),this[_0x4181bc(0x207)]=new CardDetector({'mirrored':this[_0x4181bc(0x2bb)]['mirrored'],'single':!![],'serverSide':this[_0x4181bc(0x2bb)]['useServerSide'],'host':this[_0x4181bc(0x2bb)][_0x4181bc(0x250)],'headers':this['options'][_0x4181bc(0x1de)]}),this[_0x4181bc(0x382)]=new MRZReader({'host':this['options']['host'],'url':this['options'][_0x4181bc(0x3cb)]?this['options']['mrzOptions'][_0x4181bc(0x26c)]||null:null}),this['cc']=null,this[_0x4181bc(0x354)](),!this[_0x4181bc(0x2bb)][_0x4181bc(0x2c1)]&&this[_0x4181bc(0x212)]();}[_0x3547be(0x1e6)](){const _0x32b7ef=_0x3547be;this[_0x32b7ef(0x207)][_0x32b7ef(0x235)](),this[_0x32b7ef(0x382)][_0x32b7ef(0x235)](),this['stream']!=null&&ImageProcessing['getImageFromURL']('/img/face.jpg')['then'](_0x43fd69=>{const _0x2ec12d=_0x32b7ef;this[_0x2ec12d(0x360)][_0x2ec12d(0x362)]('getTinyFace',_0x43fd69);});}[_0x3547be(0x212)](){const _0x2f934d=_0x3547be;this[_0x2f934d(0x360)]=stream[_0x2f934d(0x1f0)](_0x2f934d(0x1e1)),this[_0x2f934d(0x360)]['on']('onTinyFaceResult',_0x21f3c9=>{const _0x4a1537=_0x2f934d;helper_logger[_0x4a1537(0x33a)]()['log'](_0x4a1537(0x256),_0x21f3c9),this['step']===DCScanSteps[_0x4a1537(0x3c2)]&&this['curScan']!=null&&this['onFaceDetected'](_0x21f3c9);});}[_0x3547be(0x2bd)](_0x752558,_0x3a79af){const _0x3ccfb1=_0x3547be;this[_0x3ccfb1(0x207)][_0x3ccfb1(0x224)]()&&this[_0x3ccfb1(0x207)]['detect'](_0x752558,_0x213fc3=>{const _0xc5fcfd=_0x3ccfb1;typeof _0x3a79af===_0xc5fcfd(0x20d)&&_0x3a79af(_0x213fc3);});}['observe'](){const _0x11b8b7=_0x3547be;if(!this[_0x11b8b7(0x207)][_0x11b8b7(0x224)]()||this[_0x11b8b7(0x226)]==null)return;else{let _0x16ebf2=new Date()[_0x11b8b7(0x2d6)]();if(this[_0x11b8b7(0x30c)]===DCScanSteps[_0x11b8b7(0x2d8)]&&_0x16ebf2-this[_0x11b8b7(0x1f6)]>0x3e8)this[_0x11b8b7(0x30c)]=DCScanSteps[_0x11b8b7(0x3c2)],this[_0x11b8b7(0x27f)](DCScanCommand['SHOW']);else{if(this[_0x11b8b7(0x30c)]===DCScanSteps[_0x11b8b7(0x2d8)])return;else{if(this[_0x11b8b7(0x30c)]===DCScanCommand['FINISH']){this[_0x11b8b7(0x388)]!=null&&_0x16ebf2-this[_0x11b8b7(0x388)]>0x7d0&&(this[_0x11b8b7(0x261)](),this['finishTime']=null);return;}}}}!this[_0x11b8b7(0x1f8)]&&(this[_0x11b8b7(0x2e7)]=null,this[_0x11b8b7(0x309)]={'card':![],'face':![],'mrz':![]},this[_0x11b8b7(0x1f8)]=!![],this[_0x11b8b7(0x2b0)]=this['canvas'],this[_0x11b8b7(0x280)]=ImageProcessing[_0x11b8b7(0x322)](this[_0x11b8b7(0x2b0)]),this['detector'][_0x11b8b7(0x356)](this[_0x11b8b7(0x2b0)],this['tID'],_0x4fc1b4=>{const _0x5b69a2=_0x11b8b7;this[_0x5b69a2(0x24d)](_0x4fc1b4);}));}[_0x3547be(0x24d)](_0x306559){const _0x4eb7b3=_0x3547be;let _0x27523d=_0x306559!=null&&_0x306559[_0x4eb7b3(0x29e)]>0x0?_0x306559[0x0]:null,_0x18d530=null;this[_0x4eb7b3(0x309)]['card']=!![];let _0x584421=_0x27523d!=null?this['checkSize'](_0x27523d[_0x4eb7b3(0x299)]):![];_0x27523d!=null&&!_0x584421&&this[_0x4eb7b3(0x368)](DCScanError['TOO_SMALL']);if(_0x27523d!=null&&_0x584421===!![]){helper_logger[_0x4eb7b3(0x33a)]()['log'](_0x4eb7b3(0x398),_0x306559);let _0x484a05={'docType':this[_0x4eb7b3(0x2a6)](_0x27523d[_0x4eb7b3(0x2a0)]),'docFace':this[_0x4eb7b3(0x267)](_0x27523d[_0x4eb7b3(0x2a0)]),'card':_0x27523d,'face':null,'mrz':null,'image':null};this['curScan']=_0x484a05;let _0x3f256d=ImageProcessing['imageDataToCanvas'](this['curFrame']);_0x18d530=ImageProcessing[_0x4eb7b3(0x1ed)](_0x3f256d,_0x27523d[_0x4eb7b3(0x299)][0x0],_0x27523d['bbox'][0x1],_0x27523d[_0x4eb7b3(0x299)][0x2],_0x27523d[_0x4eb7b3(0x299)][0x3]),_0x484a05[_0x4eb7b3(0x20f)]=_0x18d530['toDataURL'](_0x4eb7b3(0x320),0.9),this[_0x4eb7b3(0x35b)]=_0x18d530;if(this[_0x4eb7b3(0x206)][_0x4eb7b3(0x3a6)][_0x4eb7b3(0x29e)]===0x0&&(_0x484a05[_0x4eb7b3(0x1d8)]===DCScanDocFaces[_0x4eb7b3(0x1fe)]||_0x484a05[_0x4eb7b3(0x1d8)]===DCScanDocFaces['PASS_FRONT'])){_0x27523d[_0x4eb7b3(0x350)]===undefined||_0x27523d['face']==null?this[_0x4eb7b3(0x360)][_0x4eb7b3(0x362)](_0x4eb7b3(0x211),_0x18d530):this[_0x4eb7b3(0x1e3)]([_0x27523d[_0x4eb7b3(0x350)]]);if(_0x484a05['docFace']===DCScanDocFaces['PASS_FRONT']){let _0x3bc64b=_0x18d530[_0x4eb7b3(0x2c9)]*0.7,_0x52e40f=ImageProcessing[_0x4eb7b3(0x1ed)](_0x18d530,0x0,_0x3bc64b,_0x18d530[_0x4eb7b3(0x30d)],_0x18d530['height']-_0x3bc64b);if(_0x27523d['mrz']===undefined||_0x27523d[_0x4eb7b3(0x382)]==null){let _0x177853=ImageProcessing[_0x4eb7b3(0x2df)](_0x52e40f);_0x177853>0x5?this[_0x4eb7b3(0x382)][_0x4eb7b3(0x2f7)](_0x52e40f,this['tID'],_0x1b1506=>{this['onMRZDetected'](_0x1b1506);}):this['unlock'](this[_0x4eb7b3(0x31a)]);}else this[_0x4eb7b3(0x1e0)](_0x27523d['mrz']);}else this['scanned'][_0x4eb7b3(0x382)]=!![];}else{if(this[_0x4eb7b3(0x206)][_0x4eb7b3(0x3a6)][_0x4eb7b3(0x29e)]>0x0&&this[_0x4eb7b3(0x206)][_0x4eb7b3(0x266)]===DCScanDocType['ID']&&_0x484a05['docFace']===DCScanDocFaces[_0x4eb7b3(0x33b)]){let _0x10e767=_0x18d530[_0x4eb7b3(0x2c9)]*0.6,_0x3c08de=ImageProcessing[_0x4eb7b3(0x1ed)](_0x18d530,0x0,_0x10e767,_0x18d530['width'],_0x18d530[_0x4eb7b3(0x2c9)]-_0x10e767);if(_0x27523d[_0x4eb7b3(0x382)]===undefined||_0x27523d[_0x4eb7b3(0x382)]==null){let _0x3f5ba1=ImageProcessing[_0x4eb7b3(0x2df)](_0x3c08de,0xa);_0x3f5ba1>0xa?this[_0x4eb7b3(0x382)]['recognize'](_0x3c08de,this[_0x4eb7b3(0x226)],_0x786917=>{this['onMRZDetected'](_0x786917);}):this['unlock'](this[_0x4eb7b3(0x31a)]);}else this['onMRZDetected'](_0x27523d['mrz']);this['scanned'][_0x4eb7b3(0x350)]=!![];}else this['unlock'](this['delay']);}this['callCardDetectedEvent'](_0x306559),this['checkScanResult']();}else this[_0x4eb7b3(0x37b)]([]),this[_0x4eb7b3(0x370)]([]),this[_0x4eb7b3(0x27b)](this['delay']);}['checkSize'](_0x5c036e){const _0xc40ffc=_0x3547be;let _0x38542d=this['actualCanvas']['width'],_0x206a09=this[_0xc40ffc(0x2b0)][_0xc40ffc(0x2c9)],_0x480eec=this[_0xc40ffc(0x2bb)][_0xc40ffc(0x28f)];if(_0x5c036e!=null&&_0x5c036e[_0xc40ffc(0x29e)]>=0x4){if(_0x5c036e[0x2]/_0x38542d*0x64>_0x480eec[_0xc40ffc(0x30d)]||_0x5c036e[0x3]/_0x206a09*0x64>_0x480eec[_0xc40ffc(0x2c9)])return!![];}return![];}[_0x3547be(0x1e3)](_0x35d365){const _0x5ed165=_0x3547be;helper_logger['getInstance']()[_0x5ed165(0x319)](_0x5ed165(0x1e3),_0x35d365),this[_0x5ed165(0x309)][_0x5ed165(0x350)]=!![];if(this['curScan']!=null){this[_0x5ed165(0x2e7)][_0x5ed165(0x350)]=null;if(_0x35d365[_0x5ed165(0x29e)]>0x0){let _0x172b40=ImageProcessing[_0x5ed165(0x1ed)](this[_0x5ed165(0x35b)],_0x35d365[0x0]['x'],_0x35d365[0x0]['y'],_0x35d365[0x0][_0x5ed165(0x30d)],_0x35d365[0x0]['height']),_0x3507bf=ImageProcessing[_0x5ed165(0x2df)](_0x172b40,0xa);helper_logger[_0x5ed165(0x33a)]()['log'](_0x5ed165(0x2dc),_0x3507bf),_0x3507bf>0xa&&(this['curScan'][_0x5ed165(0x350)]=_0x35d365);}typeof this[_0x5ed165(0x2bb)][_0x5ed165(0x1e3)]===_0x5ed165(0x20d)&&this['options'][_0x5ed165(0x1e3)](_0x35d365),this[_0x5ed165(0x3a3)]();}}[_0x3547be(0x1e0)](_0x5abb69){const _0x318acd=_0x3547be;helper_logger[_0x318acd(0x33a)]()['log'](_0x318acd(0x1e0),_0x5abb69),this[_0x318acd(0x309)]['mrz']=!![];if(this[_0x318acd(0x2e7)]==null)return;if(_0x5abb69!=null&&_0x5abb69['object']!=null&&_0x5abb69['object'][_0x318acd(0x3d3)]===!![])this['curScan'][_0x318acd(0x382)]=_0x5abb69;else _0x5abb69!=null&&_0x5abb69[_0x318acd(0x3d3)]===!![]?this[_0x318acd(0x2e7)][_0x318acd(0x382)]=MRZReader[_0x318acd(0x34f)](_0x5abb69):this[_0x318acd(0x2e7)][_0x318acd(0x382)]=null;typeof this['options'][_0x318acd(0x1e0)]===_0x318acd(0x20d)&&this[_0x318acd(0x2bb)]['onMRZDetected'](_0x5abb69),this[_0x318acd(0x3a3)]();}[_0x3547be(0x3a3)](){const _0x44cba0=_0x3547be;if(!this[_0x44cba0(0x218)]())return;let _0x11ddb0=this[_0x44cba0(0x2e7)],_0x15974b=![];if(this['result'][_0x44cba0(0x3a6)][_0x44cba0(0x29e)]===0x0&&(_0x11ddb0['docFace']===DCScanDocFaces['ID_FRONT']||_0x11ddb0[_0x44cba0(0x1d8)]===DCScanDocFaces[_0x44cba0(0x2eb)]))_0x11ddb0[_0x44cba0(0x1d8)]===DCScanDocFaces[_0x44cba0(0x1fe)]?_0x11ddb0[_0x44cba0(0x21b)]!=null&&_0x11ddb0['face']!=null&&_0x11ddb0['face']['length']===0x1&&(this['result']['scans'][_0x44cba0(0x2af)](_0x11ddb0),this[_0x44cba0(0x206)]['docType']=DCScanDocType['ID'],this['result']['status']=![],this[_0x44cba0(0x370)](this['curScan']),this[_0x44cba0(0x27f)](DCScanCommand[_0x44cba0(0x33b)]),_0x15974b=!![],this[_0x44cba0(0x27b)](this[_0x44cba0(0x31a)])):_0x11ddb0[_0x44cba0(0x21b)]!=null&&_0x11ddb0['face']!=null&&_0x11ddb0[_0x44cba0(0x382)]!=null&&_0x11ddb0[_0x44cba0(0x382)][_0x44cba0(0x22b)]!=null&&(this[_0x44cba0(0x206)][_0x44cba0(0x3a6)][_0x44cba0(0x2af)](_0x11ddb0),this[_0x44cba0(0x206)][_0x44cba0(0x266)]=DCScanDocType[_0x44cba0(0x3a7)],this['result'][_0x44cba0(0x2c6)]=!![],this[_0x44cba0(0x370)](this[_0x44cba0(0x2e7)]),this[_0x44cba0(0x28c)](DCScanSteps[_0x44cba0(0x315)]),this[_0x44cba0(0x388)]=new Date()[_0x44cba0(0x2d6)](),_0x15974b=!![]);else this[_0x44cba0(0x206)][_0x44cba0(0x3a6)][_0x44cba0(0x29e)]===0x1&&this[_0x44cba0(0x206)]['docType']===DCScanDocType['ID']&&_0x11ddb0[_0x44cba0(0x1d8)]===DCScanDocFaces[_0x44cba0(0x33b)]&&(_0x11ddb0['card']!=null&&_0x11ddb0[_0x44cba0(0x382)]!=null&&_0x11ddb0['mrz'][_0x44cba0(0x22b)]!=null&&(this[_0x44cba0(0x206)][_0x44cba0(0x3a6)]['push'](_0x11ddb0),this['result']['status']=!![],this[_0x44cba0(0x370)](this[_0x44cba0(0x2e7)]),this[_0x44cba0(0x28c)](DCScanSteps[_0x44cba0(0x315)]),this['finishTime']=new Date()[_0x44cba0(0x2d6)](),_0x15974b=!![]));!_0x15974b&&this[_0x44cba0(0x309)][_0x44cba0(0x21b)]&&this[_0x44cba0(0x309)]['face']&&this['scanned'][_0x44cba0(0x382)]&&this[_0x44cba0(0x27b)](this['delay']);}[_0x3547be(0x218)](){const _0x56054b=_0x3547be;for(let _0x26274a in this[_0x56054b(0x309)]){if(this[_0x56054b(0x309)][_0x26274a]!==!![])return![];}return!![];}[_0x3547be(0x28c)](_0x1d2ab4){const _0x474dfd=_0x3547be;this['step']!==_0x1d2ab4&&(this[_0x474dfd(0x30c)]=_0x1d2ab4,typeof this[_0x474dfd(0x2bb)][_0x474dfd(0x32b)]=='function'&&this[_0x474dfd(0x2bb)]['onStepChanged'](_0x1d2ab4));}[_0x3547be(0x37b)](_0x4ca632){const _0x32cfe2=_0x3547be;_0x4ca632!==null&&typeof this[_0x32cfe2(0x2bb)]['onCardDetected']===_0x32cfe2(0x20d)&&this[_0x32cfe2(0x2bb)][_0x32cfe2(0x24d)](_0x4ca632);}[_0x3547be(0x370)](_0x351bb4){const _0x4210e8=_0x3547be;typeof this['options']['onDetected']===_0x4210e8(0x20d)&&this[_0x4210e8(0x2bb)][_0x4210e8(0x281)](_0x351bb4);}[_0x3547be(0x368)](_0x42ab84){const _0xe0d9a9=_0x3547be;typeof this[_0xe0d9a9(0x2bb)][_0xe0d9a9(0x22d)]===_0xe0d9a9(0x20d)&&this['options'][_0xe0d9a9(0x22d)](_0x42ab84);}[_0x3547be(0x2dd)](){const _0x4040a0=_0x3547be;return this[_0x4040a0(0x30c)];}[_0x3547be(0x27b)](_0x192819=null){const _0x1fe9cb=_0x3547be;_0x192819=_0x192819==null?this[_0x1fe9cb(0x31a)]:_0x192819,clearTimeout(this[_0x1fe9cb(0x3bc)]),this[_0x1fe9cb(0x3bc)]=setTimeout(()=>{const _0x1e4682=_0x1fe9cb;this[_0x1e4682(0x1f8)]=![];},_0x192819);}[_0x3547be(0x354)](){const _0x284966=_0x3547be;this[_0x284966(0x30c)]=DCScanCommand['NONE'],this[_0x284966(0x206)]={'status':![],'docType':DCScanDocType[_0x284966(0x2d8)],'scans':[],'tID':null},this['curScan']=null,this[_0x284966(0x309)]={},this[_0x284966(0x1f8)]=![],this[_0x284966(0x35b)]=null,this[_0x284966(0x226)]=null,this[_0x284966(0x207)][_0x284966(0x354)]();}[_0x3547be(0x2c0)](){const _0xeff1a0=_0x3547be;this[_0xeff1a0(0x30c)]=DCScanSteps['NONE'],this[_0xeff1a0(0x27f)](DCScanCommand[_0xeff1a0(0x2d8)]),this[_0xeff1a0(0x1f6)]=new Date()[_0xeff1a0(0x2d6)](),!this[_0xeff1a0(0x207)][_0xeff1a0(0x2bb)][_0xeff1a0(0x2f8)]?(this[_0xeff1a0(0x226)]=String(this[_0xeff1a0(0x1f6)]+Math[_0xeff1a0(0x252)](Math[_0xeff1a0(0x230)]()*0x186a0)),this[_0xeff1a0(0x206)][_0xeff1a0(0x226)]=this[_0xeff1a0(0x226)]):this['detector'][_0xeff1a0(0x304)]((_0x255cac,_0x2e57d9)=>{const _0x333dac=_0xeff1a0;this['tID']=_0x2e57d9,this['result'][_0x333dac(0x226)]=this[_0x333dac(0x226)];});}[_0x3547be(0x261)](){const _0x640c25=_0x3547be;this[_0x640c25(0x27f)](DCScanCommand[_0x640c25(0x315)]),typeof this[_0x640c25(0x2bb)][_0x640c25(0x392)]===_0x640c25(0x20d)&&this['options'][_0x640c25(0x392)](this['result']);}[_0x3547be(0x27f)](_0x2ebf14){const _0x51f365=_0x3547be;typeof this['options'][_0x51f365(0x390)]==='function'&&this[_0x51f365(0x2bb)][_0x51f365(0x390)](_0x2ebf14);}[_0x3547be(0x2a6)](_0x2065ef){const _0x3f225d=_0x3547be;switch(_0x2065ef){case _0x3f225d(0x213):case'id_back':return DCScanDocType['ID'];case _0x3f225d(0x245):case _0x3f225d(0x37f):return DCScanDocType[_0x3f225d(0x3a7)];default:return DCScanDocType[_0x3f225d(0x2d8)];}}[_0x3547be(0x267)](_0x28f1bf){const _0x5938a3=_0x3547be;switch(_0x28f1bf){case _0x5938a3(0x213):return DCScanDocFaces[_0x5938a3(0x1fe)];case _0x5938a3(0x3c6):return DCScanDocFaces[_0x5938a3(0x33b)];case _0x5938a3(0x245):case _0x5938a3(0x37f):return DCScanDocFaces[_0x5938a3(0x2eb)];default:return DCScanDocFaces[_0x5938a3(0x2d8)];}}['getStep'](){const _0x4af12e=_0x3547be;return this[_0x4af12e(0x30c)];}};class vislayer_VisualLayer{constructor(_0x832b67,_0x922ea1={}){const _0x5c2d9e=_0x3547be;this[_0x5c2d9e(0x29f)]=_0x832b67,this['options']={'srcDim':{'k':0x1,'dx':0x0,'dy':0x0,'dw':0x0,'dh':0x0},'mirrored':!![],'areaColor':_0x5c2d9e(0x20a),'areaOpacity':0.5,'showArea':!![],'showDetectors':!![]},this['options']=deepMerge(this[_0x5c2d9e(0x2bb)],_0x922ea1),this['cc']=new CoordConverter(this['options'][_0x5c2d9e(0x3a4)]);}[_0x3547be(0x292)](_0x3c371b,_0x439c05,_0xfea602){}[_0x3547be(0x36d)](){}[_0x3547be(0x2d3)](_0x11e86d){const _0x3deb5c=_0x3547be;if(!this[_0x3deb5c(0x2bb)][_0x3deb5c(0x3ad)])return;let _0x27afbd=_0x11e86d['width']+0x14,_0x529b2d=_0x11e86d['height']+0x14,_0x5e3af2=(this['canvas']['width']-_0x27afbd*this['canvas'][_0x3deb5c(0x30d)]/0x64)/0x2,_0x18daea=(this[_0x3deb5c(0x29f)][_0x3deb5c(0x2c9)]-_0x529b2d*this[_0x3deb5c(0x29f)]['height']/0x64)/0x2,_0x11de82=this[_0x3deb5c(0x29f)]['getContext']('2d');_0x11de82[_0x3deb5c(0x231)](),_0x11de82['beginPath'](),_0x11de82[_0x3deb5c(0x326)]=0x3;let _0x54c388=parseInt(this[_0x3deb5c(0x2bb)][_0x3deb5c(0x3a2)][_0x3deb5c(0x23a)](0x1,0x2),0x10),_0x1eedb4=parseInt(this[_0x3deb5c(0x2bb)][_0x3deb5c(0x3a2)][_0x3deb5c(0x23a)](0x3,0x2),0x10),_0x27fb53=parseInt(this[_0x3deb5c(0x2bb)][_0x3deb5c(0x3a2)][_0x3deb5c(0x23a)](0x5,0x2),0x10);_0x11de82[_0x3deb5c(0x367)]=_0x3deb5c(0x2b3)+_0x54c388+',\x20'+_0x1eedb4+',\x20'+_0x27fb53+',\x20'+this[_0x3deb5c(0x2bb)][_0x3deb5c(0x29c)]+')',_0x11de82[_0x3deb5c(0x2d4)](_0x5e3af2,_0x18daea,this[_0x3deb5c(0x29f)]['width']-_0x5e3af2*0x2,this[_0x3deb5c(0x29f)]['height']-_0x18daea*0x2),_0x11de82[_0x3deb5c(0x288)](),_0x11de82[_0x3deb5c(0x238)](),_0x11de82['restore']();}[_0x3547be(0x2d5)](_0xf4b4d9,_0x4fc0ba=_0x3547be(0x25b),_0x1be850=''){const _0x511920=_0x3547be;if(!this[_0x511920(0x2bb)]['showDetectors'])return;let _0x27d74d=this[_0x511920(0x29f)][_0x511920(0x349)]('2d'),_0x492108=null,_0x207971=null,_0x538305=null;for(let _0x35f8f2 in _0xf4b4d9){_0x538305=_0xf4b4d9[_0x35f8f2],this[_0x511920(0x2bb)][_0x511920(0x348)]?_0x492108=this[_0x511920(0x29f)][_0x511920(0x30d)]-this['cc'][_0x511920(0x352)](_0x538305['bbox'][0x0])-this['cc'][_0x511920(0x39b)](_0x538305['bbox'][0x2]):_0x492108=this['cc'][_0x511920(0x352)](_0x538305['bbox'][0x0]),_0x207971=this['cc'][_0x511920(0x23b)](_0x538305['bbox'][0x1]),_0x27d74d[_0x511920(0x30a)](),_0x27d74d['lineWidth']='2',_0x27d74d[_0x511920(0x367)]=_0x4fc0ba,_0x27d74d['rect'](_0x492108,_0x207971,this['cc']['getSize'](_0x538305[_0x511920(0x299)][0x2]),this['cc'][_0x511920(0x39b)](_0x538305[_0x511920(0x299)][0x3])),_0x27d74d[_0x511920(0x288)](),_0x27d74d[_0x511920(0x326)]='0',_0x27d74d[_0x511920(0x344)]=_0x4fc0ba,_0x27d74d[_0x511920(0x27a)](_0x492108-0x1,_0x207971-0x14,0x96,0x14),_0x27d74d[_0x511920(0x337)]=_0x511920(0x1e5),_0x27d74d[_0x511920(0x344)]=_0x511920(0x257),_0x27d74d[_0x511920(0x2be)]=_0x511920(0x377),_0x27d74d[_0x511920(0x325)](_0x538305[_0x511920(0x2a0)]+'\x20'+Number(_0x538305['score'])[_0x511920(0x2ef)](0x2),_0x492108+0x5,_0x207971-0x5),_0x27d74d['stroke'](),_0x27d74d[_0x511920(0x337)]=_0x511920(0x3bf),_0x27d74d[_0x511920(0x344)]=_0x4fc0ba,_0x27d74d[_0x511920(0x2be)]=_0x511920(0x328),_0x27d74d['fillText'](_0x1be850,_0x492108+this['cc'][_0x511920(0x39b)](_0x538305[_0x511920(0x299)][0x2])/0x2,_0x207971+this['cc'][_0x511920(0x39b)](_0x538305[_0x511920(0x299)][0x3])/0x2),_0x27d74d[_0x511920(0x238)]();}_0x27d74d[_0x511920(0x38d)]();}};class ScanWebWorker{constructor(_0x32f64a={}){const _0x3fc470=_0x3547be;this[_0x3fc470(0x1e1)]=null,this['stream']=null,this[_0x3fc470(0x2bb)]={'path':null},this[_0x3fc470(0x2bb)]=deepMerge(this[_0x3fc470(0x2bb)],_0x32f64a),this[_0x3fc470(0x275)]();}[_0x3547be(0x275)](){const _0x5d1a36=_0x3547be;this['stream']=stream[_0x5d1a36(0x1f0)](_0x5d1a36(0x358)),this[_0x5d1a36(0x360)]['on'](_0x5d1a36(0x243),this[_0x5d1a36(0x243)][_0x5d1a36(0x240)](this)),this['stream']['on'](_0x5d1a36(0x3b0),this[_0x5d1a36(0x3b0)][_0x5d1a36(0x240)](this)),window['Worker']&&this[_0x5d1a36(0x2bb)][_0x5d1a36(0x2e2)]!=null?(this[_0x5d1a36(0x1e1)]=new Worker(this['options'][_0x5d1a36(0x2e2)]),this[_0x5d1a36(0x1e1)][_0x5d1a36(0x2ae)]=this['onWorkerMessage']['bind'](this)):helper_logger[_0x5d1a36(0x33a)]()['log'](_0x5d1a36(0x1e4));}[_0x3547be(0x3b0)](_0xfb6bf8){const _0x15596b=_0x3547be;let _0x1a7570=null;if(_0xfb6bf8 instanceof HTMLCanvasElement)_0x1a7570=ImageProcessing[_0x15596b(0x322)](_0xfb6bf8);else _0xfb6bf8 instanceof HTMLImageElement&&(_0x1a7570=ImageProcessing[_0x15596b(0x3b9)](_0xfb6bf8));this[_0x15596b(0x1e1)][_0x15596b(0x274)]({'type':_0x15596b(0x2e9),'action':_0x15596b(0x3b0),'data':_0x1a7570});}[_0x3547be(0x243)](){const _0x29c2e3=_0x3547be;this[_0x29c2e3(0x1e1)][_0x29c2e3(0x274)]({'type':_0x29c2e3(0x2e9),'action':'loadCard'});}[_0x3547be(0x353)](_0x1e54b4){const _0x28e83b=_0x3547be;let _0x225878=_0x1e54b4['data']['type'],_0x47851b=_0x1e54b4['data'][_0x28e83b(0x27d)],_0x265d76=_0x1e54b4[_0x28e83b(0x2c4)][_0x28e83b(0x2c4)];switch(_0x225878){case _0x28e83b(0x2e9):this[_0x28e83b(0x360)][_0x28e83b(0x362)](_0x28e83b(0x36c),_0x265d76);break;case _0x28e83b(0x298):this[_0x28e83b(0x360)][_0x28e83b(0x362)](_0x28e83b(0x34a),_0x265d76);break;default:break;}}}function _0xe49d(_0x5f0f82,_0x3f789a){_0x5f0f82=_0x5f0f82-0x1d7;let _0x50b86e=_0x50b8[_0x5f0f82];return _0x50b86e;};class DeepScanner{constructor(_0x89cb41,_0x492fac={}){const _0x599bf5=_0x3547be;this[_0x599bf5(0x3c3)]=null,this['canvas']=null,this[_0x599bf5(0x2b5)]=null,this['state']={'start':![],'detectInit':![],'analyzeAfterOpen':![]},this[_0x599bf5(0x1e1)]=null,this[_0x599bf5(0x2bb)]={'url':null,'headers':null,'src':null,'sourceType':null,'width':0x780,'height':0x438,'onInit':null,'onFrameCaptured':null,'onCardDetected':null,'onDetected':null,'onCommand':null,'sessionTime':0xea60,'detectTime':0x64,'onFinished':null,'mirrored':!![],'scan_worker_path':'js/deepscanworker.min.js','face_worker_path':_0x599bf5(0x222),'testURL':null,'mrzOptions':null,'useServerSide':null,'serverRequestDelay':0x1f4,'detector':{},'camera':{'fillOnMobile':!![],'fill':!![],'cutEdge':!![]},'visual':{'areaColor':_0x599bf5(0x20a),'showArea':!![],'showDetectors':!![]},'text':{'processing':_0x599bf5(0x3b3)}},this[_0x599bf5(0x35c)]=null,this[_0x599bf5(0x2c2)]=null,this[_0x599bf5(0x394)]=null,this[_0x599bf5(0x251)]=null,this['lastDetected']=null,this['lastDetectedTime']=null,this[_0x599bf5(0x1f9)]=null,this['lastScannedTime']=null,this['lastCommand']=DCScanCommand[_0x599bf5(0x2d8)],this['lastResult']=null,this[_0x599bf5(0x2f1)]=0x0,this[_0x599bf5(0x2bb)]=deepMerge(this[_0x599bf5(0x2bb)],_0x492fac),(this[_0x599bf5(0x2bb)][_0x599bf5(0x2c1)]==null&&OSPlus[_0x599bf5(0x3a9)]()||OSPlus['isSafari']())&&(this[_0x599bf5(0x2bb)][_0x599bf5(0x2c1)]=!![]),this['initContainer'](_0x89cb41),this['setup']();}[_0x3547be(0x1e8)](_0x1f7706){const _0x46c4e2=_0x3547be;this[_0x46c4e2(0x2b5)]=new camera(_0x1f7706,{'src':this['options']['src'],'width':this['options'][_0x46c4e2(0x30d)],'height':this[_0x46c4e2(0x2bb)][_0x46c4e2(0x2c9)],'fill':this['options'][_0x46c4e2(0x2b5)]['fill'],'fillOnMobile':this[_0x46c4e2(0x2bb)]['camera'][_0x46c4e2(0x39a)],'cutEdge':this[_0x46c4e2(0x2bb)]['camera'][_0x46c4e2(0x208)],'onFrameUpdated':this[_0x46c4e2(0x2ac)]['bind'](this),'onLoaded':this[_0x46c4e2(0x399)]['bind'](this),'onStart':this[_0x46c4e2(0x363)][_0x46c4e2(0x240)](this),'onStop':this[_0x46c4e2(0x380)]['bind'](this)}),this['dom']=this[_0x46c4e2(0x2b5)]['dom'],this[_0x46c4e2(0x29f)]=this['camera'][_0x46c4e2(0x29f)];}[_0x3547be(0x275)](){const _0x147162=_0x3547be;this['cc']=new CoordConverter(this[_0x147162(0x2b5)][_0x147162(0x317)]),this['visual']=new vislayer_VisualLayer(this[_0x147162(0x29f)],{'srcDim':this[_0x147162(0x2b5)][_0x147162(0x317)],'mirrored':this['options'][_0x147162(0x348)],'areaColor':this[_0x147162(0x2bb)][_0x147162(0x2c2)][_0x147162(0x3a2)],'showArea':this[_0x147162(0x2bb)][_0x147162(0x2c2)][_0x147162(0x3ad)],'showDetectors':this[_0x147162(0x2bb)][_0x147162(0x2c2)][_0x147162(0x3c0)]}),this[_0x147162(0x35c)]=new ScanAnalyser(this[_0x147162(0x2b5)][_0x147162(0x29a)],{'host':this[_0x147162(0x2bb)][_0x147162(0x26c)],'headers':this['options'][_0x147162(0x1de)],'mrzOptions':this[_0x147162(0x2bb)][_0x147162(0x3cb)],'detector':this[_0x147162(0x2bb)][_0x147162(0x207)],'useServerSide':this[_0x147162(0x2bb)][_0x147162(0x2c1)],'onCommand':this[_0x147162(0x390)][_0x147162(0x240)](this),'onCardDetected':this[_0x147162(0x24d)][_0x147162(0x240)](this),'onDetected':this['onDetected']['bind'](this),'onFinished':this[_0x147162(0x392)]['bind'](this),'onError':this[_0x147162(0x22d)][_0x147162(0x240)](this),'mirrored':this[_0x147162(0x2bb)][_0x147162(0x348)],'serverDelay':this['options']['serverRequestDelay']});if(!this[_0x147162(0x2bb)]['useServerSide']){let _0x44e5d3='?rand='+new Date()[_0x147162(0x2d6)]();this[_0x147162(0x394)]=new WebWorker({'path':this[_0x147162(0x2bb)][_0x147162(0x291)]+_0x44e5d3}),this[_0x147162(0x251)]=new ScanWebWorker({'path':this[_0x147162(0x2bb)]['scan_worker_path']+_0x44e5d3});}this['analizer']['cc']=this['cc'],typeof this[_0x147162(0x2bb)]['onInit']==_0x147162(0x20d)&&this[_0x147162(0x2bb)][_0x147162(0x22e)]();}['open'](){const _0x3c94de=_0x3547be;!this['camera'][_0x3c94de(0x338)]()&&(this['camera'][_0x3c94de(0x2c0)](),this[_0x3c94de(0x35c)][_0x3c94de(0x1e6)]());}[_0x3547be(0x366)](){this['stop'](),this['camera']['stop']();}[_0x3547be(0x2c0)](){const _0x1cab1f=_0x3547be;this[_0x1cab1f(0x347)]=null,this[_0x1cab1f(0x283)]=DCScanCommand[_0x1cab1f(0x2d8)],!this[_0x1cab1f(0x2b5)]['isPlaying']()?(this[_0x1cab1f(0x1f0)](),this[_0x1cab1f(0x331)][_0x1cab1f(0x2cf)]=!![]):(this['state'][_0x1cab1f(0x2c0)]=!![],this[_0x1cab1f(0x35c)][_0x1cab1f(0x2c0)]()),this[_0x1cab1f(0x386)](),this[_0x1cab1f(0x2f1)]=new Date()[_0x1cab1f(0x2d6)]();}[_0x3547be(0x36a)](){const _0x1713ec=_0x3547be;this['state'][_0x1713ec(0x2c0)]=![],this[_0x1713ec(0x331)][_0x1713ec(0x2cf)]=![],this['analizer'][_0x1713ec(0x354)](),this['clear']();}['testSource'](_0x4ee6b5,_0x43c0f9){const _0x90d8fb=_0x3547be;ImageProcessing[_0x90d8fb(0x1ec)](_0x4ee6b5)[_0x90d8fb(0x260)](_0x6308bc=>{const _0x2e393c=_0x90d8fb;let _0x2562ea=ImageProcessing[_0x2e393c(0x3b9)](_0x6308bc);this[_0x2e393c(0x35c)][_0x2e393c(0x2bd)](_0x2562ea,_0x43c0f9);});}[_0x3547be(0x386)](){const _0x4bb49e=_0x3547be;this[_0x4bb49e(0x236)]=[],this[_0x4bb49e(0x1f9)]=null,this[_0x4bb49e(0x1df)]=null,this[_0x4bb49e(0x375)]=null,this[_0x4bb49e(0x2f1)]=0x0;}[_0x3547be(0x392)](_0x18f5f5){const _0x3a5211=_0x3547be;this[_0x3a5211(0x236)]=[],this[_0x3a5211(0x1f9)]=null,this['visual'][_0x3a5211(0x2d5)]([]),this[_0x3a5211(0x36a)](),typeof this[_0x3a5211(0x2bb)][_0x3a5211(0x392)]=='function'&&this[_0x3a5211(0x2bb)][_0x3a5211(0x392)](_0x18f5f5);}['onCardDetected'](_0x4cad54){const _0xfc6a7e=_0x3547be;this[_0xfc6a7e(0x236)]=_0x4cad54,this[_0xfc6a7e(0x375)]=new Date()[_0xfc6a7e(0x2d6)](),typeof this[_0xfc6a7e(0x2bb)][_0xfc6a7e(0x24d)]==='function'&&this[_0xfc6a7e(0x2bb)][_0xfc6a7e(0x24d)](_0x4cad54);}[_0x3547be(0x281)](_0x476ab7){const _0x5da2dd=_0x3547be;this['lastScanned']=_0x476ab7,this['lastScannedTime']=new Date()[_0x5da2dd(0x2d6)](),helper_logger['getInstance']()[_0x5da2dd(0x319)](_0x5da2dd(0x37e),_0x476ab7),typeof this[_0x5da2dd(0x2bb)][_0x5da2dd(0x281)]===_0x5da2dd(0x20d)&&this['options'][_0x5da2dd(0x281)](this[_0x5da2dd(0x1f9)]);}[_0x3547be(0x390)](_0x560410){const _0x1df6fe=_0x3547be;this[_0x1df6fe(0x283)]=_0x560410;if(!this[_0x1df6fe(0x331)][_0x1df6fe(0x2c0)])return;typeof this[_0x1df6fe(0x2bb)]['onCommand']==='function'&&this[_0x1df6fe(0x2bb)]['onCommand'](_0x560410);}[_0x3547be(0x234)](){}[_0x3547be(0x22d)](_0x560b24){const _0x541070=_0x3547be;switch(_0x560b24){case DCScanError['TOO_SMALL']:helper_logger['getInstance']()[_0x541070(0x319)]('Card\x20is\x20too\x20small');break;default:}}[_0x3547be(0x2ac)](){const _0x506ae4=_0x3547be;if(this[_0x506ae4(0x331)][_0x506ae4(0x2c0)]){let _0x528882=this[_0x506ae4(0x1f9)]&&this[_0x506ae4(0x1f9)][_0x506ae4(0x21b)]?[this[_0x506ae4(0x1f9)][_0x506ae4(0x21b)]]:[];if(_0x528882[_0x506ae4(0x29e)]===0x0&&this[_0x506ae4(0x236)]!=null&&this['lastDetected'][_0x506ae4(0x29e)]>0x0){_0x528882=this[_0x506ae4(0x236)];let _0x3741d3='';if(this['lastCommand']===DCScanCommand[_0x506ae4(0x33b)]&&this['lastDetected'][0x0][_0x506ae4(0x2a0)]==='id_back')_0x3741d3=this[_0x506ae4(0x2bb)][_0x506ae4(0x249)][_0x506ae4(0x282)],this[_0x506ae4(0x2c2)][_0x506ae4(0x2d5)](_0x528882,'orange',_0x3741d3);else this['lastCommand']===DCScanCommand['SHOW']&&(this[_0x506ae4(0x236)][0x0]['class']==='pass_main'||this[_0x506ae4(0x236)][0x0][_0x506ae4(0x2a0)]===_0x506ae4(0x37f))&&(_0x3741d3=this[_0x506ae4(0x2bb)][_0x506ae4(0x249)][_0x506ae4(0x282)],this['visual'][_0x506ae4(0x2d5)](_0x528882,_0x506ae4(0x2ec),_0x3741d3));}else{let _0x52d1a6=this['getPassTime'](this[_0x506ae4(0x1df)]);_0x52d1a6!=null&&_0x52d1a6<0x7d0&&this[_0x506ae4(0x2c2)]['drawCard'](_0x528882);}this['analizer'][_0x506ae4(0x3b6)]()===DCScanSteps[_0x506ae4(0x3c2)]&&this['visual']['drawArea'](this[_0x506ae4(0x35c)][_0x506ae4(0x2bb)][_0x506ae4(0x28f)]);let _0x5b2e9b=new Date()[_0x506ae4(0x2d6)]();_0x5b2e9b-this[_0x506ae4(0x2f1)]>this[_0x506ae4(0x2bb)]['sessionTime']?this[_0x506ae4(0x392)]({'status':![],'msg':_0x506ae4(0x24f)}):this[_0x506ae4(0x35c)][_0x506ae4(0x1f3)]();}}[_0x3547be(0x399)](_0x4c0cbf,_0x5ede0e){const _0x3a0263=_0x3547be;this['cc'][_0x3a0263(0x244)](_0x5ede0e);}[_0x3547be(0x363)](){const _0x47beb1=_0x3547be;this[_0x47beb1(0x331)][_0x47beb1(0x2cf)]&&(this[_0x47beb1(0x331)][_0x47beb1(0x2cf)]=![],this[_0x47beb1(0x2c0)]());}[_0x3547be(0x380)](){}[_0x3547be(0x3b1)](_0x181780){const _0x4f4508=_0x3547be;if(_0x181780==null)return null;return new Date()[_0x4f4508(0x2d6)]()-_0x181780;}};const DCAnalyzer={'FACE':_0x3547be(0x350),'SCANNER':'scanner'};class DCFaceID{constructor(_0x44ffb6={}){const _0x371f21=_0x3547be;this[_0x371f21(0x2bb)]={'url':null,'headers':null,'debug':![]},this[_0x371f21(0x2bb)]=deepMerge(this['options'],_0x44ffb6),this[_0x371f21(0x2c4)]=new DataModel(_0x44ffb6['url']||null,this[_0x371f21(0x2bb)]);let _0xedd327=new helper_logger({'debug':this[_0x371f21(0x2bb)]['debug']});}['createDeepFace'](_0xad75ac,_0x20154e){let _0x57c20b=new DeepFace(_0xad75ac,_0x20154e);return _0x57c20b;}['createDeepScan'](_0x4dcb21,_0x264cbd){const _0x286386=_0x3547be;let _0x549740=deepMerge({'url':this['options'][_0x286386(0x26c)],'headers':this['options']['headers']},_0x264cbd),_0x39ae27=new DeepScanner(_0x4dcb21,_0x549740);return _0x39ae27;}[_0x3547be(0x1ee)](_0x2d9a8d,_0x503952){}[_0x3547be(0x1e9)](_0x1523ab,_0x47c68f){const _0x496e15=_0x3547be;this[_0x496e15(0x2c4)][_0x496e15(0x2ad)](_0x1523ab,_0x46827d=>{const _0x4b8808=_0x496e15;typeof _0x47c68f===_0x4b8808(0x20d)&&_0x47c68f(_0x46827d);});}[_0x3547be(0x3a9)](){return OSPlus['isMobile']();}}

/* harmony default export */ const dcfaceid = (DCFaceID);


/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		if(__webpack_module_cache__[moduleId]) {
/******/ 			return __webpack_module_cache__[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop)
/******/ 	})();
/******/
/************************************************************************/
/******/ 	// module exports must be returned from runtime so entry inlining is disabled
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(614);
/******/ })()
.default;
});
