/* eslint-disable */
const _0x391e=['toRealCoordX','callDetectedEvent','ID_BACK','fillOnMobile','pass_front','clearSnapshots','Error:','getTime','defineCurrentAction','fit2Size','yaw','startSession','json','isWebGLExist','srcDim','dim','block','toLowerCase','SHOW','FORWARD','area','scale','collect','cropAndResizeCanvas','nocard','then','getUserMedia','manyFace','isOffscreenCanvasSupport','data','videoinput','append','srcObject','id_front','result','bottom','bind','draw\x20mask\x20layer','forEach','serverDelay','currentStepActive','raf','rear\x20camera\x20used','errors','streamSize','tagName','onTinyFaceResult','pitch','isRearCameraUsed','onFaceResult','strokeStyle','setText','sizeKoef','rect','facingMode','unlock','some','atan2','loadedTID','time','type','Your\x20browser\x20doesn\x27t\x20support\x20web\x20workers.','globalAlpha','__canvas','load','detectionLocked','pass_main','observe','class','web\x20camera\x20exception!','highlight','callStepChange','commandText','play','areaColor','push','setDim','url','save','hide','serverSide','onScanResult','results','START','drawMask','center','mediaDevices','cropCanvas','step','currentAction','notify','RIGHT','postMessage','arc','isSafari','initWorker','createElement','callCommandChange','white','ctx','passport','landMarks','substr','getImageData','Starting','getSize','paused','orange','error','/verify','delay','serverRequestDelay','userAgent','frontCamera','onStartDownCount','scan_worker_path','closePath','checkScanResult','actions','forward','24SEeXbA','lowlight','scan','drawCard','init','errorWaitTime','visual','net','classList','onDetected','30px','webgl','TOO_SMALL','Worker','applyConstraints','none','resWidth','actionWaitBeforeCheck','getLastDetected','opacity','fillText','Error\x20loading\x20','look\x20forward','success','other','lastDetected','detect','finishWaitTime','absolute','Card\x20model\x20loaded','innerHTML','landmark','showTextArea','join','PASS_FRONT','getImageB64','ellipse','autoplay','lastDetectedTime','getPose','currentPosition','cutLastSlash','parseObject','reset','isMobile','faceMask','defineContainer','drawImage','Computing\x20for\x20finishing','hideTextArea','startTime','environment','function','scanner','analizer','callback','remove','PASSPORT','add','DOWN','status','scanLoaded','errorTime','left','look\x20left','worker','drawFaces','round','callError','getPassTime','restore','session\x20timeout','GET','changeStep','Success:','putImageData','areaOpacity','getCoordY','getElementById','enumerateDevices','host','reject','face_worker_path','toDataURL','getContext','pass_full','current','df-container','noFace','?rand=','stroke','Please\x20follow\x20the\x20commands','actualCanvas','data\x20processing,\x20please\x20wait...','getCoordX','options','dom','close','offsetHeight','display','blur','lastScanned','inputSize','lineWidth','__canvas_original','getTinyFace','setCommand','headpos','getTracks','textContent','open','includes','slice','path','rgb(66,109,139)','showTitle','SUCCESS','getLandmark','mrzcheck','stop','imageToCanvas','finish','getCard','scan-worker','docType','loading','onCommandResult','onInit','1afnswy','scanWebWorker','blinking','js/deepfaceworker.js','recognize','actionWaitTime','scans','shuffle','lastScannedTime','interval','auto','onFaceDetected','tid','assign','onCameraStop','mrz','onCommand','box','Card\x20is\x20too\x20small','beginPath','onload','859991fwosPZ','verify','getLaplacianVariance','onStep','smile','14px\x20Arial','face','2344708IpqRfR','height','checkURI','INIT','docFace','drawPath','getImageFromURL','getFace','curFrame','DIV','headers','POST','devices','drawArea','length','chooselist','defineScanFace','0.5','callCommandResult','defineScanType','debug','faceWebWorker','canvasToImageData','textAlign','sessionTimeCount','list','useServerSide','match','onError','onScanLoaded','fillStyle','maskSize','NONE','media\x20devices','showDetectors','Initializing','object','faceDetected','defineCommands','server','sessionTime','clear','onStepChanged','toOriginalSize','safari','timeID','loadCard','checkSize','fireCommand','camera','lock','detectTime','video','defineStream','loaded','ID_FRONT','image/jpeg','pos','lastResult','look\x20right','ACTIONS','toVerify','videoWidth','canvas2IMG','initContainer','application/json','defineProcess','onStop','finishTime','isErrorExist','toRealCoordY','596629cdkuKn','msg','getStep','20px\x20Arial','worker_path','fixedTime','request','setAttribute','undefined','outofbounds','isReady','insertBefore','image/png','processing','cutEdge','onCameraLoaded','dpr','notifyAll','text','LEFT','calculate','getCurrentStep','checkPosAndActions','onCameraStart','4423GdDGOZ','110199pLPIQn','Valid','next','getInstance','/img/face.jpg','actionText','toosmall','maskInited','tID','getCoord','mirrored','onMRZDetected','appendChild','globalCompositeOperation','onloadeddata','getSettings','clearRect','setFace','commands','valid','fill','observers','onLoaded','analyzeAfterOpen','id_back','getVideoTracks','REJECT','image','createDeepStory','onFrameUpdated','streams','source-over','testSource','showArea','score','detector','crossOrigin','single','Type','getArea','toFixed','gray','green','scanned','onFinished','25729zrzjjE','tinyFaceDetected','drawStreamToCanvas','manycards','anonymous','look\x20down','SCANNING','currentActionList','croppedSize','show','analyser','testDetect','resizeCanvas','commandArea','checkCurrentCommandAction','recognizeGlobal','bbox','isPlaying','showCollection','backgroundColor','act2Command','videoHeight','onerror','right','#FFFFFF','playsinline','position','count','lastCommand','state','lineTo','normalizing','addActionTime','snapshotlist','quadraticCurveTo','FINISH','blankCanvas','mrzOptions','onStreamLoaded','style','detectTimer','stream','indexOf','125RLmVvs','436153WjoWfC','end','createTextArea','string','detectedFaceCountDownBeforeStart','canvasToBase64','roll','noface','cardImage','video-layer','canvas2grayscale','substring','onStart','CANVAS','name','action','webWorker','setup','cardMinSize','setOptions','originalSize','log','Finished','onCardDetected','down','div','card','onWorkerMessage','start','isAllScanned','max','canvas','videoSize','catch','rgba(','Received:','sourceDim','moveTo','outOfBounds','width','commander','getTimeDiff','src','draw','curScan','callCardDetectedEvent','index','imageDataToCanvas','maskLayer'];const _0x124cab=_0x3844;(function(_0x30cd87,_0x5688d4){const _0x5ba547=_0x3844;while(!![]){try{const _0x4190e6=-parseInt(_0x5ba547(0x264))+-parseInt(_0x5ba547(0x1f2))+-parseInt(_0x5ba547(0x38d))*-parseInt(_0x5ba547(0x20b))+-parseInt(_0x5ba547(0x30d))*-parseInt(_0x5ba547(0x238))+parseInt(_0x5ba547(0x263))*-parseInt(_0x5ba547(0x20a))+-parseInt(_0x5ba547(0x3a2))+parseInt(_0x5ba547(0x3a9));if(_0x4190e6===_0x5688d4)break;else _0x30cd87['push'](_0x30cd87['shift']());}catch(_0x4a3e6e){_0x30cd87['push'](_0x30cd87['shift']());}}}(_0x391e,0x99043));const deepMerge=(_0x14a16a,_0xa8a510)=>{const _0x380209=_0x3844;for(let _0x36bf62 of Object['keys'](_0xa8a510)){_0xa8a510[_0x36bf62]instanceof Object&&Object[_0x380209(0x39a)](_0xa8a510[_0x36bf62],deepMerge(_0x14a16a[_0x36bf62]||{},_0xa8a510[_0x36bf62]));}return Object[_0x380209(0x39a)](_0x14a16a||{},_0xa8a510),_0x14a16a;},canvasRoundRect=(_0x1c5e78,_0x1474c0,_0x2e02c7,_0x5bbe95,_0x33fb75,_0x3335e4,_0x562d53,_0x496b35)=>{const _0x3215bc=_0x3844;typeof _0x496b35==='undefined'&&(_0x496b35=!![]);typeof _0x3335e4===_0x3215bc(0x1fa)&&(_0x3335e4=0x5);if(typeof _0x3335e4==='number')_0x3335e4={'tl':_0x3335e4,'tr':_0x3335e4,'br':_0x3335e4,'bl':_0x3335e4};else{var _0x140888={'tl':0x0,'tr':0x0,'br':0x0,'bl':0x0};for(var _0x1af587 in _0x140888){_0x3335e4[_0x1af587]=_0x3335e4[_0x1af587]||_0x140888[_0x1af587];}}_0x1c5e78['beginPath'](),_0x1c5e78[_0x3215bc(0x289)](_0x1474c0+_0x3335e4['tl'],_0x2e02c7),_0x1c5e78['lineTo'](_0x1474c0+_0x5bbe95-_0x3335e4['tr'],_0x2e02c7),_0x1c5e78[_0x3215bc(0x25a)](_0x1474c0+_0x5bbe95,_0x2e02c7,_0x1474c0+_0x5bbe95,_0x2e02c7+_0x3335e4['tr']),_0x1c5e78['lineTo'](_0x1474c0+_0x5bbe95,_0x2e02c7+_0x33fb75-_0x3335e4['br']),_0x1c5e78[_0x3215bc(0x25a)](_0x1474c0+_0x5bbe95,_0x2e02c7+_0x33fb75,_0x1474c0+_0x5bbe95-_0x3335e4['br'],_0x2e02c7+_0x33fb75),_0x1c5e78['lineTo'](_0x1474c0+_0x3335e4['bl'],_0x2e02c7+_0x33fb75),_0x1c5e78[_0x3215bc(0x25a)](_0x1474c0,_0x2e02c7+_0x33fb75,_0x1474c0,_0x2e02c7+_0x33fb75-_0x3335e4['bl']),_0x1c5e78[_0x3215bc(0x256)](_0x1474c0,_0x2e02c7+_0x3335e4['tl']),_0x1c5e78[_0x3215bc(0x25a)](_0x1474c0,_0x2e02c7,_0x1474c0+_0x3335e4['tl'],_0x2e02c7),_0x1c5e78[_0x3215bc(0x309)](),_0x562d53&&_0x1c5e78['fill'](),_0x496b35&&_0x1c5e78[_0x3215bc(0x367)]();};class StringExtra{static[_0x124cab(0x336)](_0x1fde1d){const _0x3905e2=_0x124cab;if(_0x1fde1d[_0x3905e2(0x2fb)](_0x1fde1d['length']-0x1)==='/')return _0x1fde1d[_0x3905e2(0x37d)](0x0,-0x1);return _0x1fde1d;}};class DataModel{constructor(_0x47a8ce='',_0x5cd0a5={}){const _0x127442=_0x124cab;this[_0x127442(0x2e2)]=_0x47a8ce,this[_0x127442(0x36c)]={'headers':{}},this[_0x127442(0x36c)]=deepMerge(this['options'],_0x5cd0a5);}[_0x124cab(0x3e6)](_0x48b75f,_0x1f8c75){const _0x5d48e9=_0x124cab;if(_0x48b75f==null)return;if(_0x48b75f[_0x5d48e9(0x342)]!=null&&_0x48b75f[_0x5d48e9(0x3a8)]==null){let _0x1232fb={'docType':_0x48b75f[_0x5d48e9(0x342)][_0x5d48e9(0x389)]||null,'scans':[],'tid':_0x48b75f['scanner'][_0x5d48e9(0x213)]};for(let _0x547e20 in _0x48b75f[_0x5d48e9(0x342)][_0x5d48e9(0x393)]){_0x1232fb[_0x5d48e9(0x393)][_0x5d48e9(0x2e0)]({'docFace':_0x48b75f[_0x5d48e9(0x342)][_0x5d48e9(0x393)][_0x547e20][_0x5d48e9(0x3ad)]||null,'image':_0x48b75f[_0x5d48e9(0x342)][_0x5d48e9(0x393)][_0x547e20][_0x5d48e9(0x226)]});}let _0x2e6a56=deepMerge({'Content-Type':_0x5d48e9(0x1ec)},this['options'][_0x5d48e9(0x3b3)]||{});fetch(StringExtra[_0x5d48e9(0x336)](this[_0x5d48e9(0x2e2)])+_0x5d48e9(0x302),{'method':_0x5d48e9(0x3b4),'headers':_0x2e6a56,'body':JSON['stringify'](_0x1232fb)})[_0x5d48e9(0x2ae)](_0x506c3f=>_0x506c3f[_0x5d48e9(0x2a1)]())[_0x5d48e9(0x2ae)](_0x423c57=>{const _0x16ec7c=_0x5d48e9;if(typeof _0x1f8c75===_0x16ec7c(0x341)){let _0x23b637={'success':_0x423c57['success'],'data':_0x423c57[_0x16ec7c(0x2b2)]||null,'msg':_0x423c57[_0x16ec7c(0x1f3)]||null};_0x1f8c75(_0x23b637);}})[_0x5d48e9(0x285)](_0xc48b7a=>{const _0x59abd1=_0x5d48e9;console[_0x59abd1(0x301)](_0x59abd1(0x29b),_0xc48b7a),typeof _0x1f8c75==='function'&&_0x1f8c75({'success':![],'error':_0xc48b7a});});}}};class CameraVisualLayer{constructor(_0x7e3582){const _0x5d2c4e=_0x124cab;this[_0x5d2c4e(0x283)]=_0x7e3582;}[_0x124cab(0x2ab)](){}[_0x124cab(0x24a)](){}[_0x124cab(0x2b4)](){}[_0x124cab(0x1f8)](){}};class OSPlus{static[_0x124cab(0x339)](){const _0x1e0ce4=_0x124cab,_0x2403a3=[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i];return _0x2403a3[_0x1e0ce4(0x2cd)](_0x54e0a6=>{const _0x4f9850=_0x1e0ce4;return navigator[_0x4f9850(0x305)][_0x4f9850(0x3c4)](_0x54e0a6);});}static[_0x124cab(0x2a2)](){const _0x8d050a=_0x124cab;try{let _0x46b441=document[_0x8d050a(0x2f5)](_0x8d050a(0x283));_0x46b441[_0x8d050a(0x361)](_0x8d050a(0x318));}catch(_0x5485a1){return![];}return!![];}static[_0x124cab(0x2b1)](){const _0x572e5e=_0x124cab;return typeof OffscreenCanvas===_0x572e5e(0x341);}static['isSafari'](){const _0x486bae=_0x124cab;let _0x1b3ba7=navigator[_0x486bae(0x305)][_0x486bae(0x2a6)]();return _0x1b3ba7['indexOf'](_0x486bae(0x3d5))!==-0x1&&_0x1b3ba7[_0x486bae(0x262)]('chrome')===-0x1;}};let instance=null;class Logger{constructor(_0x1cafe9={}){const _0x69435d=_0x124cab;if(!instance)instance=this;else return instance;this[_0x69435d(0x36c)]={'debug':![]},this[_0x69435d(0x277)](_0x1cafe9);}static[_0x124cab(0x20e)](_0x52c937=null){const _0x14323e=_0x124cab;if(!instance)instance=new Logger(_0x52c937||{});else{if(_0x52c937!=null)instance[_0x14323e(0x277)](_0x52c937);return instance;}}[_0x124cab(0x277)](_0x518f48={}){const _0x433d55=_0x124cab;this[_0x433d55(0x36c)]=deepMerge(this[_0x433d55(0x36c)],_0x518f48);}['log'](){const _0x3b5a78=_0x124cab;this[_0x3b5a78(0x36c)][_0x3b5a78(0x3bd)]&&console[_0x3b5a78(0x279)]['apply'](null,arguments);}}const helper_logger=Logger;;class DCCamera{constructor(_0x1253c3,_0x4ff460={}){const _0x6a67db=_0x124cab;this[_0x6a67db(0x36d)]=null,this[_0x6a67db(0x283)]=null,this[_0x6a67db(0x2d4)]=null,this['__canvas_original']=null,this[_0x6a67db(0x3dd)]=null,this[_0x6a67db(0x261)]=null,this[_0x6a67db(0x313)]=null,this[_0x6a67db(0x2be)]=null,this['streamSize']={'width':0x0,'height':0x0},this[_0x6a67db(0x288)]={'k':0x1,'dx':0x0,'dy':0x0,'dw':0x0,'dh':0x0},this[_0x6a67db(0x259)]=[],this[_0x6a67db(0x3b5)]=[],this['frontCamera']=!![],this[_0x6a67db(0x202)]=0x1,this[_0x6a67db(0x36c)]={'src':null,'sourceType':null,'width':0x280,'height':0x1e0,'resWidth':0x500,'resHeight':0x2d0,'fill':![],'fillOnMobile':!![],'cutEdge':![],'onLoaded':null,'onError':null,'onStop':null,'onStart':null,'onFrameUpdated':null},this[_0x6a67db(0x36c)]=deepMerge(this[_0x6a67db(0x36c)],_0x4ff460),this[_0x6a67db(0x33b)](_0x1253c3),this[_0x6a67db(0x275)]();}[_0x124cab(0x33b)](_0x244bc0){const _0x53ac61=_0x124cab;this[_0x53ac61(0x202)]=window['devicePixelRatio']||0x1;if(typeof _0x244bc0==_0x53ac61(0x267)){let _0x55783b=document[_0x53ac61(0x35b)](_0x244bc0);if(_0x55783b&&_0x55783b[_0x53ac61(0x2c2)]){if(_0x55783b[_0x53ac61(0x2c2)]===_0x53ac61(0x3b2))this['dom']=_0x55783b,this[_0x53ac61(0x36d)][_0x53ac61(0x32b)]='',this[_0x53ac61(0x283)]=document[_0x53ac61(0x2f5)]('CANVAS'),this['canvas'][_0x53ac61(0x28b)]=this[_0x53ac61(0x36c)][_0x53ac61(0x28b)],this[_0x53ac61(0x283)][_0x53ac61(0x3aa)]=this[_0x53ac61(0x36c)][_0x53ac61(0x3aa)],this[_0x53ac61(0x36d)][_0x53ac61(0x217)](this[_0x53ac61(0x283)]);else _0x55783b[_0x53ac61(0x2c2)]===_0x53ac61(0x271)&&(this[_0x53ac61(0x283)]=_0x55783b,this[_0x53ac61(0x36d)]=document[_0x53ac61(0x2f5)](_0x53ac61(0x3b2)),this['canvas']['parentElement'][_0x53ac61(0x1fd)](this[_0x53ac61(0x36d)],this[_0x53ac61(0x283)]),this[_0x53ac61(0x36d)][_0x53ac61(0x217)](this[_0x53ac61(0x283)]));this[_0x53ac61(0x36d)]&&(this['dom'][_0x53ac61(0x315)][_0x53ac61(0x347)](_0x53ac61(0x364)),this[_0x53ac61(0x36d)]['style'][_0x53ac61(0x28b)]=this[_0x53ac61(0x36c)][_0x53ac61(0x28b)]+'px',this['dom'][_0x53ac61(0x25f)][_0x53ac61(0x3aa)]=this[_0x53ac61(0x36c)][_0x53ac61(0x3aa)]+'px');}this[_0x53ac61(0x283)]&&(this[_0x53ac61(0x283)]['classList'][_0x53ac61(0x347)](_0x53ac61(0x26d)),this[_0x53ac61(0x283)][_0x53ac61(0x25f)][_0x53ac61(0x24b)]=_0x53ac61(0x234));}this['__canvas']=document['createElement'](_0x53ac61(0x271)),this[_0x53ac61(0x2d4)]['width']=this[_0x53ac61(0x36c)][_0x53ac61(0x28b)],this[_0x53ac61(0x2d4)][_0x53ac61(0x3aa)]=this[_0x53ac61(0x36c)][_0x53ac61(0x3aa)],this[_0x53ac61(0x375)]=document[_0x53ac61(0x2f5)](_0x53ac61(0x271)),this[_0x53ac61(0x375)][_0x53ac61(0x28b)]=this[_0x53ac61(0x36c)][_0x53ac61(0x28b)],this[_0x53ac61(0x375)][_0x53ac61(0x3aa)]=this[_0x53ac61(0x36c)][_0x53ac61(0x3aa)];}[_0x124cab(0x275)](){this['visual']=new CameraVisualLayer(this['canvas']);}[_0x124cab(0x280)](){const _0x350b92=_0x124cab;(this[_0x350b92(0x3dd)]==null||!this[_0x350b92(0x249)]())&&this[_0x350b92(0x3de)]();}[_0x124cab(0x384)](){const _0x44f851=_0x124cab;this['stream']&&this[_0x44f851(0x261)][_0x44f851(0x379)]()['length']>0x0&&(this[_0x44f851(0x261)][_0x44f851(0x379)]()[0x0][_0x44f851(0x384)](),this[_0x44f851(0x261)]=null);}[_0x124cab(0x3de)](){const _0x33623d=_0x124cab;OSPlus[_0x33623d(0x339)]()&&this['options'][_0x33623d(0x298)]===!![]&&(this[_0x33623d(0x36c)][_0x33623d(0x21f)]=!![]);this['options'][_0x33623d(0x28e)]==null?this['stream']==null?navigator[_0x33623d(0x2eb)]&&navigator['mediaDevices'][_0x33623d(0x2af)]&&(this[_0x33623d(0x3dd)]===null&&(this['video']=document[_0x33623d(0x2f5)]('video'),this[_0x33623d(0x3dd)][_0x33623d(0x1f9)](_0x33623d(0x332),''),this[_0x33623d(0x3dd)]['setAttribute']('muted',''),this[_0x33623d(0x3dd)]['setAttribute'](_0x33623d(0x251),''),this[_0x33623d(0x3dd)]['style']['width']=_0x33623d(0x317),this[_0x33623d(0x3dd)][_0x33623d(0x25f)][_0x33623d(0x3aa)]=_0x33623d(0x317),this[_0x33623d(0x3dd)][_0x33623d(0x25f)][_0x33623d(0x252)]=_0x33623d(0x329),this['dom']['appendChild'](this[_0x33623d(0x3dd)]),this[_0x33623d(0x3dd)][_0x33623d(0x25f)][_0x33623d(0x320)]=_0x33623d(0x3ba)),this['raf']=null,navigator['mediaDevices'][_0x33623d(0x35c)]()['then'](_0x11c76f=>{const _0x748f34=_0x33623d;helper_logger[_0x748f34(0x20e)]()[_0x748f34(0x279)](_0x748f34(0x3ca),_0x11c76f),this[_0x748f34(0x3b5)]=_0x11c76f;}),navigator['mediaDevices']['getUserMedia']({'audio':![],'video':{'facingMode':_0x33623d(0x340),'width':{'ideal':this['options'][_0x33623d(0x31d)]},'height':{'ideal':this[_0x33623d(0x36c)]['resHeight']}}})[_0x33623d(0x2ae)](_0x378ea3=>{const _0x35c1aa=_0x33623d;this['stream']=_0x378ea3,this[_0x35c1aa(0x3dd)][_0x35c1aa(0x2b5)]=_0x378ea3;let _0x3dda41=_0x378ea3[_0x35c1aa(0x224)]()[0x0];_0x3dda41[_0x35c1aa(0x31b)]({'focusMode':_0x35c1aa(0x397),'focusDistance':0.33}),this[_0x35c1aa(0x2c5)]()&&(helper_logger[_0x35c1aa(0x20e)]()['log'](_0x35c1aa(0x2bf)),this[_0x35c1aa(0x306)]=![]),_0x504adf(),this['video']['play']();})[_0x33623d(0x285)](_0x56c711=>{const _0x5d908c=_0x33623d;helper_logger['getInstance']()[_0x5d908c(0x279)](_0x5d908c(0x2da),_0x56c711),this[_0x5d908c(0x3c5)](_0x56c711);})):this[_0x33623d(0x3dd)][_0x33623d(0x2de)]():(this['video']['src']=this[_0x33623d(0x36c)][_0x33623d(0x28e)],this[_0x33623d(0x3dd)]['play']());let _0x504adf=()=>{const _0x5d810b=_0x33623d;this[_0x5d810b(0x3dd)][_0x5d810b(0x219)]=()=>{const _0x14a6bd=_0x5d810b;this[_0x14a6bd(0x25e)]();},this[_0x5d810b(0x3dd)]['onplaying']=()=>{const _0x15e17d=_0x5d810b;this[_0x15e17d(0x2d4)][_0x15e17d(0x28b)]=this['video']['videoWidth'],this[_0x15e17d(0x2d4)][_0x15e17d(0x3aa)]=this[_0x15e17d(0x3dd)]['videoHeight'],this['__canvas_original'][_0x15e17d(0x28b)]=this[_0x15e17d(0x3dd)][_0x15e17d(0x1e9)],this[_0x15e17d(0x375)][_0x15e17d(0x3aa)]=this[_0x15e17d(0x3dd)][_0x15e17d(0x24d)];let _0x474635=this['video']['videoWidth'],_0x1dce63=this['video'][_0x15e17d(0x24d)],_0x751fcd=0x1;this[_0x15e17d(0x288)]['dw']=this[_0x15e17d(0x283)][_0x15e17d(0x28b)],this['sourceDim']['dh']=this[_0x15e17d(0x283)][_0x15e17d(0x3aa)];this[_0x15e17d(0x36c)][_0x15e17d(0x21f)]?this[_0x15e17d(0x283)]['height']/_0x1dce63<this['canvas']['width']/_0x474635?(_0x751fcd=this[_0x15e17d(0x283)][_0x15e17d(0x28b)]/_0x474635,this[_0x15e17d(0x288)]['dh']=Math[_0x15e17d(0x350)](_0x751fcd*_0x1dce63),this['sourceDim']['dy']=0x0,this[_0x15e17d(0x36c)][_0x15e17d(0x200)]&&(this[_0x15e17d(0x375)]['height']=this[_0x15e17d(0x283)][_0x15e17d(0x3aa)]/_0x751fcd,this[_0x15e17d(0x2d4)][_0x15e17d(0x3aa)]=this[_0x15e17d(0x283)]['height']/_0x751fcd)):(_0x751fcd=this[_0x15e17d(0x283)][_0x15e17d(0x3aa)]/_0x1dce63,this['sourceDim']['dw']=Math[_0x15e17d(0x350)](_0x751fcd*_0x474635),this[_0x15e17d(0x288)]['dx']=0x0,this[_0x15e17d(0x36c)]['cutEdge']&&(this['__canvas_original'][_0x15e17d(0x28b)]=this[_0x15e17d(0x283)]['width']/_0x751fcd,this[_0x15e17d(0x2d4)][_0x15e17d(0x28b)]=this[_0x15e17d(0x283)][_0x15e17d(0x28b)]/_0x751fcd)):this[_0x15e17d(0x283)][_0x15e17d(0x3aa)]/_0x1dce63<this[_0x15e17d(0x283)][_0x15e17d(0x28b)]/_0x474635?(_0x751fcd=this[_0x15e17d(0x283)][_0x15e17d(0x3aa)]/_0x1dce63,this['sourceDim']['dw']=Math['round'](_0x751fcd*_0x474635),this[_0x15e17d(0x288)]['dx']=(this[_0x15e17d(0x283)][_0x15e17d(0x28b)]-this[_0x15e17d(0x288)]['dw'])/0x2):(_0x751fcd=this[_0x15e17d(0x283)][_0x15e17d(0x28b)]/_0x474635,this[_0x15e17d(0x288)]['dh']=Math[_0x15e17d(0x350)](_0x751fcd*_0x1dce63),this[_0x15e17d(0x288)]['dy']=(this[_0x15e17d(0x283)][_0x15e17d(0x3aa)]-this[_0x15e17d(0x288)]['dh'])/0x2);this[_0x15e17d(0x288)]['k']=_0x751fcd;if(this[_0x15e17d(0x2be)]!=null)cancelAnimationFrame(this[_0x15e17d(0x2be)]);this['raf']=requestAnimationFrame(this[_0x15e17d(0x23a)][_0x15e17d(0x2b9)](this)),this[_0x15e17d(0x2c1)]={'width':this[_0x15e17d(0x3dd)][_0x15e17d(0x1e9)],'height':this[_0x15e17d(0x3dd)]['videoHeight']},this['onStart']();},this[_0x5d810b(0x3dd)]['onpause']=()=>{const _0x379a86=_0x5d810b;cancelAnimationFrame(this[_0x379a86(0x2be)]),this[_0x379a86(0x1ee)]();};};}async['drawStreamToCanvas'](){const _0x3f8c42=_0x124cab;let _0x4ed5fb=this[_0x3f8c42(0x306)]?-0x1:0x1,_0x51037a=this[_0x3f8c42(0x288)],_0x114d14=this[_0x3f8c42(0x3dd)]['videoWidth'],_0x264fc4=this[_0x3f8c42(0x3dd)]['videoHeight'],_0x46d0e8=this[_0x3f8c42(0x375)][_0x3f8c42(0x361)]('2d');_0x46d0e8[_0x3f8c42(0x2e3)](),_0x46d0e8[_0x3f8c42(0x2aa)](0x1,0x1);this[_0x3f8c42(0x36c)][_0x3f8c42(0x21f)]&&this[_0x3f8c42(0x36c)][_0x3f8c42(0x200)]?_0x46d0e8[_0x3f8c42(0x33c)](this[_0x3f8c42(0x3dd)],(this[_0x3f8c42(0x375)][_0x3f8c42(0x28b)]-_0x114d14)/0x2,(this[_0x3f8c42(0x375)]['height']-_0x264fc4)/0x2,_0x114d14,_0x264fc4):_0x46d0e8[_0x3f8c42(0x33c)](this[_0x3f8c42(0x3dd)],0x0,0x0,this['__canvas_original'][_0x3f8c42(0x28b)],this[_0x3f8c42(0x375)][_0x3f8c42(0x3aa)]);_0x46d0e8[_0x3f8c42(0x353)]();let _0xd7123=this[_0x3f8c42(0x2d4)]['getContext']('2d');_0xd7123[_0x3f8c42(0x2e3)](),_0xd7123[_0x3f8c42(0x2aa)](_0x4ed5fb,0x1);this[_0x3f8c42(0x36c)][_0x3f8c42(0x21f)]&&this[_0x3f8c42(0x36c)][_0x3f8c42(0x200)]?_0xd7123[_0x3f8c42(0x33c)](this['video'],_0x4ed5fb*(this[_0x3f8c42(0x2d4)][_0x3f8c42(0x28b)]-_0x114d14)/0x2+(_0x4ed5fb===-0x1?_0x4ed5fb*_0x114d14:0x0),(this['__canvas'][_0x3f8c42(0x3aa)]-_0x264fc4)/0x2,_0x114d14,_0x264fc4):_0xd7123[_0x3f8c42(0x33c)](this[_0x3f8c42(0x3dd)],_0x4ed5fb===-0x1?_0x4ed5fb*_0x114d14:0x0,0x0,this[_0x3f8c42(0x2d4)]['width'],this[_0x3f8c42(0x2d4)][_0x3f8c42(0x3aa)]);_0xd7123[_0x3f8c42(0x353)]();let _0x28f99d=this['canvas'][_0x3f8c42(0x361)]('2d'),_0x2cf0fc=(this['canvas'][_0x3f8c42(0x28b)]-this[_0x3f8c42(0x288)]['dw'])/0x2,_0x790d=(this[_0x3f8c42(0x283)][_0x3f8c42(0x3aa)]-this[_0x3f8c42(0x288)]['dh'])/0x2;_0x28f99d['clearRect'](0x0,0x0,this[_0x3f8c42(0x283)][_0x3f8c42(0x28b)],this[_0x3f8c42(0x283)][_0x3f8c42(0x3aa)]),_0x28f99d[_0x3f8c42(0x2e3)](),_0x28f99d[_0x3f8c42(0x2aa)](_0x4ed5fb*0x1,0x1),_0x28f99d['drawImage'](this[_0x3f8c42(0x3dd)],_0x4ed5fb*_0x2cf0fc+(_0x4ed5fb===-0x1?_0x4ed5fb*_0x51037a['dw']:0x0),_0x790d,_0x51037a['dw'],_0x51037a['dh']),_0x28f99d['restore']();if(this['stream']==null)return;this[_0x3f8c42(0x228)](),this[_0x3f8c42(0x2be)]=requestAnimationFrame(this['drawStreamToCanvas'][_0x3f8c42(0x2b9)](this));}[_0x124cab(0x2c5)](){const _0x348cf3=_0x124cab;let _0x576f3f=[];for(let _0x5f2472 in this[_0x348cf3(0x3b5)]){this[_0x348cf3(0x3b5)][_0x5f2472]['kind']===_0x348cf3(0x2b3)&&_0x576f3f[_0x348cf3(0x2e0)](this[_0x348cf3(0x3b5)][_0x5f2472]);}let _0x1fc7bb=this[_0x348cf3(0x261)]?this[_0x348cf3(0x261)]['getVideoTracks']()[0x0][_0x348cf3(0x21a)]()[_0x348cf3(0x2cb)]||null:null;helper_logger[_0x348cf3(0x20e)]()[_0x348cf3(0x279)](_0x348cf3(0x3b5),this[_0x348cf3(0x3b5)]),helper_logger[_0x348cf3(0x20e)]()[_0x348cf3(0x279)](_0x348cf3(0x2cb),_0x1fc7bb);if(_0x1fc7bb===_0x348cf3(0x340))return!![];return![];}[_0x124cab(0x249)](){const _0x2d0696=_0x124cab;return this[_0x2d0696(0x261)]&&this[_0x2d0696(0x3dd)]&&!this[_0x2d0696(0x3dd)][_0x2d0696(0x2ff)];}[_0x124cab(0x2fc)](){const _0x5408ca=_0x124cab;let _0x52defc=this['__canvas'][_0x5408ca(0x361)]('2d');return _0x52defc['getImageData'](0x0,0x0,this[_0x5408ca(0x2d4)]['width'],this[_0x5408ca(0x2d4)]['height']);}[_0x124cab(0x330)](){return this['__canvas']['toDataURL']();}['getSnapshots'](){const _0x440785=_0x124cab;return this[_0x440785(0x259)];}['snapshot'](){const _0x325116=_0x124cab;this['snapshotlist'][_0x325116(0x2e0)](this[_0x325116(0x330)]());}[_0x124cab(0x29a)](){const _0x10a7f1=_0x124cab;this[_0x10a7f1(0x259)]=[];}[_0x124cab(0x3c5)](_0x33cbb2){const _0x323dda=_0x124cab;typeof this[_0x323dda(0x36c)][_0x323dda(0x3c5)]==='function'&&this['options']['onError'](_0x33cbb2);}[_0x124cab(0x25e)](){const _0x3357cd=_0x124cab;typeof this[_0x3357cd(0x36c)][_0x3357cd(0x221)]===_0x3357cd(0x341)&&this[_0x3357cd(0x36c)][_0x3357cd(0x221)](this[_0x3357cd(0x3dd)],this['sourceDim']);}[_0x124cab(0x1ee)](){const _0x3dc30f=_0x124cab;typeof this[_0x3dc30f(0x36c)][_0x3dc30f(0x1ee)]===_0x3dc30f(0x341)&&this[_0x3dc30f(0x36c)][_0x3dc30f(0x1ee)]();}[_0x124cab(0x270)](){const _0x406bd9=_0x124cab;typeof this[_0x406bd9(0x36c)][_0x406bd9(0x270)]==='function'&&this[_0x406bd9(0x36c)][_0x406bd9(0x270)]();}['onFrameUpdated'](){const _0x472c36=_0x124cab;typeof this[_0x472c36(0x36c)][_0x472c36(0x228)]===_0x472c36(0x341)&&this[_0x472c36(0x36c)]['onFrameUpdated']();}}const camera=DCCamera;;function _0x3844(_0x316f3d,_0x4c6a20){_0x316f3d=_0x316f3d-0x1e9;let _0x391e28=_0x391e[_0x316f3d];return _0x391e28;}class CoordConverter{constructor(_0xfc3657={'k':0x1,'dx':0x0,'dy':0x0,'dw':0x0,'dh':0x0}){const _0x233415=_0x124cab;this[_0x233415(0x2a4)]=_0xfc3657;}[_0x124cab(0x2e1)](_0x2217d6){const _0x5dc182=_0x124cab;this[_0x5dc182(0x2a4)]=_0x2217d6;}[_0x124cab(0x214)](_0x17fd7e,_0x2b820a){const _0x5dd33a=_0x124cab;return{'x':_0x17fd7e*this[_0x5dd33a(0x2a4)]['k']+this[_0x5dd33a(0x2a4)]['dx'],'y':_0x2b820a*this[_0x5dd33a(0x2a4)]['k']+this[_0x5dd33a(0x2a4)]['dy']};}[_0x124cab(0x36b)](_0x3046fa){const _0x25e57c=_0x124cab;return _0x3046fa*this['dim']['k']+this[_0x25e57c(0x2a4)]['dx'];}[_0x124cab(0x35a)](_0x2bfc24){const _0x2b9e60=_0x124cab;return _0x2bfc24*this[_0x2b9e60(0x2a4)]['k']+this[_0x2b9e60(0x2a4)]['dy'];}['getSize'](_0x52fdf7){const _0x2ec8ca=_0x124cab;return _0x52fdf7*this[_0x2ec8ca(0x2a4)]['k'];}[_0x124cab(0x295)](_0x3fc3b6){const _0x5bb2af=_0x124cab;return _0x3fc3b6/this[_0x5bb2af(0x2a4)]['k']-this[_0x5bb2af(0x2a4)]['dx'];}[_0x124cab(0x1f1)](_0x35abe8){const _0x3554c2=_0x124cab;return _0x35abe8/this['dim']['k']-this[_0x3554c2(0x2a4)]['dy'];}};class MaskLayer{constructor(_0x35fc93,_0x51ddb0={'width':0x0,'height':0x0},_0xd58fad={'width':0x0,'height':0x0}){const _0x2a9d7c=_0x124cab;this[_0x2a9d7c(0x36d)]=_0x35fc93,this['canvas']=null,this[_0x2a9d7c(0x2f8)]=null,this[_0x2a9d7c(0x2dd)]=null,this[_0x2a9d7c(0x210)]=null,this[_0x2a9d7c(0x284)]=_0x51ddb0,this['maskSize']=_0xd58fad,this['maskInited']=![],this['sizeKoef']={'h':0.4,'v':0.6},(this[_0x2a9d7c(0x3c8)][_0x2a9d7c(0x28b)]===0x0||this[_0x2a9d7c(0x3c8)][_0x2a9d7c(0x3aa)]===0x0)&&(this['maskSize']={'width':this[_0x2a9d7c(0x284)]['width']*this[_0x2a9d7c(0x2c9)]['h'],'height':this[_0x2a9d7c(0x284)]['width']*this['sizeKoef']['v']}),this[_0x2a9d7c(0x275)]();}['setup'](){const _0x1f9bfe=_0x124cab;this[_0x1f9bfe(0x36d)]!=null&&(this['canvas']=document[_0x1f9bfe(0x2f5)]('CANVAS'),this[_0x1f9bfe(0x283)]['id']=_0x1f9bfe(0x294),this['canvas'][_0x1f9bfe(0x28b)]=this[_0x1f9bfe(0x284)]['width'],this['canvas']['height']=this[_0x1f9bfe(0x284)][_0x1f9bfe(0x3aa)],this[_0x1f9bfe(0x36d)][_0x1f9bfe(0x217)](this[_0x1f9bfe(0x283)]),this[_0x1f9bfe(0x2f8)]=this['canvas'][_0x1f9bfe(0x361)]('2d'));}['createTextArea'](){const _0x192bfc=_0x124cab;if(!this['commandText']){this['commandText']=document['createElement'](_0x192bfc(0x27d)),this[_0x192bfc(0x2dd)]['id']=_0x192bfc(0x245);let _0x2429e6=document['createElement']('P');_0x2429e6[_0x192bfc(0x37a)]='',this[_0x192bfc(0x2dd)][_0x192bfc(0x217)](_0x2429e6),this[_0x192bfc(0x36d)]['appendChild'](this[_0x192bfc(0x2dd)]);let _0x55422c=((this[_0x192bfc(0x283)][_0x192bfc(0x3aa)]-this['maskSize'][_0x192bfc(0x3aa)])/0x2-this[_0x192bfc(0x2dd)]['offsetHeight'])/0x2;this[_0x192bfc(0x2dd)]['style']['top']=_0x55422c+'px';}else this[_0x192bfc(0x2dd)]['style'][_0x192bfc(0x370)]=_0x192bfc(0x2a5);if(!this[_0x192bfc(0x210)]){this[_0x192bfc(0x210)]=document['createElement'](_0x192bfc(0x27d)),this['actionText']['id']='actionArea';let _0x5080bc=document[_0x192bfc(0x2f5)]('P');_0x5080bc[_0x192bfc(0x37a)]='',this['actionText'][_0x192bfc(0x217)](_0x5080bc),this[_0x192bfc(0x36d)][_0x192bfc(0x217)](this[_0x192bfc(0x210)]);let _0x19c36a=((this['canvas']['height']-this[_0x192bfc(0x3c8)][_0x192bfc(0x3aa)])/0x2-this[_0x192bfc(0x2dd)][_0x192bfc(0x36f)])/0x2;this[_0x192bfc(0x210)][_0x192bfc(0x25f)][_0x192bfc(0x2b8)]=_0x19c36a+'px';}else this[_0x192bfc(0x210)][_0x192bfc(0x25f)][_0x192bfc(0x370)]=_0x192bfc(0x2a5);}['showTextArea'](){const _0x73e9f5=_0x124cab;if(this[_0x73e9f5(0x2dd)])this['commandText']['style'][_0x73e9f5(0x370)]='';if(this['actionText'])this['actionText'][_0x73e9f5(0x25f)][_0x73e9f5(0x370)]='';}[_0x124cab(0x33e)](){const _0x54ea80=_0x124cab;if(this[_0x54ea80(0x2dd)])this['commandText'][_0x54ea80(0x25f)][_0x54ea80(0x370)]=_0x54ea80(0x31c);if(this[_0x54ea80(0x210)])this[_0x54ea80(0x210)]['style']['display']=_0x54ea80(0x31c);}[_0x124cab(0x2c8)](_0x35ab4b){if(this['actionText'])this['actionText']['innerHtml']=_0x35ab4b;}[_0x124cab(0x377)](_0x163bfe){const _0x1e1cb1=_0x124cab;if(this[_0x1e1cb1(0x2dd)])this[_0x1e1cb1(0x2dd)]['innerHtml']=_0x163bfe;}[_0x124cab(0x232)](){const _0x3982b9=_0x124cab;return{'x':this[_0x3982b9(0x283)][_0x3982b9(0x28b)]/0x2-this['maskSize'][_0x3982b9(0x28b)]/0x2-0x14,'y':this[_0x3982b9(0x283)][_0x3982b9(0x3aa)]/0x2-this[_0x3982b9(0x3c8)]['width']/0x2-0x14,'width':this[_0x3982b9(0x3c8)][_0x3982b9(0x28b)],'height':this[_0x3982b9(0x3c8)][_0x3982b9(0x3aa)]};}[_0x124cab(0x28f)](){const _0x4936ee=_0x124cab;if(!this[_0x4936ee(0x212)]){console['log'](_0x4936ee(0x2ba)),this[_0x4936ee(0x2f8)][_0x4936ee(0x2e3)](),this[_0x4936ee(0x2f8)][_0x4936ee(0x3a0)](),this[_0x4936ee(0x2f8)][_0x4936ee(0x331)](this['canvas']['width']/0x2,this[_0x4936ee(0x283)]['height']/0x2,this[_0x4936ee(0x3c8)][_0x4936ee(0x28b)]/0x2,this['maskSize'][_0x4936ee(0x3aa)]/0x2,Math['PI'],0x0,0x2*Math['PI']),this['ctx']['fillStyle']=_0x4936ee(0x37f),this[_0x4936ee(0x2f8)]['fill'](),this['ctx']['globalCompositeOperation']='xor',this['ctx']['beginPath'](),this[_0x4936ee(0x2f8)]['rect'](0x0,0x0,this['canvas'][_0x4936ee(0x28b)],this['canvas'][_0x4936ee(0x3aa)]),this[_0x4936ee(0x2f8)][_0x4936ee(0x3c7)]='rgba(0,\x200,\x200,\x201)',this[_0x4936ee(0x2f8)]['closePath'](),this[_0x4936ee(0x2f8)][_0x4936ee(0x21f)](),this[_0x4936ee(0x2f8)][_0x4936ee(0x2d3)]=0.5;let _0x58d855=this[_0x4936ee(0x283)][_0x4936ee(0x360)]();this['ctx'][_0x4936ee(0x218)]=_0x4936ee(0x22a);let _0x21e4f4=new Image();_0x21e4f4[_0x4936ee(0x3a1)]=()=>{const _0x1920ee=_0x4936ee;this[_0x1920ee(0x2f8)][_0x1920ee(0x21b)](0x0,0x0,this[_0x1920ee(0x283)][_0x1920ee(0x28b)],this['canvas'][_0x1920ee(0x3aa)]),this[_0x1920ee(0x2f8)]['drawImage'](_0x21e4f4,0x0,0x0);},_0x21e4f4[_0x4936ee(0x28e)]=_0x58d855,this['maskInited']=!![],this[_0x4936ee(0x266)]();}}[_0x124cab(0x241)](){const _0x2e0071=_0x124cab;!this['maskInited']?(this[_0x2e0071(0x28f)](),this[_0x2e0071(0x283)][_0x2e0071(0x25f)][_0x2e0071(0x370)]='block'):(this[_0x2e0071(0x32d)](),this[_0x2e0071(0x283)][_0x2e0071(0x25f)][_0x2e0071(0x370)]=_0x2e0071(0x2a5));}['hide'](){const _0x596014=_0x124cab;this[_0x596014(0x33e)](),this[_0x596014(0x283)][_0x596014(0x25f)][_0x596014(0x370)]=_0x596014(0x31c);}['delete'](){const _0x3d793d=_0x124cab;this[_0x3d793d(0x2f8)]['clearRect'](0x0,0x0,this[_0x3d793d(0x283)][_0x3d793d(0x28b)],this[_0x3d793d(0x283)]['height']),this[_0x3d793d(0x2f8)]['restore']();}};class VisualLayer{constructor(_0x5d8f8d,_0x223cdd={}){const _0x1e4775=_0x124cab;this['canvas']=_0x5d8f8d,this[_0x1e4775(0x36c)]={'srcDim':{'k':0x1,'dx':0x0,'dy':0x0,'dw':0x0,'dh':0x0}},this['options']=deepMerge(this[_0x1e4775(0x36c)],_0x223cdd),this['cc']=new CoordConverter(this[_0x1e4775(0x36c)][_0x1e4775(0x2a3)]);}['drawPath'](_0x273b4b,_0x232115,_0x3815d3){const _0x50a105=_0x124cab,_0x5b1690=new Path2D();_0x5b1690[_0x50a105(0x289)](_0x232115[0x0][0x0],_0x232115[0x0][0x1]);for(let _0x5b3192=0x1;_0x5b3192<_0x232115['length'];_0x5b3192++){const _0x4b2bff=_0x232115[_0x5b3192];_0x5b1690['lineTo'](_0x4b2bff[0x0],_0x4b2bff[0x1]);}_0x3815d3&&_0x5b1690[_0x50a105(0x309)](),_0x273b4b[_0x50a105(0x367)](_0x5b1690);}['drawFaces'](_0x18eb52){const _0x2872bd=_0x124cab;let _0x42da33=this[_0x2872bd(0x36c)]['srcDim']['k'],_0x8f6c84=null,_0x7eaac5=null,_0x52fcc7={'x':0x0,'y':0x0,'w':0x0,'h':0x0},_0x3733a0=this[_0x2872bd(0x283)][_0x2872bd(0x361)]('2d');_0x3733a0[_0x2872bd(0x2e3)]();for(let _0x2b476f=0x0;_0x2b476f<_0x18eb52[_0x2872bd(0x3b7)];_0x2b476f++){_0x7eaac5=_0x18eb52[_0x2b476f][_0x2872bd(0x2fa)];for(let _0x3a8f07=0x0;_0x3a8f07<_0x7eaac5[_0x2872bd(0x3b7)];_0x3a8f07++){const _0x2f4548=_0x7eaac5[_0x3a8f07][0x0],_0x1e7a5b=_0x7eaac5[_0x3a8f07][0x1];_0x3733a0[_0x2872bd(0x3a0)](),_0x3733a0[_0x2872bd(0x2f2)](this['cc'][_0x2872bd(0x36b)](_0x2f4548),this['cc'][_0x2872bd(0x35a)](_0x1e7a5b),0x1,0x0,0x2*Math['PI']),_0x3733a0['fill'](),_0x3733a0['closePath']();}}_0x3733a0[_0x2872bd(0x353)]();}};class PipeStream{constructor(_0xd16d3a){const _0x25c2d4=_0x124cab;this[_0x25c2d4(0x272)]=_0xd16d3a,this['observers']={};}['on'](_0x274e4c,_0x14107f){const _0x2c6d76=_0x124cab;if(this['observers'][_0x274e4c]===undefined)this[_0x2c6d76(0x220)][_0x274e4c]=[];if(typeof _0x14107f==_0x2c6d76(0x341))this[_0x2c6d76(0x220)][_0x274e4c][_0x2c6d76(0x2e0)](_0x14107f);}[_0x124cab(0x345)](_0x40e401,_0x5e02b9){const _0xf648f8=_0x124cab;for(const _0x627b18 in this[_0xf648f8(0x220)]){this['observers'][_0x627b18]=this[_0xf648f8(0x220)][_0x627b18]['filter'](_0x207fbc=>_0x207fbc!==_0x5e02b9);}}[_0x124cab(0x2ef)](_0x35f83f,_0x459ca6){const _0x182bab=_0x124cab;this['observers'][_0x35f83f]&&this[_0x182bab(0x220)][_0x35f83f][_0x182bab(0x2bb)](_0x154b17=>{const _0x1e275f=_0x182bab;if(typeof _0x154b17==_0x1e275f(0x341))_0x154b17(_0x459ca6);});}[_0x124cab(0x203)](_0x5deb2d){const _0x19b8c9=_0x124cab;this[_0x19b8c9(0x220)][_0x19b8c9(0x2bb)](_0x397891=>{_0x397891['forEach'](_0x2c0c21=>{const _0x56b0a7=_0x3844;typeof _0x2c0c21==_0x56b0a7(0x341)&&_0x2c0c21(_0x5deb2d);});});}};class Pipe{constructor(){this['streams']={};}[_0x124cab(0x37b)](_0x1a23cd){const _0x179bb6=_0x124cab;return!this['streams'][_0x1a23cd]&&(this[_0x179bb6(0x229)][_0x1a23cd]=new PipeStream(_0x1a23cd)),this[_0x179bb6(0x229)][_0x1a23cd];}}const pipe=new Pipe(),stream=pipe;;class ImageProcessing{constructor(){}static[_0x124cab(0x2ec)](_0x4c5dae,_0x1fd550,_0x119fb9,_0x6f86ac,_0x200445){const _0x3b3539=_0x124cab;let _0x1b76cb=document[_0x3b3539(0x2f5)](_0x3b3539(0x271));_0x1b76cb[_0x3b3539(0x28b)]=_0x6f86ac,_0x1b76cb[_0x3b3539(0x3aa)]=_0x200445;let _0x1312ea=_0x1b76cb[_0x3b3539(0x361)]('2d');return _0x1312ea['drawImage'](_0x4c5dae,_0x1fd550,_0x119fb9,_0x6f86ac,_0x200445,0x0,0x0,_0x6f86ac,_0x200445),_0x1b76cb;}static[_0x124cab(0x244)](_0x22f463,_0x2cdaa8={'w':null,'h':null}){const _0x52b13c=_0x124cab;let _0x3af6b6=document['createElement']('CANVAS');if(_0x2cdaa8['w']==null&&_0x2cdaa8['h']==null)_0x3af6b6['width']=_0x22f463['width'],_0x3af6b6['height']=_0x22f463[_0x52b13c(0x3aa)];else{if(_0x2cdaa8['w']==null)_0x3af6b6[_0x52b13c(0x3aa)]=_0x2cdaa8['h'],_0x3af6b6[_0x52b13c(0x28b)]=_0x2cdaa8['h']/_0x22f463['height']*_0x22f463[_0x52b13c(0x28b)];else _0x2cdaa8['h']==null?(_0x3af6b6['width']=_0x2cdaa8['w'],_0x3af6b6[_0x52b13c(0x3aa)]=_0x2cdaa8['w']/_0x22f463['width']*_0x22f463[_0x52b13c(0x3aa)]):(_0x3af6b6[_0x52b13c(0x28b)]=_0x2cdaa8['w'],_0x3af6b6[_0x52b13c(0x3aa)]=_0x2cdaa8['h']);}let _0x27d7b4=_0x3af6b6['getContext']('2d');return _0x27d7b4['drawImage'](_0x22f463,0x0,0x0,_0x3af6b6[_0x52b13c(0x28b)],_0x3af6b6[_0x52b13c(0x3aa)]),_0x3af6b6;}static['cropAndResizeCanvas'](_0x2e9b81,_0x45d23a,_0x25e333,_0x9d9dac,_0x15d105,_0x374643,_0x5b90d3){const _0x4cd754=_0x124cab;let _0x1ec375=document[_0x4cd754(0x2f5)](_0x4cd754(0x271));_0x1ec375[_0x4cd754(0x28b)]=_0x374643,_0x1ec375[_0x4cd754(0x3aa)]=_0x5b90d3;let _0x15bd78=_0x1ec375[_0x4cd754(0x361)]('2d');return _0x15bd78[_0x4cd754(0x33c)](_0x2e9b81,_0x45d23a,_0x25e333,_0x9d9dac,_0x15d105,0x0,0x0,_0x374643,_0x5b90d3),_0x1ec375;}static[_0x124cab(0x293)](_0x57be27){const _0x4bdd2c=_0x124cab;let _0x356208=document[_0x4bdd2c(0x2f5)](_0x4bdd2c(0x271));_0x356208[_0x4bdd2c(0x28b)]=_0x57be27['width'],_0x356208[_0x4bdd2c(0x3aa)]=_0x57be27[_0x4bdd2c(0x3aa)];let _0xfbc059=_0x356208[_0x4bdd2c(0x361)]('2d');return _0xfbc059[_0x4bdd2c(0x358)](_0x57be27,0x0,0x0),_0x356208;}static[_0x124cab(0x385)](_0x422315){const _0x28f524=_0x124cab;let _0x2cffbf=document[_0x28f524(0x2f5)](_0x28f524(0x271));_0x2cffbf[_0x28f524(0x28b)]=_0x422315['width'],_0x2cffbf[_0x28f524(0x3aa)]=_0x422315[_0x28f524(0x3aa)];let _0x56f559=_0x2cffbf[_0x28f524(0x361)]('2d');return _0x56f559['drawImage'](_0x422315,0x0,0x0),_0x2cffbf;}static[_0x124cab(0x3bf)](_0x3447f0){const _0x42219e=_0x124cab;let _0x4bb1e5=_0x3447f0[_0x42219e(0x361)]('2d'),_0x1cb86d=_0x4bb1e5[_0x42219e(0x2fc)](0x0,0x0,_0x3447f0[_0x42219e(0x28b)],_0x3447f0[_0x42219e(0x3aa)]);return _0x1cb86d;}static[_0x124cab(0x269)](_0x560bf9,_0x28ab94=_0x124cab(0x1fe),_0x4029cf=0.92){const _0x4e0010=_0x124cab;return _0x560bf9[_0x4e0010(0x360)](_0x28ab94,_0x4029cf);}static[_0x124cab(0x1ea)](_0x430b66,_0xb824b0=_0x124cab(0x1fe),_0x3a518d=0.92){return new Promise(function(_0x2e8d89,_0x23ff6b){const _0x5ae927=_0x3844;let _0x37a5b6=new Image();_0x37a5b6[_0x5ae927(0x1f9)](_0x5ae927(0x22f),_0x5ae927(0x23c)),_0x37a5b6['onload']=()=>{_0x2e8d89(_0x37a5b6);},_0x37a5b6['onerror']=_0x56ae0f=>{const _0x58f532=_0x5ae927;_0x23ff6b(_0x58f532(0x322)+_0x56ae0f);},_0x37a5b6['src']=ImageProcessing[_0x5ae927(0x269)](_0x430b66,_0xb824b0,_0x3a518d);});}static[_0x124cab(0x26e)](_0x2ab615){const _0x19c440=_0x124cab;let _0x332817=_0x2ab615[_0x19c440(0x361)]('2d'),_0x2872c6=_0x332817[_0x19c440(0x2fc)](0x0,0x0,_0x2ab615['width'],_0x2ab615[_0x19c440(0x3aa)]),_0x440cd0=_0x2872c6['data'],_0x2d343a=_0x2ab615[_0x19c440(0x28b)]*_0x2ab615['height']*0x4;for(let _0x593b8a=_0x2d343a-0x1;_0x593b8a>0x0;_0x593b8a-=0x4){let _0xb54b26=0.3*_0x440cd0[_0x593b8a-0x3]+0.59*_0x440cd0[_0x593b8a-0x2]+0.11*_0x440cd0[_0x593b8a-0x1];_0x440cd0[_0x593b8a-0x3]=_0xb54b26,_0x440cd0[_0x593b8a-0x2]=_0xb54b26,_0x440cd0[_0x593b8a-0x1]=_0xb54b26;}let _0x43542d=document[_0x19c440(0x2f5)]('CANVAS'),_0x313544=_0x43542d[_0x19c440(0x361)]('2d');return _0x313544[_0x19c440(0x358)](_0x2872c6,0x0,0x0),_0x43542d;}static[_0x124cab(0x25c)](_0x43963a,_0x8ecee,_0x2832fa='black'){const _0x15ff45=_0x124cab;let _0x5a81b6=document[_0x15ff45(0x2f5)]('CANVAS');_0x5a81b6[_0x15ff45(0x28b)]=_0x43963a,_0x5a81b6[_0x15ff45(0x3aa)]=_0x8ecee;let _0x26f5e5=_0x5a81b6[_0x15ff45(0x361)]('2d');return _0x26f5e5['fillStyle']=_0x2832fa,_0x26f5e5['fillRect'](0x0,0x0,_0x43963a,_0x8ecee),_0x5a81b6;}static[_0x124cab(0x3a4)](_0x512ff1,_0x28ce26=0x1e){const _0x5dc38e=_0x124cab;let _0x2e1cb9=_0x512ff1[_0x5dc38e(0x361)]('2d'),_0x18e97b=_0x2e1cb9[_0x5dc38e(0x2fc)](0x0,0x0,_0x512ff1[_0x5dc38e(0x28b)],_0x512ff1[_0x5dc38e(0x3aa)]),_0x4cb846=_0x18e97b[_0x5dc38e(0x2b2)],_0x151c9a=[[0x0,0x1,0x0],[0x1,-0x4,0x1],[0x0,0x1,0x0]],_0x51a6bc=_0x512ff1[_0x5dc38e(0x28b)]*0x4,_0x1363fc=0x0,_0x346967=0x3,_0x5b2d92=Math['floor'](_0x346967/0x2),_0x59ab6c=0x0,_0x53fc6a=0x0;for(let _0x37659a=0x1;_0x37659a<_0x512ff1[_0x5dc38e(0x3aa)]-0x1;_0x37659a++){for(let _0xc24e06=0x4;_0xc24e06<_0x51a6bc-0x4;_0xc24e06+=0x4){_0x59ab6c=0x0;for(let _0x2750ce=0x0;_0x2750ce<_0x346967;_0x2750ce++){for(let _0x2c4e0f=0x0;_0x2c4e0f<_0x346967;_0x2c4e0f++){_0x1363fc=_0x51a6bc*(_0x37659a+_0x2750ce-_0x5b2d92)+_0xc24e06+(_0x2c4e0f-_0x5b2d92)*0x4;let _0x31f63b=0.3*_0x4cb846[_0x1363fc]+0.59*_0x4cb846[_0x1363fc+0x1]+0.11*_0x4cb846[_0x1363fc+0x2];_0x59ab6c+=_0x31f63b*_0x151c9a[_0x2750ce][_0x2c4e0f];}}_0x59ab6c>_0x28ce26&&(_0x53fc6a+=0x1);}}return _0x53fc6a;}static['getImageFromURL'](_0x873c02){return new Promise(function(_0x5a343a,_0x1e3249){const _0x8534d2=_0x3844;let _0x59e60c=new Image();_0x59e60c[_0x8534d2(0x1f9)](_0x8534d2(0x22f),'anonymous'),_0x59e60c[_0x8534d2(0x3a1)]=()=>{_0x5a343a(_0x59e60c);},_0x59e60c[_0x8534d2(0x24e)]=()=>{_0x1e3249('Error\x20loading\x20'+_0x873c02);},_0x59e60c[_0x8534d2(0x28e)]=_0x873c02;});}};class WebWorker{constructor(_0x152ae5={}){const _0x3f29cf=_0x124cab;this[_0x3f29cf(0x34e)]=null,this[_0x3f29cf(0x261)]=null,this[_0x3f29cf(0x36c)]={'path':null},this[_0x3f29cf(0x36c)]=deepMerge(this[_0x3f29cf(0x36c)],_0x152ae5),this['setup']();}['setup'](){const _0x5ee185=_0x124cab;this[_0x5ee185(0x261)]=stream[_0x5ee185(0x37b)](_0x5ee185(0x34e)),this[_0x5ee185(0x261)]['on'](_0x5ee185(0x3b0),this[_0x5ee185(0x3b0)][_0x5ee185(0x2b9)](this)),this[_0x5ee185(0x261)]['on'](_0x5ee185(0x376),this[_0x5ee185(0x376)][_0x5ee185(0x2b9)](this)),this[_0x5ee185(0x261)]['on'](_0x5ee185(0x3d7),this['loadCard'][_0x5ee185(0x2b9)](this)),this['stream']['on']('getCard',this[_0x5ee185(0x387)][_0x5ee185(0x2b9)](this)),window[_0x5ee185(0x31a)]&&this[_0x5ee185(0x36c)][_0x5ee185(0x37e)]!=null?(this[_0x5ee185(0x34e)]=new Worker(this[_0x5ee185(0x36c)]['path']),this[_0x5ee185(0x34e)]['onmessage']=this[_0x5ee185(0x27f)][_0x5ee185(0x2b9)](this)):console[_0x5ee185(0x279)](_0x5ee185(0x2d2));}[_0x124cab(0x3b0)](_0x3236f0){const _0x528b45=_0x124cab;let _0xd7d79a=null;if(_0x3236f0 instanceof HTMLCanvasElement){let _0x3a8558=_0x3236f0['getContext']('2d');_0xd7d79a=_0x3a8558[_0x528b45(0x2fc)](0x0,0x0,_0x3236f0[_0x528b45(0x28b)],_0x3236f0['height']);}else{if(_0x3236f0 instanceof HTMLImageElement){let _0x1989f3=document[_0x528b45(0x2f5)]('canvas'),_0x54f135=_0x1989f3[_0x528b45(0x361)]('2d');_0x1989f3[_0x528b45(0x28b)]=_0x3236f0['width'],_0x1989f3[_0x528b45(0x3aa)]=_0x3236f0[_0x528b45(0x3aa)],_0x54f135[_0x528b45(0x33c)](_0x3236f0,0x0,0x0),_0xd7d79a=_0x54f135[_0x528b45(0x2fc)](0x0,0x0,_0x3236f0[_0x528b45(0x28b)],_0x3236f0['height']);}}this['worker'][_0x528b45(0x2f1)]({'type':_0x528b45(0x3a8),'action':_0x528b45(0x3b0),'data':_0xd7d79a});}[_0x124cab(0x376)](_0x518424){const _0x309b67=_0x124cab;let _0x368999=null;if(_0x518424 instanceof HTMLCanvasElement){let _0x53c4a3=_0x518424[_0x309b67(0x361)]('2d');_0x368999=_0x53c4a3[_0x309b67(0x2fc)](0x0,0x0,_0x518424[_0x309b67(0x28b)],_0x518424[_0x309b67(0x3aa)]);}else{if(_0x518424 instanceof HTMLImageElement){let _0x52e992=document[_0x309b67(0x2f5)]('canvas'),_0x2c9373=_0x52e992[_0x309b67(0x361)]('2d');_0x52e992[_0x309b67(0x28b)]=_0x518424[_0x309b67(0x28b)],_0x52e992[_0x309b67(0x3aa)]=_0x518424[_0x309b67(0x3aa)],_0x2c9373['drawImage'](_0x518424,0x0,0x0),_0x368999=_0x2c9373[_0x309b67(0x2fc)](0x0,0x0,_0x518424[_0x309b67(0x28b)],_0x518424[_0x309b67(0x3aa)]);}}this[_0x309b67(0x34e)][_0x309b67(0x2f1)]({'type':_0x309b67(0x3a8),'action':_0x309b67(0x376),'data':_0x368999});}[_0x124cab(0x387)](_0x4979c3){const _0x3bfb1f=_0x124cab;let _0x266194=null;if(_0x4979c3 instanceof HTMLCanvasElement)_0x266194=ImageProcessing[_0x3bfb1f(0x3bf)](_0x4979c3);else _0x4979c3 instanceof HTMLImageElement&&(_0x266194=ImageProcessing[_0x3bfb1f(0x385)](_0x4979c3));this[_0x3bfb1f(0x34e)][_0x3bfb1f(0x2f1)]({'type':_0x3bfb1f(0x30f),'action':_0x3bfb1f(0x387),'data':_0x266194});}[_0x124cab(0x3d7)](){const _0x15260b=_0x124cab;this['worker'][_0x15260b(0x2f1)]({'type':'scan','action':_0x15260b(0x3d7)});}['onWorkerMessage'](_0xc95d12){const _0x5a6102=_0x124cab;let _0x2097bc=_0xc95d12[_0x5a6102(0x2b2)][_0x5a6102(0x2d1)],_0x2d28a2=_0xc95d12['data'][_0x5a6102(0x273)],_0x495f43=_0xc95d12[_0x5a6102(0x2b2)][_0x5a6102(0x2b2)];switch(_0x2097bc){case _0x5a6102(0x3a8):if(_0x2d28a2===_0x5a6102(0x3ce))this['stream'][_0x5a6102(0x2ef)](_0x5a6102(0x2c6),_0x495f43);else _0x2d28a2===_0x5a6102(0x239)&&this[_0x5a6102(0x261)][_0x5a6102(0x2ef)](_0x5a6102(0x2c3),_0x495f43);break;case'scan':this[_0x5a6102(0x261)][_0x5a6102(0x2ef)](_0x5a6102(0x2e6),_0x495f43);break;case _0x5a6102(0x34a):this[_0x5a6102(0x261)][_0x5a6102(0x2ef)](_0x5a6102(0x3c6),_0x495f43);break;case _0x5a6102(0x325):break;default:break;}}};class HeadPos{constructor(){const _0x259e90=_0x124cab;this[_0x259e90(0x314)]=null,this[_0x259e90(0x39e)]={'x':0x0,'y':0x0,'width':0x0,'height':0x0},this[_0x259e90(0x32c)]=[],this[_0x259e90(0x3a8)]=null,this['yaw']=0x0,this['pitch']=0x0,this[_0x259e90(0x26a)]=0x0;}[_0x124cab(0x21c)](_0x1ef5fe){const _0x340ce3=_0x124cab;this[_0x340ce3(0x3a8)]=_0x1ef5fe,this[_0x340ce3(0x39e)]={'x':_0x1ef5fe['x'],'y':_0x1ef5fe['y'],'height':_0x1ef5fe['height'],'width':_0x1ef5fe[_0x340ce3(0x28b)]},this[_0x340ce3(0x32c)]=_0x1ef5fe['landMarks'],this[_0x340ce3(0x206)]();}[_0x124cab(0x3d2)](){const _0x1d512f=_0x124cab;this[_0x1d512f(0x314)]=null,this[_0x1d512f(0x39e)]={'x':0x0,'y':0x0,'width':0x0,'height':0x0},this[_0x1d512f(0x32c)]=[],this['face']=null,this[_0x1d512f(0x29f)]=0x0,this[_0x1d512f(0x2c4)]=0x0,this[_0x1d512f(0x26a)]=0x0;}[_0x124cab(0x206)](){const _0x4b6f3c=_0x124cab;let _0xc0df4d=this[_0x4b6f3c(0x3a8)][_0x4b6f3c(0x2fa)][0xea],_0x83fb66=this[_0x4b6f3c(0x3a8)][_0x4b6f3c(0x2fa)][0x1c6],_0x138e9b=this[_0x4b6f3c(0x3a8)][_0x4b6f3c(0x2fa)][0xa],_0x421152=this[_0x4b6f3c(0x3a8)][_0x4b6f3c(0x2fa)][0x98];this[_0x4b6f3c(0x29f)]=Math[_0x4b6f3c(0x2ce)](_0x83fb66[0x2]-_0xc0df4d[0x2],_0x83fb66[0x0]-_0xc0df4d[0x0])*0xb4/Math['PI'],this['pitch']=Math[_0x4b6f3c(0x2ce)](_0x421152[0x0]-_0x138e9b[0x0],_0x421152[0x2]-_0x138e9b[0x2])*0xb4/Math['PI'],this[_0x4b6f3c(0x26a)]=Math[_0x4b6f3c(0x2ce)](_0x83fb66[0x1]-_0xc0df4d[0x1],_0x83fb66[0x0]-_0xc0df4d[0x0])*0xb4/Math['PI'];}[_0x124cab(0x334)](){}['getBox'](){return this['box'];}[_0x124cab(0x382)](){const _0x4f158e=_0x124cab;return this[_0x4f158e(0x32c)];}}const headpos=HeadPos;;const FaceCommands={'FORWARD':_0x124cab(0x30c),'LEFT':_0x124cab(0x34c),'RIGHT':_0x124cab(0x24f),'UP':'up','DOWN':_0x124cab(0x27c),'SMILE':_0x124cab(0x3a6),'BLINKING':_0x124cab(0x38f),'NONE':_0x124cab(0x31c)};class Commander{constructor(){const _0x3944b7=_0x124cab;this[_0x3944b7(0x21d)]=[],this[_0x3944b7(0x253)]=0x2,this[_0x3944b7(0x3b8)]=[FaceCommands[_0x3944b7(0x205)],FaceCommands[_0x3944b7(0x2f0)],FaceCommands['UP'],FaceCommands[_0x3944b7(0x348)],FaceCommands['SMILE']],this[_0x3944b7(0x292)]=0x0;}['shuffle'](){const _0x115fb7=_0x124cab;this[_0x115fb7(0x3d2)]();for(let _0xf47f29=0x0;_0xf47f29<this[_0x115fb7(0x253)];_0xf47f29++){this[_0x115fb7(0x21d)][_0x115fb7(0x2e0)]({'name':FaceCommands[_0x115fb7(0x2a8)]});}return this[_0x115fb7(0x21d)];}[_0x124cab(0x20d)](){const _0x20dd38=_0x124cab;return this['index']<this[_0x20dd38(0x21d)][_0x20dd38(0x3b7)]-0x1?(this[_0x20dd38(0x292)]++,this[_0x20dd38(0x21d)][this[_0x20dd38(0x292)]]):null;}[_0x124cab(0x363)](){const _0x1aa4c0=_0x124cab;return this[_0x1aa4c0(0x21d)][this[_0x1aa4c0(0x292)]];}['hasCommand'](){const _0x56e814=_0x124cab;return this[_0x56e814(0x292)]<this[_0x56e814(0x21d)]['length']-0x1;}['clear'](){const _0x191434=_0x124cab;this[_0x191434(0x292)]=0x0,this[_0x191434(0x21d)]=[];}};const DCFaceError={'NO_FACE':_0x124cab(0x26b),'MANY_FACES':'manyfaces','LOW_LIGHT':_0x124cab(0x30e),'HIGH_LIGHT':_0x124cab(0x2db),'OUT_OF_BOUNDS':_0x124cab(0x1fb)},DCFacePos={'NONE':_0x124cab(0x31c),'UP':'up','DOWN':_0x124cab(0x27c),'FORWARD':_0x124cab(0x30c),'LEFT':_0x124cab(0x34c),'RIGHT':_0x124cab(0x24f)},FaceActionSteps={'NONE':_0x124cab(0x31c),'INIT':'init','START':'start','ACTIONS':_0x124cab(0x30b),'FINISH':_0x124cab(0x386)},CommandResult={'SUCCESS':_0x124cab(0x324),'NONE':'none','REJECT':_0x124cab(0x35e)};class FaceAnalyser{constructor(_0xbbf310,_0x4c94d6={}){const _0x17aacb=_0x124cab;this[_0x17aacb(0x283)]=_0xbbf310,this[_0x17aacb(0x36c)]={'video':null,'area':{'x':0x0,'y':0x0,'width':0x0,'height':0x0},'detectTime':0x64,'startingWaitTime':0x7d0,'onFaceDetected':null,'onError':null,'onFinished':null,'onCommand':null,'onCommandResult':null,'onStep':null,'onStartDownCount':null},this[_0x17aacb(0x36c)]=deepMerge(this[_0x17aacb(0x36c)],_0x4c94d6),this[_0x17aacb(0x260)]=null,this[_0x17aacb(0x2c0)]={'lowLight':![],'highLight':![],'noFace':![],'manyFace':![],'outOfBounds':![]},this[_0x17aacb(0x335)]=DCFacePos[_0x17aacb(0x3c9)],this[_0x17aacb(0x261)]=null,this['headpos']=new headpos(),this[_0x17aacb(0x28c)]=new Commander(),this[_0x17aacb(0x3db)]=![],this['lastDetected']=[],this[_0x17aacb(0x2ed)]=FaceActionSteps[_0x17aacb(0x3c9)],this['detectedFaceCountDownBeforeStart']=0x3,this[_0x17aacb(0x1f7)]=0x0,this[_0x17aacb(0x34b)]=0x0,this[_0x17aacb(0x312)]=0x7d0,this[_0x17aacb(0x392)]=0x1770,this[_0x17aacb(0x31e)]=0x3e8,this['finishWaitTime']=0x7d0,this['currentStepActive']=![],this[_0x17aacb(0x399)]=null,this[_0x17aacb(0x2e7)]=[],this['currentCommand']=FaceCommands['NONE'],this[_0x17aacb(0x2ee)]=DCFacePos[_0x17aacb(0x3c9)],this[_0x17aacb(0x23f)]=[],this['cc']=null,this[_0x17aacb(0x2f4)]();}[_0x124cab(0x2f4)](){const _0x35f75=_0x124cab;this[_0x35f75(0x261)]=stream[_0x35f75(0x37b)](_0x35f75(0x34e)),this[_0x35f75(0x261)]['on'](_0x35f75(0x2c6),_0x2530d7=>{const _0x2590bb=_0x35f75;this[_0x2590bb(0x260)]!=null&&(this[_0x2590bb(0x398)](_0x2530d7),this[_0x2590bb(0x3db)]=![]);});}[_0x124cab(0x280)](){const _0x23d5fc=_0x124cab;this[_0x23d5fc(0x3db)]=![],this[_0x23d5fc(0x326)]=[],this['currentStepActive']=![],this[_0x23d5fc(0x2ed)]=FaceActionSteps[_0x23d5fc(0x3ac)],this[_0x23d5fc(0x2e7)]=[],this[_0x23d5fc(0x268)]=0x3,this[_0x23d5fc(0x399)]=new Date()[_0x23d5fc(0x29c)](),this[_0x23d5fc(0x3cf)](),this[_0x23d5fc(0x2dc)](this[_0x23d5fc(0x2ed)]),clearTimeout(this[_0x23d5fc(0x260)]),this[_0x23d5fc(0x260)]=setTimeout(this[_0x23d5fc(0x2d8)][_0x23d5fc(0x2b9)](this),this[_0x23d5fc(0x36c)]['detectTime']);}['stop'](){const _0x2520e2=_0x124cab;this[_0x2520e2(0x399)]=null,clearTimeout(this[_0x2520e2(0x260)]),this[_0x2520e2(0x260)]=null,this['lock']=![],this[_0x2520e2(0x3d2)]();}[_0x124cab(0x3d2)](){const _0x383ee4=_0x124cab;this[_0x383ee4(0x326)]=[],this[_0x383ee4(0x2ed)]=FaceActionSteps['NONE'],this['detectedFaceCountDownBeforeStart']=0x3,this[_0x383ee4(0x2ee)]=DCFacePos[_0x383ee4(0x3c9)],this[_0x383ee4(0x23f)]=[],this['currentStepActive']=![];}['defineCommands'](){const _0x234292=_0x124cab;let _0x5ad42f=this['commander'][_0x234292(0x394)]();for(let _0x53bda4 in _0x5ad42f){this['results'][_0x234292(0x2e0)]({'pos':DCFacePos[_0x234292(0x3c9)],'image':null,'command':FaceCommands[_0x234292(0x3c9)],'status':![]});}helper_logger[_0x234292(0x20e)]()['log'](_0x234292(0x3cf),_0x5ad42f);}['observe'](){const _0x423514=_0x124cab;!this[_0x423514(0x3db)]&&(this['stream'][_0x423514(0x2ef)]('getFace',this[_0x423514(0x283)]),this[_0x423514(0x3db)]=!![]),this[_0x423514(0x260)]=setTimeout(this['observe']['bind'](this),this[_0x423514(0x36c)][_0x423514(0x3dc)]);}[_0x124cab(0x398)](_0x3e060c){const _0x52fae9=_0x124cab;this[_0x52fae9(0x2c0)][_0x52fae9(0x365)]=![],this[_0x52fae9(0x2c0)][_0x52fae9(0x2b0)]=![],this[_0x52fae9(0x335)]=DCFacePos[_0x52fae9(0x3c9)];if(_0x3e060c['length']>0x1)this[_0x52fae9(0x2c0)][_0x52fae9(0x2b0)]=!![];else{if(_0x3e060c[_0x52fae9(0x3b7)]===0x0){this[_0x52fae9(0x2c0)][_0x52fae9(0x365)]=!![];if(typeof this[_0x52fae9(0x36c)][_0x52fae9(0x398)]===_0x52fae9(0x341))this['options'][_0x52fae9(0x398)]([]);this[_0x52fae9(0x3db)]=![];return;}}this[_0x52fae9(0x326)]=_0x3e060c;if(typeof this['options']['onFaceDetected']==='function')this[_0x52fae9(0x36c)][_0x52fae9(0x398)](_0x3e060c);this[_0x52fae9(0x268)]>0x0?(this[_0x52fae9(0x268)]--,this[_0x52fae9(0x1f7)]=new Date()[_0x52fae9(0x29c)](),this[_0x52fae9(0x34b)]=new Date()['getTime']()):(this[_0x52fae9(0x378)][_0x52fae9(0x21c)](_0x3e060c[0x0]),this[_0x52fae9(0x29d)](),this[_0x52fae9(0x246)]()),this[_0x52fae9(0x3db)]=![];}[_0x124cab(0x386)](_0x273179,_0x402f01){const _0x2f89b9=_0x124cab;if(this['tid']==null)return![];let _0x255732={'tid':this[_0x2f89b9(0x399)],'status':_0x402f01,'results':this[_0x2f89b9(0x2e7)],'image':null};for(let _0x40a55e in this[_0x2f89b9(0x2e7)]){if(this[_0x2f89b9(0x2e7)][_0x40a55e]['command']===FaceCommands['FORWARD']&&this[_0x2f89b9(0x2e7)][_0x40a55e][_0x2f89b9(0x349)]===!![]){_0x255732[_0x40a55e][_0x2f89b9(0x226)]=this['results'][_0x40a55e][_0x2f89b9(0x226)];break;}}typeof this[_0x2f89b9(0x36c)][_0x2f89b9(0x237)]===_0x2f89b9(0x341)&&this[_0x2f89b9(0x36c)]['onFinished'](_0x255732),this[_0x2f89b9(0x384)]();}[_0x124cab(0x29d)](){const _0x45b517=_0x124cab;let _0x4c5f04=this[_0x45b517(0x378)]['getBox'](),_0x147ba3={'x':this['cc'][_0x45b517(0x36b)](_0x4c5f04['x']),'y':this['cc']['getCoordY'](_0x4c5f04['y']),'width':this['cc'][_0x45b517(0x2fe)](_0x4c5f04[_0x45b517(0x28b)]),'height':this['cc']['getSize'](_0x4c5f04[_0x45b517(0x3aa)])},_0x2741d9=this['options'][_0x45b517(0x2a9)][_0x45b517(0x28b)]*0.3,_0x2a6bb2=this[_0x45b517(0x36c)]['area'][_0x45b517(0x3aa)]*0.3,_0x324e19=_0x147ba3['x']+_0x147ba3['width'],_0x5cc589=_0x147ba3['y']+_0x147ba3[_0x45b517(0x3aa)];if(_0x147ba3['x']>this['options']['area']['x']-_0x2741d9&&_0x147ba3['y']>this[_0x45b517(0x36c)]['area']['y']-_0x2a6bb2&&_0x324e19<this[_0x45b517(0x36c)][_0x45b517(0x2a9)]['x']+this[_0x45b517(0x36c)][_0x45b517(0x2a9)]['width']+_0x2741d9&&_0x5cc589<this[_0x45b517(0x36c)][_0x45b517(0x2a9)]['y']+this[_0x45b517(0x36c)][_0x45b517(0x2a9)][_0x45b517(0x3aa)]+_0x2a6bb2)this[_0x45b517(0x2c0)]['outOfBounds']=![];else return this[_0x45b517(0x2c0)][_0x45b517(0x28a)]=!![],![];this[_0x45b517(0x378)][_0x45b517(0x26a)]<0xc&&this[_0x45b517(0x378)][_0x45b517(0x26a)]>-0xc&&this[_0x45b517(0x378)]['pitch']<=-0x14&&this[_0x45b517(0x378)][_0x45b517(0x2c4)]>=-0x82&&this[_0x45b517(0x378)][_0x45b517(0x29f)]>=-0xa&&this['headpos']['yaw']<=0xa&&(this[_0x45b517(0x2ee)]=DCFacePos[_0x45b517(0x2a8)]),this['headpos'][_0x45b517(0x26a)]<0xc&&this[_0x45b517(0x378)]['roll']>-0xc&&this[_0x45b517(0x378)]['yaw']<-0xa&&(this[_0x45b517(0x2ee)]=DCFacePos[_0x45b517(0x205)]),this[_0x45b517(0x378)]['roll']<0xc&&this['headpos']['roll']>-0xc&&this[_0x45b517(0x378)]['yaw']>0xa&&(this['currentAction']=DCFacePos[_0x45b517(0x2f0)]),this['headpos']['roll']<0xc&&this[_0x45b517(0x378)][_0x45b517(0x26a)]>-0xc&&this['headpos'][_0x45b517(0x2c4)]<-0x82&&(this[_0x45b517(0x2ee)]=DCFacePos['UP']),this[_0x45b517(0x378)][_0x45b517(0x26a)]<0xc&&this[_0x45b517(0x378)][_0x45b517(0x26a)]>-0xc&&this['headpos'][_0x45b517(0x2c4)]>-0x14&&(this[_0x45b517(0x2ee)]=DCFacePos[_0x45b517(0x348)]);}['checkCurrentCommandAction'](){const _0x407082=_0x124cab;let _0x3b6758=this['isErrorExist'](),_0xff9197=this['getTimeDiff'](this['fixedTime']);_0x3b6758?(this[_0x407082(0x335)]=DCFacePos[_0x407082(0x3c9)],this[_0x407082(0x351)](this['errors'])):this[_0x407082(0x34b)]=new Date()['getTime']();this['step']===FaceActionSteps[_0x407082(0x3ac)]&&(this['currentStepActive']=![],this[_0x407082(0x2ed)]=FaceActionSteps[_0x407082(0x2e8)],this['callStepChange'](this['step']));if(this[_0x407082(0x2ed)]===FaceActionSteps['START']){let _0x2f008e=Math[_0x407082(0x350)]((this['options']['startingWaitTime']-_0xff9197)/0x3e8);if(_0x2f008e>0x0){if(typeof this[_0x407082(0x36c)][_0x407082(0x307)]===_0x407082(0x341))this[_0x407082(0x36c)][_0x407082(0x307)](_0x2f008e);}else this[_0x407082(0x2ed)]=FaceActionSteps[_0x407082(0x3e5)],this[_0x407082(0x2bd)]=![],this[_0x407082(0x1f7)]=new Date()[_0x407082(0x29c)](),this[_0x407082(0x3d1)]=new Date()[_0x407082(0x29c)](),this[_0x407082(0x2dc)](this[_0x407082(0x2ed)]);}if(this['step']===FaceActionSteps[_0x407082(0x3e5)]&&(_0x3b6758===![]||this[_0x407082(0x312)]===0x0)){let _0x1126f2=this['commander'][_0x407082(0x292)],_0xefd8b=this[_0x407082(0x28c)][_0x407082(0x363)]();this['currentCommand']!==_0xefd8b['name']&&(this['currentCommand']=_0xefd8b[_0x407082(0x272)],this[_0x407082(0x23f)]=[],this[_0x407082(0x2f6)](_0xefd8b[_0x407082(0x272)]));_0xff9197>0x0&&this['currentActionList'][_0x407082(0x2e0)]({'pos':this['currentAction'],'posPitch':this[_0x407082(0x378)][_0x407082(0x2c4)],'posYaw':this[_0x407082(0x378)][_0x407082(0x29f)],'time':new Date()[_0x407082(0x29c)](),'valid':!![],'command':_0xefd8b});let _0x151f10=this[_0x407082(0x392)]+this[_0x407082(0x31e)]-_0xff9197,_0x2c0966=_0xff9197>this[_0x407082(0x31e)]?this[_0x407082(0x208)](_0xefd8b[_0x407082(0x272)],this[_0x407082(0x2ee)]):CommandResult[_0x407082(0x3c9)];if(_0x151f10>0x0&&_0x2c0966===CommandResult[_0x407082(0x3c9)]){}else{if(_0xff9197>this['actionWaitBeforeCheck']){let _0x269cc6=ImageProcessing[_0x407082(0x2ec)](this[_0x407082(0x283)],this[_0x407082(0x378)][_0x407082(0x39e)]['x'],this[_0x407082(0x378)][_0x407082(0x39e)]['y'],this['headpos'][_0x407082(0x39e)][_0x407082(0x28b)],this['headpos'][_0x407082(0x39e)]['height']);_0x2c0966===CommandResult['SUCCESS']?this[_0x407082(0x2e7)][_0x1126f2]={'pos':this['currentAction'],'command':_0xefd8b,'status':!![],'image':_0x269cc6}:this[_0x407082(0x2e7)][_0x1126f2]={'pos':this[_0x407082(0x2ee)],'command':_0xefd8b,'status':![],'image':_0x269cc6},this[_0x407082(0x3bb)](this['results'][_0x1126f2]),this[_0x407082(0x28c)]['hasCommand']()?this[_0x407082(0x28c)]['next']():(this[_0x407082(0x2ed)]=FaceActionSteps[_0x407082(0x25b)],this['headpos'][_0x407082(0x3d2)](),this['callStepChange'](this[_0x407082(0x2ed)])),this[_0x407082(0x1f7)]=new Date()[_0x407082(0x29c)]();}}}if(this['step']===FaceActionSteps[_0x407082(0x25b)]){let _0x5a447a=this[_0x407082(0x328)]-_0xff9197;if(_0x5a447a>0x0){}else this[_0x407082(0x2ed)]=FaceActionSteps[_0x407082(0x25b)],this[_0x407082(0x1f7)]=new Date()[_0x407082(0x29c)](),this[_0x407082(0x386)](!![],!![]);}}[_0x124cab(0x208)](_0x2c86db,_0x3e0603){const _0x4297c1=_0x124cab;let _0x2b01a9={},_0x70805c=FaceCommands[_0x4297c1(0x3c9)],_0x5fbe27=FaceCommands[_0x4297c1(0x3c9)],_0x1e54b3={};for(let _0x3aecef in this[_0x4297c1(0x23f)]){let _0x23c79f=this['currentActionList'][_0x3aecef];_0x23c79f!=null&&_0x23c79f[_0x4297c1(0x21e)]&&(_0x23c79f[_0x4297c1(0x3e2)]!=null&&(_0x70805c=this[_0x4297c1(0x24c)](_0x23c79f[_0x4297c1(0x3e2)])),_0x2b01a9[_0x70805c]==null&&(_0x2b01a9[_0x70805c]={'list':[],'max':0x0}),_0x2b01a9[_0x70805c]=this[_0x4297c1(0x258)](_0x2b01a9[_0x70805c],_0x23c79f,_0x5fbe27!==_0x70805c),_0x1e54b3[_0x70805c]=(_0x1e54b3[_0x70805c]||0x0)+0x1,_0x5fbe27=_0x70805c);}let _0xe9332b=_0x1e54b3[_0x4297c1(0x3b7)];if(_0x2c86db===FaceCommands[_0x4297c1(0x205)]||_0x2c86db===FaceCommands['UP']||_0x2c86db===FaceCommands[_0x4297c1(0x2f0)]||_0x2c86db===FaceCommands[_0x4297c1(0x348)]){if(_0xe9332b>0x3)return CommandResult[_0x4297c1(0x225)];if(_0x2b01a9[_0x2c86db]!=null&&_0x2b01a9[_0x2c86db]['max']>0x3e8)return CommandResult['SUCCESS'];}if(_0x2c86db===FaceCommands[_0x4297c1(0x2a8)]){if(_0xe9332b>=0x3)return CommandResult[_0x4297c1(0x225)];if(_0x2b01a9[_0x2c86db]!=null&&_0x2b01a9[_0x2c86db]['max']>0x3e8)return CommandResult[_0x4297c1(0x381)];}return CommandResult[_0x4297c1(0x3c9)];}['callStepChange'](_0x241bed){typeof this['options']['onStep']==='function'&&this['options']['onStep'](_0x241bed);}[_0x124cab(0x351)](_0x21eb30){const _0x36e69d=_0x124cab;typeof this[_0x36e69d(0x36c)]['onError']===_0x36e69d(0x341)&&this['options']['onError'](_0x21eb30);}[_0x124cab(0x2f6)](_0x1553e4){const _0x32c1ca=_0x124cab;typeof this[_0x32c1ca(0x36c)][_0x32c1ca(0x39d)]==='function'&&this['options']['onCommand'](_0x1553e4);}[_0x124cab(0x3bb)](_0x46aeb0){const _0x1a381f=_0x124cab;typeof this[_0x1a381f(0x36c)][_0x1a381f(0x38b)]===_0x1a381f(0x341)&&this[_0x1a381f(0x36c)][_0x1a381f(0x38b)](_0x46aeb0);}[_0x124cab(0x31f)](){const _0x5e6f24=_0x124cab;return this[_0x5e6f24(0x326)];}[_0x124cab(0x1f0)](){const _0x38001c=_0x124cab;for(const _0x11e80c in this[_0x38001c(0x2c0)]){if(this[_0x38001c(0x2c0)][_0x11e80c]===!![])return!![];}return![];}[_0x124cab(0x28d)](_0x56837e){const _0x73078d=_0x124cab;let _0x1180e0=new Date()[_0x73078d(0x29c)]();return _0x1180e0-_0x56837e;}[_0x124cab(0x24c)](_0x3b4615){const _0x2a8e37=_0x124cab;switch(_0x3b4615){case DCFacePos[_0x2a8e37(0x205)]:return FaceCommands[_0x2a8e37(0x205)];case DCFacePos['UP']:return FaceCommands['UP'];case DCFacePos['RIGHT']:return FaceCommands[_0x2a8e37(0x2f0)];case DCFacePos[_0x2a8e37(0x348)]:return FaceCommands['DOWN'];case DCFacePos[_0x2a8e37(0x2a8)]:return FaceCommands[_0x2a8e37(0x2a8)];default:return FaceCommands['NONE'];}}[_0x124cab(0x258)](_0x4e0982,_0x3d603c,_0x12ab0a){const _0x39b435=_0x124cab;let _0x130cc9=_0x4e0982,_0x33f50c=0x0;return _0x130cc9[_0x39b435(0x3c2)][_0x39b435(0x3b7)]>0x0&&_0x130cc9['list'][_0x33f50c][_0x39b435(0x280)]!=null&&_0x12ab0a?(_0x33f50c=_0x130cc9[_0x39b435(0x3c2)][_0x39b435(0x3b7)]-0x1,_0x3d603c['time']!=null&&(_0x130cc9[_0x39b435(0x3c2)][_0x33f50c][_0x39b435(0x265)]=_0x3d603c[_0x39b435(0x2d0)],_0x130cc9[_0x39b435(0x3c2)][_0x33f50c]['interval']=_0x3d603c[_0x39b435(0x2d0)]-_0x130cc9[_0x39b435(0x3c2)][_0x33f50c][_0x39b435(0x280)],_0x130cc9[_0x39b435(0x282)]=(_0x130cc9[_0x39b435(0x3c2)][_0x33f50c]['interval']||0x0)>_0x130cc9['max']?_0x130cc9[_0x39b435(0x3c2)][_0x33f50c][_0x39b435(0x396)]||0x0:_0x130cc9[_0x39b435(0x282)])):_0x130cc9[_0x39b435(0x3c2)][_0x39b435(0x2e0)]({'start':_0x3d603c[_0x39b435(0x2d0)],'end':null,'interval':null}),_0x130cc9;}};class DeepFace{constructor(_0x3e2b1d,_0x58feea={}){const _0x5e4bad=_0x124cab;this[_0x5e4bad(0x36d)]=null,this[_0x5e4bad(0x283)]=null,this[_0x5e4bad(0x3da)]=null,this[_0x5e4bad(0x255)]={'start':![],'detectInit':![],'analyzeAfterOpen':![]},this[_0x5e4bad(0x36c)]={'src':null,'sourceType':null,'width':0x280,'height':0x1e0,'liveness':!![],'onFrameCaptured':null,'detectTime':0x64,'onFinished':null,'worker_path':_0x5e4bad(0x390)},this[_0x5e4bad(0x36c)]=deepMerge(this['options'],_0x58feea),this[_0x5e4bad(0x1eb)](_0x3e2b1d),this[_0x5e4bad(0x275)]();}[_0x124cab(0x1eb)](_0x112aaf){const _0x424916=_0x124cab;this[_0x424916(0x3da)]=new camera(_0x112aaf,{'src':this[_0x424916(0x36c)][_0x424916(0x28e)],'width':this[_0x424916(0x36c)][_0x424916(0x28b)],'height':this[_0x424916(0x36c)][_0x424916(0x3aa)],'onFrameUpdated':this[_0x424916(0x228)][_0x424916(0x2b9)](this),'onLoaded':this[_0x424916(0x201)][_0x424916(0x2b9)](this),'onStart':this[_0x424916(0x209)]['bind'](this),'onStop':this['onCameraStop']['bind'](this)}),this[_0x424916(0x36d)]=this[_0x424916(0x3da)]['dom'],this['canvas']=this['camera'][_0x424916(0x283)];}[_0x124cab(0x275)](){const _0x49f07d=_0x124cab;this['cc']=new CoordConverter(this[_0x49f07d(0x3da)][_0x49f07d(0x288)]),this[_0x49f07d(0x33a)]=new MaskLayer(this[_0x49f07d(0x36d)],{'width':this[_0x49f07d(0x36c)]['width'],'height':this[_0x49f07d(0x36c)][_0x49f07d(0x3aa)]}),this['visual']=new VisualLayer(this['canvas']),this[_0x49f07d(0x274)]=new WebWorker({'path':this[_0x49f07d(0x36c)][_0x49f07d(0x1f6)]}),this[_0x49f07d(0x242)]=new FaceAnalyser(this[_0x49f07d(0x3da)][_0x49f07d(0x2d4)],{'area':this[_0x49f07d(0x33a)][_0x49f07d(0x232)](),'detectTime':this['options'][_0x49f07d(0x3dc)],'onFaceDetected':this[_0x49f07d(0x398)][_0x49f07d(0x2b9)](this),'onError':this['onError'][_0x49f07d(0x2b9)](this),'onFinished':this['onFinished']['bind'](this),'onCommand':this['onCommand'][_0x49f07d(0x2b9)](this),'onCommandResult':this['onCommandResult']['bind'](this),'onStep':this[_0x49f07d(0x3a5)][_0x49f07d(0x2b9)](this),'onStartDownCount':this[_0x49f07d(0x307)]['bind'](this)}),this[_0x49f07d(0x242)]['cc']=this['cc'];}[_0x124cab(0x37b)](){const _0xa8a237=_0x124cab;!this[_0xa8a237(0x3da)][_0xa8a237(0x249)]()&&(this[_0xa8a237(0x3da)]['start'](),this[_0xa8a237(0x33a)][_0xa8a237(0x241)]());}[_0x124cab(0x36e)](){const _0x3f6b74=_0x124cab;this[_0x3f6b74(0x384)](),this['camera'][_0x3f6b74(0x384)](),this[_0x3f6b74(0x33a)][_0x3f6b74(0x2e4)]();}[_0x124cab(0x280)](){const _0x2c2d39=_0x124cab;!this[_0x2c2d39(0x3da)]['isPlaying']()?(this[_0x2c2d39(0x37b)](),this[_0x2c2d39(0x255)][_0x2c2d39(0x222)]=!![]):(this[_0x2c2d39(0x255)]['start']=!![],this[_0x2c2d39(0x242)][_0x2c2d39(0x280)]());}[_0x124cab(0x384)](){const _0x24593a=_0x124cab;this[_0x24593a(0x255)]['start']=![],this[_0x24593a(0x242)][_0x24593a(0x384)](),this[_0x24593a(0x255)]['analyzeAfterOpen']=![];}['onFinished'](_0x360626,_0xd59948){const _0x273568=_0x124cab;helper_logger['getInstance']()[_0x273568(0x279)]('finished'),this[_0x273568(0x33a)]['setCommand'](_0x273568(0x27a)),typeof this[_0x273568(0x36c)][_0x273568(0x237)]==_0x273568(0x341)&&this['options']['onFinished'](_0x360626,_0xd59948);}[_0x124cab(0x398)](_0x594d26){}[_0x124cab(0x39d)](_0x1965fe){const _0x3eb2c6=_0x124cab;helper_logger['getInstance']()[_0x3eb2c6(0x279)](_0x3eb2c6(0x39d),_0x1965fe);let _0x436474='';switch(_0x1965fe){case FaceCommands[_0x3eb2c6(0x2a8)]:_0x436474=_0x3eb2c6(0x323);break;case FaceCommands[_0x3eb2c6(0x205)]:_0x436474=_0x3eb2c6(0x34d);break;case FaceCommands[_0x3eb2c6(0x2f0)]:_0x436474=_0x3eb2c6(0x3e4);break;case FaceCommands['UP']:_0x436474='look\x20up';break;case FaceCommands[_0x3eb2c6(0x348)]:_0x436474=_0x3eb2c6(0x23d);break;default:_0x436474='';}this[_0x3eb2c6(0x33a)][_0x3eb2c6(0x377)](_0x436474);}['onCommandResult'](){}[_0x124cab(0x3a5)](_0x33f042){const _0x2fe064=_0x124cab;helper_logger['getInstance']()[_0x2fe064(0x279)](_0x2fe064(0x3d3),_0x33f042);let _0x3bfddc='';switch(_0x33f042){case FaceActionSteps['INIT']:_0x3bfddc=_0x2fe064(0x3cc);break;case FaceActionSteps[_0x2fe064(0x2e8)]:_0x3bfddc=_0x2fe064(0x2fd);break;case FaceActionSteps['ACTIONS']:_0x3bfddc=_0x2fe064(0x368);break;case FaceActionSteps[_0x2fe064(0x25b)]:_0x3bfddc=_0x2fe064(0x33d);break;default:_0x3bfddc='';}this[_0x2fe064(0x33a)]['setCommand'](_0x3bfddc);}[_0x124cab(0x307)](_0x20bf00){const _0x1cf640=_0x124cab;helper_logger[_0x1cf640(0x20e)]()['log'](_0x1cf640(0x307),_0x20bf00);}['onError'](_0x4f602a){const _0x35dce2=_0x124cab;helper_logger[_0x35dce2(0x20e)]()[_0x35dce2(0x279)]('onError',_0x4f602a);}[_0x124cab(0x228)](){const _0xf96149=_0x124cab;let _0x20a449=this[_0xf96149(0x242)][_0xf96149(0x31f)]();this['visual'][_0xf96149(0x34f)](_0x20a449);}['onCameraLoaded'](_0x5399a9,_0x453138){const _0x3c1bdd=_0x124cab;this['cc'][_0x3c1bdd(0x2e1)](_0x453138),this[_0x3c1bdd(0x313)]['cc']['setDim'](_0x453138),this[_0x3c1bdd(0x242)][_0x3c1bdd(0x36c)][_0x3c1bdd(0x3dd)]=_0x5399a9;}[_0x124cab(0x209)](){const _0x103ab9=_0x124cab;this[_0x103ab9(0x255)][_0x103ab9(0x222)]&&(this[_0x103ab9(0x255)][_0x103ab9(0x222)]=![],this[_0x103ab9(0x280)]());}[_0x124cab(0x39b)](){}['showProcessing'](_0x19d048){const _0x128533=_0x124cab;this[_0x128533(0x36d)]&&(this[_0x128533(0x36d)][_0x128533(0x315)][_0x128533(0x345)](_0x128533(0x38a)),this[_0x128533(0x36d)][_0x128533(0x315)][_0x128533(0x345)](_0x128533(0x371)),_0x19d048&&(this[_0x128533(0x36d)]['classList'][_0x128533(0x347)]('loading'),this[_0x128533(0x36d)]['classList'][_0x128533(0x347)](_0x128533(0x371))));}};class CardDetector{constructor(_0x3f6dce={}){const _0x53eccd=_0x124cab;this[_0x53eccd(0x36c)]={'host':null,'headers':null,'serverSide':null,'modelUrl':null,'mirrored':!![],'single':!![]},this[_0x53eccd(0x344)]=null,this['loaded']=![],this['loadedTID']=null,this[_0x53eccd(0x36c)]=deepMerge(this[_0x53eccd(0x36c)],_0x3f6dce),this['originalSize']={'width':0x0,'height':0x0},this['croppedSize']={'x':0x0,'y':0x0,'width':0x0,'height':0x0},this[_0x53eccd(0x373)]={'width':0x12c,'height':0x12c};if(!this['options']['serverSide'])this['initWorker']();else{}}[_0x124cab(0x1ed)](){const _0x456c24=_0x124cab;this['options'][_0x456c24(0x2e5)]=OSPlus[_0x456c24(0x339)]()||OSPlus[_0x456c24(0x2f3)]();}['initWorker'](){const _0xc31431=_0x124cab;this[_0xc31431(0x261)]=stream[_0xc31431(0x37b)](_0xc31431(0x388)),this[_0xc31431(0x261)]['on']('onScanResult',_0x27c3eb=>{const _0x537633=_0xc31431;if(typeof this['callback']===_0x537633(0x341)){let _0x279812=this[_0x537633(0x257)](_0x27c3eb,!![]);this[_0x537633(0x344)](_0x279812);}}),this[_0xc31431(0x261)]['on'](_0xc31431(0x3c6),_0x432ea0=>{const _0x4d10a7=_0xc31431;helper_logger[_0x4d10a7(0x20e)]()[_0x4d10a7(0x279)](_0x4d10a7(0x32a)),this[_0x4d10a7(0x3df)]=_0x432ea0;});}[_0x124cab(0x2d5)](){const _0x23ec80=_0x124cab;if(!this[_0x23ec80(0x36c)]['serverSide'])this[_0x23ec80(0x261)]['notify'](_0x23ec80(0x3d7));else{let _0x35ca61=this['options'][_0x23ec80(0x35d)]!=null?StringExtra[_0x23ec80(0x336)](this['options'][_0x23ec80(0x35d)]):'',_0x1be6df=_0x35ca61+'/'+'card/ready',_0x2a53ce=deepMerge({'Content-Type':'application/json'},this[_0x23ec80(0x36c)][_0x23ec80(0x3b3)]||{});fetch(_0x1be6df,{'method':_0x23ec80(0x355),'headers':_0x2a53ce})[_0x23ec80(0x2ae)](_0x8c39f0=>_0x8c39f0['json']())[_0x23ec80(0x2ae)](_0x4a102b=>{const _0x2cd525=_0x23ec80;this['loaded']=_0x4a102b[_0x2cd525(0x324)],helper_logger[_0x2cd525(0x20e)]()['log']('Success:',_0x4a102b);})['catch'](_0xf20ae6=>{const _0x390096=_0x23ec80;this[_0x390096(0x3df)]=![],helper_logger[_0x390096(0x20e)]()['log'](_0x390096(0x29b),_0xf20ae6);});}}[_0x124cab(0x2a0)](_0x22a40e=null){const _0x8d6a14=_0x124cab;let _0x12e6f5=this['options'][_0x8d6a14(0x35d)]!=null?StringExtra[_0x8d6a14(0x336)](this[_0x8d6a14(0x36c)][_0x8d6a14(0x35d)]):'',_0x3fc980=_0x12e6f5+'/'+_0x8d6a14(0x280),_0x2be70a=deepMerge({'Content-Type':_0x8d6a14(0x1ec)},this[_0x8d6a14(0x36c)][_0x8d6a14(0x3b3)]||{});fetch(_0x3fc980,{'method':_0x8d6a14(0x355),'headers':_0x2be70a})[_0x8d6a14(0x2ae)](_0x2b20e0=>_0x2b20e0[_0x8d6a14(0x2a1)]())[_0x8d6a14(0x2ae)](_0x106f4e=>{const _0x4c766b=_0x8d6a14;this[_0x4c766b(0x2cf)]=_0x106f4e[_0x4c766b(0x399)]||null,helper_logger[_0x4c766b(0x20e)]()[_0x4c766b(0x279)](_0x4c766b(0x357),_0x106f4e),typeof _0x22a40e===_0x4c766b(0x341)&&_0x22a40e(this[_0x4c766b(0x3df)],this[_0x4c766b(0x2cf)]);})[_0x8d6a14(0x285)](_0x50aafe=>{const _0x48704c=_0x8d6a14;this[_0x48704c(0x2cf)]=null,helper_logger['getInstance']()[_0x48704c(0x279)](_0x48704c(0x29b),_0x50aafe);});}[_0x124cab(0x327)](_0x130e84,_0x14f153,_0x28d23a){const _0x3638dd=_0x124cab;if(!this[_0x3638dd(0x36c)][_0x3638dd(0x2e5)]){this[_0x3638dd(0x344)]=_0x28d23a;let _0x25de5a=this[_0x3638dd(0x29e)](_0x130e84);this['stream'][_0x3638dd(0x2ef)]('getCard',_0x25de5a);}else{let _0x58af5f=ImageProcessing[_0x3638dd(0x269)](_0x130e84,'image/jpeg',0.95),_0x27a650=new FormData();_0x27a650[_0x3638dd(0x2b4)](_0x3638dd(0x226),_0x58af5f),_0x27a650['append'](_0x3638dd(0x2d1),'0'),_0x27a650[_0x3638dd(0x2b4)](_0x3638dd(0x399),_0x14f153);let _0x37082c=this[_0x3638dd(0x36c)][_0x3638dd(0x35d)]!=null?StringExtra['cutLastSlash'](this[_0x3638dd(0x36c)][_0x3638dd(0x35d)]):'',_0x5a355f=_0x37082c+'/'+'card/detect',_0x13895c=deepMerge({},this[_0x3638dd(0x36c)]['headers']||{});fetch(_0x5a355f,{'method':_0x3638dd(0x3b4),'body':_0x27a650,'headers':_0x13895c})[_0x3638dd(0x2ae)](function(_0x1bf99f){const _0x43dec5=_0x3638dd;if(_0x1bf99f['ok'])return _0x1bf99f[_0x43dec5(0x2a1)]();console[_0x43dec5(0x301)]('Error:',_0x1bf99f),typeof _0x28d23a==='function'&&_0x28d23a(null);})['then'](_0x523359=>{const _0xfbb6d0=_0x3638dd;helper_logger[_0xfbb6d0(0x20e)]()[_0xfbb6d0(0x279)](_0xfbb6d0(0x287),_0x523359);let _0x5c49ca=[];_0x523359[_0xfbb6d0(0x324)]===!![]&&_0x523359[_0xfbb6d0(0x2b2)]!==undefined&&(_0x5c49ca=_0x523359[_0xfbb6d0(0x2b2)]);if(_0x5c49ca[_0xfbb6d0(0x3b7)]>0x0){}if(typeof _0x28d23a==='function'){let _0x3f5d4e=this['normalizing'](_0x5c49ca);_0x28d23a(_0x3f5d4e);}})[_0x3638dd(0x285)](_0x2eb2b0=>{const _0x1540f6=_0x3638dd;console[_0x1540f6(0x301)](_0x1540f6(0x29b),_0x2eb2b0),typeof _0x28d23a==='function'&&_0x28d23a(null);});}}['isReady'](){const _0x85bc48=_0x124cab;return this[_0x85bc48(0x3df)];}['fit2Size'](_0x4055d2){const _0xcbb438=_0x124cab;let _0x259517={'x':0x0,'y':0x0,'w':_0x4055d2[_0xcbb438(0x28b)],'h':_0x4055d2[_0xcbb438(0x3aa)]};return _0x4055d2['width']>_0x4055d2['height']?(_0x259517['w']=_0x4055d2[_0xcbb438(0x3aa)],_0x259517['x']=(_0x4055d2[_0xcbb438(0x28b)]-_0x259517['w'])/0x2):(_0x259517['h']=_0x4055d2[_0xcbb438(0x28b)],_0x259517['y']=(_0x4055d2['height']-_0x259517['h'])/0x2),this[_0xcbb438(0x278)]={'x':_0x4055d2['width'],'y':_0x4055d2[_0xcbb438(0x3aa)]},this[_0xcbb438(0x240)]=_0x259517,ImageProcessing[_0xcbb438(0x2ac)](_0x4055d2,_0x259517['x'],_0x259517['y'],_0x259517['w'],_0x259517['h'],this['inputSize']['width'],this[_0xcbb438(0x373)][_0xcbb438(0x3aa)]);}[_0x124cab(0x3d4)](_0x4d3b70,_0x55c289){const _0x11c652=_0x124cab;let _0x31d81b=0x1;switch(_0x55c289){case'x':_0x31d81b=this[_0x11c652(0x240)]['w']/this[_0x11c652(0x373)]['width'];return _0x4d3b70*_0x31d81b+this[_0x11c652(0x240)]['x'];case'y':_0x31d81b=this[_0x11c652(0x240)]['h']/this[_0x11c652(0x373)][_0x11c652(0x3aa)];return _0x4d3b70*_0x31d81b+this[_0x11c652(0x240)]['y'];case _0x11c652(0x28b):_0x31d81b=this[_0x11c652(0x240)]['w']/this['inputSize'][_0x11c652(0x28b)];return _0x4d3b70*_0x31d81b;case _0x11c652(0x3aa):_0x31d81b=this[_0x11c652(0x240)]['h']/this['inputSize'][_0x11c652(0x3aa)];return _0x4d3b70*_0x31d81b;}}[_0x124cab(0x257)](_0x4d1ff8,_0x6d416d=![]){const _0x5a4636=_0x124cab;let _0x451f48=[],_0x256f84=null,_0x7bf709=![];for(let _0x13c97d in _0x4d1ff8){_0x256f84=_0x4d1ff8[_0x13c97d];_0x6d416d&&(_0x256f84['bbox'][0x0]=this[_0x5a4636(0x3d4)](_0x256f84[_0x5a4636(0x248)][0x0],'x'),_0x256f84['bbox'][0x1]=this['toOriginalSize'](_0x256f84[_0x5a4636(0x248)][0x1],'y'),_0x256f84[_0x5a4636(0x248)][0x2]=this['toOriginalSize'](_0x256f84[_0x5a4636(0x248)][0x2],_0x5a4636(0x28b)),_0x256f84['bbox'][0x3]=this[_0x5a4636(0x3d4)](_0x256f84['bbox'][0x3],'height'));_0x7bf709=![];for(let _0x10d2e4 in _0x451f48){if(_0x451f48[_0x10d2e4][_0x5a4636(0x2d9)]===_0x256f84[_0x5a4636(0x2d9)]){let _0x5413d4=_0x451f48[_0x10d2e4],_0xa8f3e8=_0x256f84,_0x1bcfe9=0x0,_0x5f3c29=0x0;if(_0xa8f3e8[_0x5a4636(0x248)][0x0]>_0x5413d4[_0x5a4636(0x248)][0x0]&&_0xa8f3e8[_0x5a4636(0x248)][0x0]<_0x5413d4[_0x5a4636(0x248)][0x0]+_0x5413d4[_0x5a4636(0x248)][0x2])_0x1bcfe9=_0x5413d4['bbox'][0x0]+_0x5413d4[_0x5a4636(0x248)][0x2]-_0xa8f3e8[_0x5a4636(0x248)][0x0],_0x5f3c29=_0x1bcfe9/_0xa8f3e8[_0x5a4636(0x248)][0x2];else _0x5413d4['bbox'][0x0]>_0xa8f3e8['bbox'][0x0]&&_0x5413d4[_0x5a4636(0x248)][0x0]<_0xa8f3e8['bbox'][0x0]+_0xa8f3e8[_0x5a4636(0x248)][0x2]&&(_0x1bcfe9=_0xa8f3e8['bbox'][0x0]+_0xa8f3e8[_0x5a4636(0x248)][0x2]-_0x5413d4['bbox'][0x0],_0x5f3c29=_0x1bcfe9/_0x5413d4[_0x5a4636(0x248)][0x2]);let _0xfe882c=0x0,_0x4a49a0=0x0;if(_0xa8f3e8[_0x5a4636(0x248)][0x1]>_0x5413d4[_0x5a4636(0x248)][0x1]&&_0xa8f3e8[_0x5a4636(0x248)][0x1]<_0x5413d4[_0x5a4636(0x248)][0x1]+_0x5413d4[_0x5a4636(0x248)][0x3])_0xfe882c=_0x5413d4[_0x5a4636(0x248)][0x1]+_0x5413d4[_0x5a4636(0x248)][0x3]-_0xa8f3e8[_0x5a4636(0x248)][0x1],_0x4a49a0=_0x1bcfe9/_0xa8f3e8[_0x5a4636(0x248)][0x3];else _0x5413d4[_0x5a4636(0x248)][0x1]>_0xa8f3e8[_0x5a4636(0x248)][0x1]&&_0x5413d4['bbox'][0x1]<_0xa8f3e8[_0x5a4636(0x248)][0x1]+_0xa8f3e8['bbox'][0x3]&&(_0xfe882c=_0xa8f3e8[_0x5a4636(0x248)][0x1]+_0xa8f3e8[_0x5a4636(0x248)][0x3]-_0x5413d4[_0x5a4636(0x248)][0x1],_0x4a49a0=_0x1bcfe9/_0x5413d4[_0x5a4636(0x248)][0x3]);_0x5f3c29>0.6&&_0x4a49a0>0.6&&(_0x7bf709=!![],_0xa8f3e8[_0x5a4636(0x22d)]>_0x5413d4[_0x5a4636(0x22d)]&&(_0x451f48[_0x10d2e4]=_0x256f84));}}!_0x7bf709&&_0x451f48['push'](_0x4d1ff8[_0x13c97d]);}if(this[_0x5a4636(0x36c)][_0x5a4636(0x230)]&&_0x451f48[_0x5a4636(0x3b7)]>0x0){let _0x4ef2ee=0x0,_0x2bf552=0x0;for(let _0x375c6b in _0x451f48){_0x451f48[_0x375c6b][_0x5a4636(0x22d)]>_0x4ef2ee&&(_0x4ef2ee=_0x451f48[_0x375c6b][_0x5a4636(0x22d)],_0x2bf552=_0x375c6b);}return[_0x451f48[_0x2bf552]];}return _0x451f48;}[_0x124cab(0x338)](){this['loadedTID']=null;}};class MRZReader{constructor(_0x3cf527={}){const _0x248723=_0x124cab;this[_0x248723(0x36c)]={'server':!![],'url':null,'host':null,'checkURI':null},this['options']=deepMerge(this[_0x248723(0x36c)],_0x3cf527);if(this[_0x248723(0x36c)][_0x248723(0x3ab)]==null)this[_0x248723(0x36c)]['checkURI']=_0x248723(0x383);this[_0x248723(0x3df)]=![],this[_0x248723(0x275)]();}[_0x124cab(0x275)](){const _0x338748=_0x124cab;if(!this[_0x338748(0x36c)][_0x338748(0x3d0)]){}}['load'](){const _0x5f151e=_0x124cab;if(this[_0x5f151e(0x36c)][_0x5f151e(0x3d0)])this['loaded']=!![];else{}}[_0x124cab(0x391)](_0x3084bd,_0x25dcd7,_0x2bc876){const _0x3bca47=_0x124cab;if(this['options'][_0x3bca47(0x3d0)])this[_0x3bca47(0x247)](_0x3084bd,_0x25dcd7,_0x2bc876);else{}}['recognizeGlobal'](_0x5a295c,_0x54478c,_0x4f0119){const _0x55fd2d=_0x124cab;let _0x351204=ImageProcessing[_0x55fd2d(0x269)](_0x5a295c,_0x55fd2d(0x3e1),0.9),_0x5f06b8=new FormData();_0x5f06b8[_0x55fd2d(0x2b4)](_0x55fd2d(0x226),_0x351204),_0x5f06b8[_0x55fd2d(0x2b4)]('tid',_0x54478c);let _0x405bff=this[_0x55fd2d(0x36c)][_0x55fd2d(0x35d)]!=null?StringExtra['cutLastSlash'](this[_0x55fd2d(0x36c)][_0x55fd2d(0x35d)]):'',_0x3fcb01=this['options'][_0x55fd2d(0x2e2)]!=null?this[_0x55fd2d(0x36c)][_0x55fd2d(0x2e2)]:_0x405bff+'/'+this[_0x55fd2d(0x36c)][_0x55fd2d(0x3ab)];fetch(_0x3fcb01,{'method':'POST','body':_0x5f06b8})[_0x55fd2d(0x2ae)](_0x57519e=>_0x57519e[_0x55fd2d(0x2a1)]())[_0x55fd2d(0x2ae)](_0x5f51f3=>{const _0x19d3ef=_0x55fd2d;helper_logger['getInstance']()['log'](_0x19d3ef(0x287),_0x5f51f3);let _0x564ef6=MRZReader[_0x19d3ef(0x337)](_0x5f51f3[_0x19d3ef(0x2b2)]);_0x5f51f3[_0x19d3ef(0x324)]===![]&&(_0x564ef6[_0x19d3ef(0x2d1)]=null),typeof _0x4f0119===_0x19d3ef(0x341)&&_0x4f0119(_0x564ef6);})[_0x55fd2d(0x285)](_0x379c38=>{const _0x2467d4=_0x55fd2d;console[_0x2467d4(0x301)]('Error:',_0x379c38),typeof _0x4f0119==='function'&&_0x4f0119(null);});}['recognizeLocal'](_0x48847e,_0x3cfc03){}['parse'](_0x5808f1){const _0x278d99=_0x124cab;let _0x254af6={'type':null,'text':_0x5808f1,'object':null};if(_0x254af6[_0x278d99(0x253)]>0x4b){const _0x4e66d2=_0x5808f1[_0x278d99(0x26f)](0x0,0x3);if(_0x4e66d2[_0x278d99(0x37c)]('I<')||_0x4e66d2['includes']('1<'))_0x254af6[_0x278d99(0x2d1)]='I';else(_0x4e66d2['includes']('P<')||_0x4e66d2['includes']('PC'))&&(_0x254af6['type']='P');}return _0x254af6;}static[_0x124cab(0x337)](_0x43887c){const _0x1aedfe=_0x124cab;let _0x527384={'type':null,'text':_0x43887c['Lines'][_0x1aedfe(0x32e)](''),'object':_0x43887c};if(_0x527384[_0x1aedfe(0x204)]['length']>0x4b){const _0x522bf3=_0x43887c[_0x1aedfe(0x231)];if(_0x522bf3['includes']('I<')||_0x522bf3['includes']('1<'))_0x527384[_0x1aedfe(0x2d1)]='I';else(_0x522bf3[_0x1aedfe(0x37c)]('P<')||_0x522bf3['includes']('PC'))&&(_0x527384[_0x1aedfe(0x2d1)]='P');}return _0x527384;}};const DCScanError={'NO_CARD':_0x124cab(0x2ad),'MANY_CARDS':_0x124cab(0x23b),'LOW_LIGHT':_0x124cab(0x30e),'HIGH_LIGHT':_0x124cab(0x2db),'TOO_SMALL':_0x124cab(0x211)},DCScanDocType={'NONE':_0x124cab(0x31c),'ID':'id','PASSPORT':_0x124cab(0x2f9)},DCScanDocFaces={'NONE':_0x124cab(0x31c),'ID_FRONT':_0x124cab(0x2b6),'ID_BACK':_0x124cab(0x223),'PASS_FRONT':_0x124cab(0x299)},DCScanCommand={'NONE':_0x124cab(0x31c),'SHOW':_0x124cab(0x241),'ID_BACK':_0x124cab(0x223),'FINISH':_0x124cab(0x386)},DCScanSteps={'NONE':_0x124cab(0x31c),'SCANNING':'scanning','FINISH':_0x124cab(0x386)};class ScanAnalyser{constructor(_0x532a0b,_0x57a412={}){const _0x280044=_0x124cab;this['canvas']=_0x532a0b,this[_0x280044(0x36c)]={'host':null,'headers':null,'mrzOptions':null,'detector':null,'video':null,'area':{'x':0x0,'y':0x0,'width':0x0,'height':0x0},'detectTime':0x64,'useServerSide':null,'onCardDetected':null,'onFaceDetected':null,'onMRZDetected':null,'onDetected':null,'onError':null,'onFinished':null,'onCommand':null,'onCommandResult':null,'onStepChanged':null,'mirrored':!![],'delay':0x1f4,'serverDelay':0x1f4,'cardMinSize':{'width':0x46,'height':0x37}},this['options']=deepMerge(this[_0x280044(0x36c)],_0x57a412),this['stream']=null,this[_0x280044(0x2d6)]=![],this[_0x280044(0x3d6)]=null,this[_0x280044(0x2ed)]=DCScanSteps[_0x280044(0x3c9)],this['curScan']=null,this[_0x280044(0x236)]={},this[_0x280044(0x2b7)]={},this[_0x280044(0x3b1)]=null,this[_0x280044(0x369)]=null,this[_0x280044(0x26c)]=null,this['startTime']=null,this[_0x280044(0x1ef)]=null,this[_0x280044(0x303)]=this['options'][_0x280044(0x303)],this[_0x280044(0x213)]=null,this[_0x280044(0x36c)][_0x280044(0x3c3)]&&(this[_0x280044(0x303)]=this[_0x280044(0x36c)][_0x280044(0x2bc)]),this[_0x280044(0x22e)]=new CardDetector({'mirrored':this[_0x280044(0x36c)][_0x280044(0x215)],'single':!![],'serverSide':this['options'][_0x280044(0x3c3)],'host':this[_0x280044(0x36c)][_0x280044(0x35d)],'headers':this[_0x280044(0x36c)][_0x280044(0x3b3)]}),this[_0x280044(0x39c)]=new MRZReader({'host':this[_0x280044(0x36c)]['host'],'url':this[_0x280044(0x36c)]['mrzOptions']?this[_0x280044(0x36c)][_0x280044(0x25d)][_0x280044(0x2e2)]||null:null}),this['cc']=null,this['reset'](),!this['options']['useServerSide']&&this[_0x280044(0x2f4)]();}[_0x124cab(0x311)](){const _0x3c9397=_0x124cab;this['detector'][_0x3c9397(0x2d5)](),this[_0x3c9397(0x39c)]['load'](),this['stream']!=null&&ImageProcessing['getImageFromURL'](_0x3c9397(0x20f))[_0x3c9397(0x2ae)](_0x3e4a0c=>{const _0x507a24=_0x3c9397;this['stream'][_0x507a24(0x2ef)](_0x507a24(0x376),_0x3e4a0c);});}[_0x124cab(0x2f4)](){const _0x564831=_0x124cab;this[_0x564831(0x261)]=stream[_0x564831(0x37b)](_0x564831(0x34e)),this[_0x564831(0x261)]['on'](_0x564831(0x2c3),_0x35baf6=>{const _0x30d907=_0x564831;helper_logger[_0x30d907(0x20e)]()[_0x30d907(0x279)]('onFaceResult',_0x35baf6),this['step']===DCScanSteps[_0x30d907(0x23e)]&&this['curScan']!=null&&this['onFaceDetected'](_0x35baf6);});}[_0x124cab(0x243)](_0x14f939,_0x53bd88){const _0x32f4df=_0x124cab;this[_0x32f4df(0x22e)]['isReady']()&&this[_0x32f4df(0x22e)][_0x32f4df(0x327)](_0x14f939,_0x4142dc=>{const _0x29a87b=_0x32f4df;typeof _0x53bd88===_0x29a87b(0x341)&&_0x53bd88(_0x4142dc);});}[_0x124cab(0x2d8)](){const _0x4b9827=_0x124cab;if(!this[_0x4b9827(0x22e)][_0x4b9827(0x1fc)]()||this[_0x4b9827(0x213)]==null)return;else{let _0x1db948=new Date()[_0x4b9827(0x29c)]();if(this['step']===DCScanSteps[_0x4b9827(0x3c9)]&&_0x1db948-this[_0x4b9827(0x33f)]>0x3e8)this['step']=DCScanSteps[_0x4b9827(0x23e)],this[_0x4b9827(0x3d9)](DCScanCommand[_0x4b9827(0x2a7)]);else{if(this['step']===DCScanSteps[_0x4b9827(0x3c9)])return;else{if(this[_0x4b9827(0x2ed)]===DCScanCommand[_0x4b9827(0x25b)]){this[_0x4b9827(0x1ef)]!=null&&_0x1db948-this[_0x4b9827(0x1ef)]>0x7d0&&(this[_0x4b9827(0x386)](),this[_0x4b9827(0x1ef)]=null);return;}}}}!this[_0x4b9827(0x2d6)]&&(this[_0x4b9827(0x290)]=null,this['scanned']={'card':![],'face':![],'mrz':![]},this[_0x4b9827(0x2d6)]=!![],this['actualCanvas']=this[_0x4b9827(0x283)],this[_0x4b9827(0x3b1)]=ImageProcessing['canvasToImageData'](this[_0x4b9827(0x369)]),this[_0x4b9827(0x22e)][_0x4b9827(0x327)](this[_0x4b9827(0x369)],this['tID'],_0x4f6a87=>{this['onCardDetected'](_0x4f6a87);}));}[_0x124cab(0x27b)](_0x1f61d1){const _0x5cc21e=_0x124cab;let _0x3b6e45=_0x1f61d1!=null&&_0x1f61d1[_0x5cc21e(0x3b7)]>0x0?_0x1f61d1[0x0]:null,_0x422439=null;this['scanned']['card']=!![];let _0x2161df=_0x3b6e45!=null?this[_0x5cc21e(0x3d8)](_0x3b6e45['bbox']):![];_0x3b6e45!=null&&!_0x2161df&&this[_0x5cc21e(0x351)](DCScanError[_0x5cc21e(0x319)]);if(_0x3b6e45!=null&&_0x2161df===!![]){helper_logger[_0x5cc21e(0x20e)]()[_0x5cc21e(0x279)]('detector\x20result',_0x1f61d1);let _0x1c7ef7={'docType':this[_0x5cc21e(0x3bc)](_0x3b6e45['class']),'docFace':this[_0x5cc21e(0x3b9)](_0x3b6e45[_0x5cc21e(0x2d9)]),'card':_0x3b6e45,'face':null,'mrz':null,'image':null};this[_0x5cc21e(0x290)]=_0x1c7ef7;let _0x223a15=ImageProcessing[_0x5cc21e(0x293)](this['curFrame']);_0x422439=ImageProcessing['cropCanvas'](_0x223a15,_0x3b6e45[_0x5cc21e(0x248)][0x0],_0x3b6e45[_0x5cc21e(0x248)][0x1],_0x3b6e45[_0x5cc21e(0x248)][0x2],_0x3b6e45[_0x5cc21e(0x248)][0x3]),_0x1c7ef7[_0x5cc21e(0x226)]=_0x422439[_0x5cc21e(0x360)](_0x5cc21e(0x3e1),0.9),this[_0x5cc21e(0x26c)]=_0x422439;if(this[_0x5cc21e(0x2b7)][_0x5cc21e(0x393)][_0x5cc21e(0x3b7)]===0x0&&(_0x1c7ef7[_0x5cc21e(0x3ad)]===DCScanDocFaces['ID_FRONT']||_0x1c7ef7['docFace']===DCScanDocFaces[_0x5cc21e(0x32f)])){_0x3b6e45[_0x5cc21e(0x3a8)]===undefined||_0x3b6e45['face']==null?this[_0x5cc21e(0x261)]['notify'](_0x5cc21e(0x376),_0x422439):this[_0x5cc21e(0x398)]([_0x3b6e45['face']]);if(_0x1c7ef7['docFace']===DCScanDocFaces['PASS_FRONT']){let _0x55662d=_0x422439[_0x5cc21e(0x3aa)]*0.7,_0x1dbea8=ImageProcessing[_0x5cc21e(0x2ec)](_0x422439,0x0,_0x55662d,_0x422439[_0x5cc21e(0x28b)],_0x422439[_0x5cc21e(0x3aa)]-_0x55662d);if(_0x3b6e45[_0x5cc21e(0x39c)]===undefined||_0x3b6e45[_0x5cc21e(0x39c)]==null){let _0xf74bc7=ImageProcessing[_0x5cc21e(0x3a4)](_0x1dbea8);_0xf74bc7>0x5?this['mrz'][_0x5cc21e(0x391)](_0x1dbea8,this[_0x5cc21e(0x213)],_0xa6914f=>{const _0x59c4f7=_0x5cc21e;this[_0x59c4f7(0x216)](_0xa6914f);}):this[_0x5cc21e(0x2cc)](this[_0x5cc21e(0x303)]);}else this['onMRZDetected'](_0x3b6e45[_0x5cc21e(0x39c)]);}else this[_0x5cc21e(0x236)][_0x5cc21e(0x39c)]=!![];}else{if(this[_0x5cc21e(0x2b7)][_0x5cc21e(0x393)][_0x5cc21e(0x3b7)]>0x0&&this[_0x5cc21e(0x2b7)][_0x5cc21e(0x389)]===DCScanDocType['ID']&&_0x1c7ef7[_0x5cc21e(0x3ad)]===DCScanDocFaces['ID_BACK']){let _0x2a1558=_0x422439[_0x5cc21e(0x3aa)]*0.6,_0x4d99bd=ImageProcessing[_0x5cc21e(0x2ec)](_0x422439,0x0,_0x2a1558,_0x422439['width'],_0x422439[_0x5cc21e(0x3aa)]-_0x2a1558);if(_0x3b6e45[_0x5cc21e(0x39c)]===undefined||_0x3b6e45[_0x5cc21e(0x39c)]==null){let _0x25d5a9=ImageProcessing[_0x5cc21e(0x3a4)](_0x4d99bd,0xa);_0x25d5a9>0xa?this['mrz']['recognize'](_0x4d99bd,this[_0x5cc21e(0x213)],_0x53624f=>{this['onMRZDetected'](_0x53624f);}):this[_0x5cc21e(0x2cc)](this[_0x5cc21e(0x303)]);}else this['onMRZDetected'](_0x3b6e45[_0x5cc21e(0x39c)]);this[_0x5cc21e(0x236)]['face']=!![];}else this[_0x5cc21e(0x2cc)](this[_0x5cc21e(0x303)]);}this[_0x5cc21e(0x291)](_0x1f61d1),this[_0x5cc21e(0x30a)]();}else this[_0x5cc21e(0x291)]([]),this[_0x5cc21e(0x296)]([]),this['unlock'](this['delay']);}['checkSize'](_0x5a72ac){const _0x48191a=_0x124cab;let _0x3e8997=this[_0x48191a(0x369)][_0x48191a(0x28b)],_0x887ba0=this[_0x48191a(0x369)]['height'],_0x148704=this[_0x48191a(0x36c)][_0x48191a(0x276)];if(_0x5a72ac!=null&&_0x5a72ac[_0x48191a(0x3b7)]>=0x4){if(_0x5a72ac[0x2]/_0x3e8997*0x64>_0x148704[_0x48191a(0x28b)]||_0x5a72ac[0x3]/_0x887ba0*0x64>_0x148704['height'])return!![];}return![];}['onFaceDetected'](_0x45f32b){const _0x4cb544=_0x124cab;helper_logger[_0x4cb544(0x20e)]()[_0x4cb544(0x279)](_0x4cb544(0x398),_0x45f32b),this['scanned']['face']=!![];if(this[_0x4cb544(0x290)]!=null){this[_0x4cb544(0x290)][_0x4cb544(0x3a8)]=null;if(_0x45f32b[_0x4cb544(0x3b7)]>0x0){let _0x4fce1c=ImageProcessing[_0x4cb544(0x2ec)](this[_0x4cb544(0x26c)],_0x45f32b[0x0]['x'],_0x45f32b[0x0]['y'],_0x45f32b[0x0][_0x4cb544(0x28b)],_0x45f32b[0x0][_0x4cb544(0x3aa)]),_0x51b45e=ImageProcessing[_0x4cb544(0x3a4)](_0x4fce1c,0xa);helper_logger[_0x4cb544(0x20e)]()[_0x4cb544(0x279)]('face\x20laplacian',_0x51b45e),_0x51b45e>0xa&&(this[_0x4cb544(0x290)][_0x4cb544(0x3a8)]=_0x45f32b);}typeof this[_0x4cb544(0x36c)][_0x4cb544(0x398)]===_0x4cb544(0x341)&&this['options'][_0x4cb544(0x398)](_0x45f32b),this['checkScanResult']();}}['onMRZDetected'](_0x1539eb){const _0x96f38c=_0x124cab;helper_logger[_0x96f38c(0x20e)]()[_0x96f38c(0x279)](_0x96f38c(0x216),_0x1539eb),this['scanned']['mrz']=!![];if(this['curScan']==null)return;if(_0x1539eb!=null&&_0x1539eb['object']!=null&&_0x1539eb[_0x96f38c(0x3cd)][_0x96f38c(0x20c)]===!![])this['curScan'][_0x96f38c(0x39c)]=_0x1539eb;else _0x1539eb!=null&&_0x1539eb['Valid']===!![]?this['curScan']['mrz']=MRZReader['parseObject'](_0x1539eb):this[_0x96f38c(0x290)][_0x96f38c(0x39c)]=null;typeof this[_0x96f38c(0x36c)][_0x96f38c(0x216)]===_0x96f38c(0x341)&&this[_0x96f38c(0x36c)]['onMRZDetected'](_0x1539eb),this[_0x96f38c(0x30a)]();}[_0x124cab(0x30a)](){const _0x21404=_0x124cab;if(!this[_0x21404(0x281)]())return;let _0x114e0a=this[_0x21404(0x290)],_0x15f43c=![];if(this[_0x21404(0x2b7)][_0x21404(0x393)][_0x21404(0x3b7)]===0x0&&(_0x114e0a['docFace']===DCScanDocFaces[_0x21404(0x3e0)]||_0x114e0a['docFace']===DCScanDocFaces[_0x21404(0x32f)]))_0x114e0a[_0x21404(0x3ad)]===DCScanDocFaces[_0x21404(0x3e0)]?_0x114e0a['card']!=null&&_0x114e0a[_0x21404(0x3a8)]!=null&&_0x114e0a['face'][_0x21404(0x3b7)]===0x1&&(this[_0x21404(0x2b7)][_0x21404(0x393)][_0x21404(0x2e0)](_0x114e0a),this[_0x21404(0x2b7)][_0x21404(0x389)]=DCScanDocType['ID'],this[_0x21404(0x2b7)][_0x21404(0x349)]=![],this['callDetectedEvent'](this[_0x21404(0x290)]),this[_0x21404(0x3d9)](DCScanCommand[_0x21404(0x297)]),_0x15f43c=!![],this[_0x21404(0x2cc)](this[_0x21404(0x303)])):_0x114e0a['card']!=null&&_0x114e0a[_0x21404(0x3a8)]!=null&&_0x114e0a['mrz']!=null&&_0x114e0a[_0x21404(0x39c)][_0x21404(0x2d1)]!=null&&(this[_0x21404(0x2b7)][_0x21404(0x393)][_0x21404(0x2e0)](_0x114e0a),this['result'][_0x21404(0x389)]=DCScanDocType[_0x21404(0x346)],this[_0x21404(0x2b7)][_0x21404(0x349)]=!![],this['callDetectedEvent'](this[_0x21404(0x290)]),this[_0x21404(0x356)](DCScanSteps[_0x21404(0x25b)]),this[_0x21404(0x1ef)]=new Date()[_0x21404(0x29c)](),_0x15f43c=!![]);else this[_0x21404(0x2b7)][_0x21404(0x393)][_0x21404(0x3b7)]===0x1&&this[_0x21404(0x2b7)]['docType']===DCScanDocType['ID']&&_0x114e0a[_0x21404(0x3ad)]===DCScanDocFaces[_0x21404(0x297)]&&(_0x114e0a[_0x21404(0x27e)]!=null&&_0x114e0a['mrz']!=null&&_0x114e0a[_0x21404(0x39c)][_0x21404(0x2d1)]!=null&&(this['result'][_0x21404(0x393)][_0x21404(0x2e0)](_0x114e0a),this[_0x21404(0x2b7)][_0x21404(0x349)]=!![],this[_0x21404(0x296)](this['curScan']),this[_0x21404(0x356)](DCScanSteps[_0x21404(0x25b)]),this['finishTime']=new Date()[_0x21404(0x29c)](),_0x15f43c=!![]));!_0x15f43c&&this[_0x21404(0x236)][_0x21404(0x27e)]&&this['scanned'][_0x21404(0x3a8)]&&this[_0x21404(0x236)][_0x21404(0x39c)]&&this['unlock'](this[_0x21404(0x303)]);}[_0x124cab(0x281)](){const _0x52960f=_0x124cab;for(let _0x119a75 in this[_0x52960f(0x236)]){if(this['scanned'][_0x119a75]!==!![])return![];}return!![];}[_0x124cab(0x356)](_0x2dd4df){const _0x2aff35=_0x124cab;this[_0x2aff35(0x2ed)]!==_0x2dd4df&&(this['step']=_0x2dd4df,typeof this[_0x2aff35(0x36c)][_0x2aff35(0x3d3)]==_0x2aff35(0x341)&&this[_0x2aff35(0x36c)][_0x2aff35(0x3d3)](_0x2dd4df));}[_0x124cab(0x291)](_0xdcc26){const _0x438800=_0x124cab;_0xdcc26!==null&&typeof this[_0x438800(0x36c)][_0x438800(0x27b)]===_0x438800(0x341)&&this[_0x438800(0x36c)][_0x438800(0x27b)](_0xdcc26);}[_0x124cab(0x296)](_0x4cf0dc){const _0xeddf34=_0x124cab;typeof this[_0xeddf34(0x36c)]['onDetected']===_0xeddf34(0x341)&&this[_0xeddf34(0x36c)][_0xeddf34(0x316)](_0x4cf0dc);}[_0x124cab(0x351)](_0x45f326){const _0x506700=_0x124cab;typeof this[_0x506700(0x36c)][_0x506700(0x3c5)]===_0x506700(0x341)&&this['options'][_0x506700(0x3c5)](_0x45f326);}[_0x124cab(0x207)](){const _0xd66cb9=_0x124cab;return this[_0xd66cb9(0x2ed)];}[_0x124cab(0x2cc)](_0x38bc8a=null){const _0x40f56b=_0x124cab;_0x38bc8a=_0x38bc8a==null?this[_0x40f56b(0x303)]:_0x38bc8a,clearTimeout(this[_0x40f56b(0x3d6)]),this[_0x40f56b(0x3d6)]=setTimeout(()=>{const _0x319560=_0x40f56b;this[_0x319560(0x2d6)]=![];},_0x38bc8a);}[_0x124cab(0x338)](){const _0x39bee5=_0x124cab;this[_0x39bee5(0x2ed)]=DCScanCommand['NONE'],this['result']={'status':![],'docType':DCScanDocType[_0x39bee5(0x3c9)],'scans':[],'tID':null},this[_0x39bee5(0x290)]=null,this['scanned']={},this['detectionLocked']=![],this['cardImage']=null,this[_0x39bee5(0x213)]=null,this[_0x39bee5(0x22e)][_0x39bee5(0x338)]();}[_0x124cab(0x280)](){const _0xa79e56=_0x124cab;this[_0xa79e56(0x2ed)]=DCScanSteps[_0xa79e56(0x3c9)],this[_0xa79e56(0x3d9)](DCScanCommand[_0xa79e56(0x3c9)]),this['startTime']=new Date()[_0xa79e56(0x29c)](),!this[_0xa79e56(0x22e)][_0xa79e56(0x36c)]['serverSide']?(this['tID']=String(this['startTime']+Math[_0xa79e56(0x350)](Math['random']()*0x186a0)),this['result'][_0xa79e56(0x213)]=this['tID']):this[_0xa79e56(0x22e)][_0xa79e56(0x2a0)]((_0x4082f0,_0x12a799)=>{const _0x32df2c=_0xa79e56;this[_0x32df2c(0x213)]=_0x12a799,this[_0x32df2c(0x2b7)][_0x32df2c(0x213)]=this[_0x32df2c(0x213)];});}[_0x124cab(0x386)](){const _0x806035=_0x124cab;this[_0x806035(0x3d9)](DCScanCommand['FINISH']),typeof this[_0x806035(0x36c)]['onFinished']===_0x806035(0x341)&&this['options'][_0x806035(0x237)](this[_0x806035(0x2b7)]);}[_0x124cab(0x3d9)](_0x1f4472){const _0x442a89=_0x124cab;typeof this[_0x442a89(0x36c)][_0x442a89(0x39d)]===_0x442a89(0x341)&&this['options'][_0x442a89(0x39d)](_0x1f4472);}['defineScanType'](_0x50d4f3){const _0x388492=_0x124cab;switch(_0x50d4f3){case'id_front':case _0x388492(0x223):return DCScanDocType['ID'];case _0x388492(0x2d7):case'pass_full':return DCScanDocType[_0x388492(0x346)];default:return DCScanDocType[_0x388492(0x3c9)];}}[_0x124cab(0x3b9)](_0x2e03a6){const _0x289645=_0x124cab;switch(_0x2e03a6){case'id_front':return DCScanDocFaces[_0x289645(0x3e0)];case _0x289645(0x223):return DCScanDocFaces[_0x289645(0x297)];case'pass_main':case _0x289645(0x362):return DCScanDocFaces[_0x289645(0x32f)];default:return DCScanDocFaces[_0x289645(0x3c9)];}}[_0x124cab(0x1f4)](){const _0x937e92=_0x124cab;return this[_0x937e92(0x2ed)];}};class vislayer_VisualLayer{constructor(_0x12ae5c,_0x315031={}){const _0x411a7f=_0x124cab;this['canvas']=_0x12ae5c,this[_0x411a7f(0x36c)]={'srcDim':{'k':0x1,'dx':0x0,'dy':0x0,'dw':0x0,'dh':0x0},'mirrored':!![],'areaColor':'#FFFFFF','areaOpacity':0.5,'showArea':!![],'showDetectors':!![],'showTitle':!![]},this['options']=deepMerge(this['options'],_0x315031),this['cc']=new CoordConverter(this['options'][_0x411a7f(0x2a3)]);}[_0x124cab(0x3ae)](_0x48317d,_0x5ee8e7,_0x4d4c12){}[_0x124cab(0x2e9)](){}[_0x124cab(0x3b6)](_0x45289c){const _0x4a1a34=_0x124cab;if(!this[_0x4a1a34(0x36c)][_0x4a1a34(0x22c)])return;let _0x4550ec=_0x45289c[_0x4a1a34(0x28b)]+0x14,_0xbea914=_0x45289c[_0x4a1a34(0x3aa)]+0x14,_0x2ef3c9=(this[_0x4a1a34(0x283)][_0x4a1a34(0x28b)]-_0x4550ec*this['canvas'][_0x4a1a34(0x28b)]/0x64)/0x2,_0x43007b=(this['canvas'][_0x4a1a34(0x3aa)]-_0xbea914*this['canvas'][_0x4a1a34(0x3aa)]/0x64)/0x2,_0x414abe=this[_0x4a1a34(0x283)][_0x4a1a34(0x361)]('2d');_0x414abe[_0x4a1a34(0x2e3)](),_0x414abe['beginPath'](),_0x414abe[_0x4a1a34(0x374)]=0x3;let _0x5b9ceb=parseInt(this[_0x4a1a34(0x36c)][_0x4a1a34(0x2df)][_0x4a1a34(0x2fb)](0x1,0x2),0x10),_0x16ca40=parseInt(this['options']['areaColor'][_0x4a1a34(0x2fb)](0x3,0x2),0x10),_0xcff6ed=parseInt(this[_0x4a1a34(0x36c)][_0x4a1a34(0x2df)][_0x4a1a34(0x2fb)](0x5,0x2),0x10);_0x414abe[_0x4a1a34(0x2c7)]=_0x4a1a34(0x286)+_0x5b9ceb+',\x20'+_0x16ca40+',\x20'+_0xcff6ed+',\x20'+this[_0x4a1a34(0x36c)][_0x4a1a34(0x359)]+')',_0x414abe[_0x4a1a34(0x2ca)](_0x2ef3c9,_0x43007b,this[_0x4a1a34(0x283)]['width']-_0x2ef3c9*0x2,this[_0x4a1a34(0x283)][_0x4a1a34(0x3aa)]-_0x43007b*0x2),_0x414abe[_0x4a1a34(0x367)](),_0x414abe['closePath'](),_0x414abe[_0x4a1a34(0x353)]();}[_0x124cab(0x310)](_0x1b4ee5,_0x957a48=_0x124cab(0x235),_0x5320c4=''){const _0x3d0599=_0x124cab;if(!this['options'][_0x3d0599(0x3cb)])return;let _0x5c2b3a=this[_0x3d0599(0x283)][_0x3d0599(0x361)]('2d'),_0x17a9e4=null,_0x25549b=null,_0x33ff95=null;for(let _0x4bf2b6 in _0x1b4ee5){_0x33ff95=_0x1b4ee5[_0x4bf2b6],this[_0x3d0599(0x36c)][_0x3d0599(0x215)]?_0x17a9e4=this[_0x3d0599(0x283)][_0x3d0599(0x28b)]-this['cc'][_0x3d0599(0x36b)](_0x33ff95['bbox'][0x0])-this['cc'][_0x3d0599(0x2fe)](_0x33ff95[_0x3d0599(0x248)][0x2]):_0x17a9e4=this['cc']['getCoordX'](_0x33ff95[_0x3d0599(0x248)][0x0]),_0x25549b=this['cc'][_0x3d0599(0x35a)](_0x33ff95['bbox'][0x1]),_0x5c2b3a[_0x3d0599(0x3a0)](),_0x5c2b3a[_0x3d0599(0x374)]='2',_0x5c2b3a[_0x3d0599(0x2c7)]=_0x957a48,_0x5c2b3a[_0x3d0599(0x2ca)](_0x17a9e4,_0x25549b,this['cc'][_0x3d0599(0x2fe)](_0x33ff95[_0x3d0599(0x248)][0x2]),this['cc'][_0x3d0599(0x2fe)](_0x33ff95[_0x3d0599(0x248)][0x3])),_0x5c2b3a[_0x3d0599(0x367)](),this[_0x3d0599(0x36c)][_0x3d0599(0x380)]&&(_0x5c2b3a[_0x3d0599(0x374)]='0',_0x5c2b3a[_0x3d0599(0x3c7)]=_0x957a48,_0x5c2b3a['fillRect'](_0x17a9e4-0x1,_0x25549b-0x14,0x96,0x14),_0x5c2b3a['font']=_0x3d0599(0x3a7),_0x5c2b3a[_0x3d0599(0x3c7)]=_0x3d0599(0x2f7),_0x5c2b3a[_0x3d0599(0x3c0)]=_0x3d0599(0x34c),_0x5c2b3a['fillText'](_0x33ff95[_0x3d0599(0x2d9)]+'\x20'+Number(_0x33ff95[_0x3d0599(0x22d)])[_0x3d0599(0x233)](0x2),_0x17a9e4+0x5,_0x25549b-0x5),_0x5c2b3a[_0x3d0599(0x367)]()),_0x5c2b3a['font']=_0x3d0599(0x1f5),_0x5c2b3a[_0x3d0599(0x3c7)]=_0x957a48,_0x5c2b3a[_0x3d0599(0x3c0)]=_0x3d0599(0x2ea),_0x5c2b3a[_0x3d0599(0x321)](_0x5320c4,_0x17a9e4+this['cc'][_0x3d0599(0x2fe)](_0x33ff95[_0x3d0599(0x248)][0x2])/0x2,_0x25549b+this['cc'][_0x3d0599(0x2fe)](_0x33ff95[_0x3d0599(0x248)][0x3])/0x2),_0x5c2b3a[_0x3d0599(0x309)]();}_0x5c2b3a['restore']();}};class ScanWebWorker{constructor(_0x19fc12={}){const _0x1b0542=_0x124cab;this[_0x1b0542(0x34e)]=null,this[_0x1b0542(0x261)]=null,this['options']={'path':null},this[_0x1b0542(0x36c)]=deepMerge(this['options'],_0x19fc12),this[_0x1b0542(0x275)]();}[_0x124cab(0x275)](){const _0x1331ca=_0x124cab;this[_0x1331ca(0x261)]=stream['open'](_0x1331ca(0x388)),this['stream']['on'](_0x1331ca(0x3d7),this[_0x1331ca(0x3d7)][_0x1331ca(0x2b9)](this)),this[_0x1331ca(0x261)]['on'](_0x1331ca(0x387),this[_0x1331ca(0x387)][_0x1331ca(0x2b9)](this)),window['Worker']&&this[_0x1331ca(0x36c)][_0x1331ca(0x37e)]!=null?(this[_0x1331ca(0x34e)]=new Worker(this[_0x1331ca(0x36c)][_0x1331ca(0x37e)]),this['worker']['onmessage']=this['onWorkerMessage'][_0x1331ca(0x2b9)](this)):helper_logger['getInstance']()['log'](_0x1331ca(0x2d2));}[_0x124cab(0x387)](_0x1396b8){const _0x4260cb=_0x124cab;let _0x5901f2=null;if(_0x1396b8 instanceof HTMLCanvasElement)_0x5901f2=ImageProcessing[_0x4260cb(0x3bf)](_0x1396b8);else _0x1396b8 instanceof HTMLImageElement&&(_0x5901f2=ImageProcessing['imageToCanvas'](_0x1396b8));this[_0x4260cb(0x34e)]['postMessage']({'type':'scan','action':_0x4260cb(0x387),'data':_0x5901f2});}[_0x124cab(0x3d7)](){const _0x8064b8=_0x124cab;this[_0x8064b8(0x34e)][_0x8064b8(0x2f1)]({'type':'scan','action':_0x8064b8(0x3d7)});}[_0x124cab(0x27f)](_0x15d01a){const _0x457d6d=_0x124cab;let _0x33dacb=_0x15d01a[_0x457d6d(0x2b2)]['type'],_0x24b586=_0x15d01a['data'][_0x457d6d(0x273)],_0x45c35d=_0x15d01a['data'][_0x457d6d(0x2b2)];switch(_0x33dacb){case _0x457d6d(0x30f):this['stream']['notify'](_0x457d6d(0x2e6),_0x45c35d);break;case _0x457d6d(0x34a):this[_0x457d6d(0x261)][_0x457d6d(0x2ef)]('onScanLoaded',_0x45c35d);break;default:break;}}};class DeepScanner{constructor(_0xf79fc6,_0x3565b8={}){const _0x268c4a=_0x124cab;this[_0x268c4a(0x36d)]=null,this[_0x268c4a(0x283)]=null,this[_0x268c4a(0x3da)]=null,this[_0x268c4a(0x255)]={'start':![],'detectInit':![],'analyzeAfterOpen':![]},this[_0x268c4a(0x34e)]=null,this[_0x268c4a(0x36c)]={'url':null,'headers':null,'src':null,'sourceType':null,'width':0x780,'height':0x438,'onInit':null,'onFrameCaptured':null,'onCardDetected':null,'onDetected':null,'onCommand':null,'sessionTime':0xea60,'detectTime':0x64,'onFinished':null,'mirrored':!![],'scan_worker_path':'js/deepscanworker.min.js','face_worker_path':'js/deeptinyfaceworker.min.js','testURL':null,'mrzOptions':null,'useServerSide':null,'serverRequestDelay':0x1f4,'detector':{},'camera':{'fillOnMobile':!![],'fill':!![],'cutEdge':!![]},'visual':{'areaColor':_0x268c4a(0x250),'showArea':!![],'showDetectors':!![],'showTitle':!![]},'text':{'processing':_0x268c4a(0x36a)}},this[_0x268c4a(0x343)]=null,this[_0x268c4a(0x313)]=null,this[_0x268c4a(0x3be)]=null,this[_0x268c4a(0x38e)]=null,this[_0x268c4a(0x326)]=null,this[_0x268c4a(0x333)]=null,this[_0x268c4a(0x372)]=null,this[_0x268c4a(0x395)]=null,this['lastCommand']=DCScanCommand[_0x268c4a(0x3c9)],this['lastResult']=null,this[_0x268c4a(0x3c1)]=0x0,this[_0x268c4a(0x36c)]=deepMerge(this[_0x268c4a(0x36c)],_0x3565b8),(this['options']['useServerSide']==null&&OSPlus[_0x268c4a(0x339)]()||OSPlus['isSafari']())&&(this[_0x268c4a(0x36c)][_0x268c4a(0x3c3)]=!![]),this[_0x268c4a(0x1eb)](_0xf79fc6),this[_0x268c4a(0x275)]();}[_0x124cab(0x1eb)](_0x12faf2){const _0x41808e=_0x124cab;this[_0x41808e(0x3da)]=new camera(_0x12faf2,{'src':this['options']['src'],'width':this[_0x41808e(0x36c)]['width'],'height':this['options'][_0x41808e(0x3aa)],'fill':this[_0x41808e(0x36c)][_0x41808e(0x3da)][_0x41808e(0x21f)],'fillOnMobile':this['options'][_0x41808e(0x3da)][_0x41808e(0x298)],'cutEdge':this[_0x41808e(0x36c)][_0x41808e(0x3da)][_0x41808e(0x200)],'onFrameUpdated':this[_0x41808e(0x228)][_0x41808e(0x2b9)](this),'onLoaded':this[_0x41808e(0x201)][_0x41808e(0x2b9)](this),'onStart':this[_0x41808e(0x209)]['bind'](this),'onStop':this[_0x41808e(0x39b)][_0x41808e(0x2b9)](this)}),this[_0x41808e(0x36d)]=this[_0x41808e(0x3da)][_0x41808e(0x36d)],this['canvas']=this[_0x41808e(0x3da)]['canvas'];}[_0x124cab(0x275)](){const _0x446996=_0x124cab;this['cc']=new CoordConverter(this['camera']['sourceDim']),this[_0x446996(0x313)]=new vislayer_VisualLayer(this['canvas'],{'srcDim':this['camera'][_0x446996(0x288)],'mirrored':this['options']['mirrored'],'areaColor':this[_0x446996(0x36c)][_0x446996(0x313)][_0x446996(0x2df)],'showArea':this[_0x446996(0x36c)][_0x446996(0x313)][_0x446996(0x22c)],'showDetectors':this[_0x446996(0x36c)][_0x446996(0x313)]['showDetectors'],'showTitle':this[_0x446996(0x36c)][_0x446996(0x313)][_0x446996(0x380)]}),this[_0x446996(0x343)]=new ScanAnalyser(this[_0x446996(0x3da)][_0x446996(0x375)],{'host':this['options'][_0x446996(0x2e2)],'headers':this['options'][_0x446996(0x3b3)],'mrzOptions':this[_0x446996(0x36c)]['mrzOptions'],'detector':this[_0x446996(0x36c)][_0x446996(0x22e)],'useServerSide':this[_0x446996(0x36c)][_0x446996(0x3c3)],'onCommand':this[_0x446996(0x39d)][_0x446996(0x2b9)](this),'onCardDetected':this[_0x446996(0x27b)][_0x446996(0x2b9)](this),'onDetected':this[_0x446996(0x316)][_0x446996(0x2b9)](this),'onFinished':this[_0x446996(0x237)][_0x446996(0x2b9)](this),'onError':this['onError'][_0x446996(0x2b9)](this),'mirrored':this[_0x446996(0x36c)][_0x446996(0x215)],'serverDelay':this['options'][_0x446996(0x304)]});if(!this['options'][_0x446996(0x3c3)]){let _0x26a7c6=_0x446996(0x366)+new Date()[_0x446996(0x29c)]();this[_0x446996(0x3be)]=new WebWorker({'path':this['options'][_0x446996(0x35f)]+_0x26a7c6}),this['scanWebWorker']=new ScanWebWorker({'path':this['options'][_0x446996(0x308)]+_0x26a7c6});}this[_0x446996(0x343)]['cc']=this['cc'],typeof this[_0x446996(0x36c)][_0x446996(0x38c)]==_0x446996(0x341)&&this[_0x446996(0x36c)][_0x446996(0x38c)]();}[_0x124cab(0x37b)](){const _0x16fedc=_0x124cab;!this[_0x16fedc(0x3da)][_0x16fedc(0x249)]()&&(this[_0x16fedc(0x3da)]['start'](),this[_0x16fedc(0x343)][_0x16fedc(0x311)]());}[_0x124cab(0x36e)](){const _0x5d457e=_0x124cab;this[_0x5d457e(0x384)](),this[_0x5d457e(0x3da)][_0x5d457e(0x384)]();}[_0x124cab(0x280)](){const _0x5344d6=_0x124cab;this[_0x5344d6(0x3e3)]=null,this['lastCommand']=DCScanCommand[_0x5344d6(0x3c9)],!this[_0x5344d6(0x3da)][_0x5344d6(0x249)]()?(this[_0x5344d6(0x37b)](),this[_0x5344d6(0x255)][_0x5344d6(0x222)]=!![]):(this[_0x5344d6(0x255)][_0x5344d6(0x280)]=!![],this[_0x5344d6(0x343)]['start']()),this[_0x5344d6(0x3d2)](),this[_0x5344d6(0x3c1)]=new Date()[_0x5344d6(0x29c)]();}[_0x124cab(0x384)](){const _0x4a8df1=_0x124cab;this[_0x4a8df1(0x255)][_0x4a8df1(0x280)]=![],this[_0x4a8df1(0x255)]['analyzeAfterOpen']=![],this[_0x4a8df1(0x343)][_0x4a8df1(0x338)](),this[_0x4a8df1(0x3d2)]();}[_0x124cab(0x22b)](_0x2d95bb,_0x4532aa){const _0x550c52=_0x124cab;ImageProcessing[_0x550c52(0x3af)](_0x2d95bb)[_0x550c52(0x2ae)](_0x124e5c=>{const _0x5e95bf=_0x550c52;let _0x1fb524=ImageProcessing['imageToCanvas'](_0x124e5c);this[_0x5e95bf(0x343)][_0x5e95bf(0x243)](_0x1fb524,_0x4532aa);});}['clear'](){const _0x1a60be=_0x124cab;this[_0x1a60be(0x326)]=[],this['lastScanned']=null,this['lastScannedTime']=null,this[_0x1a60be(0x333)]=null,this['sessionTimeCount']=0x0;}[_0x124cab(0x237)](_0x1940c8){const _0x2ca083=_0x124cab;this['lastDetected']=[],this[_0x2ca083(0x372)]=null,this[_0x2ca083(0x313)]['drawCard']([]),this[_0x2ca083(0x384)](),typeof this[_0x2ca083(0x36c)][_0x2ca083(0x237)]=='function'&&this[_0x2ca083(0x36c)][_0x2ca083(0x237)](_0x1940c8);}[_0x124cab(0x27b)](_0x3f1d71){const _0x740af1=_0x124cab;this['lastDetected']=_0x3f1d71,this['lastDetectedTime']=new Date()[_0x740af1(0x29c)](),typeof this['options'][_0x740af1(0x27b)]===_0x740af1(0x341)&&this[_0x740af1(0x36c)][_0x740af1(0x27b)](_0x3f1d71);}['onDetected'](_0x37355e){const _0x3fbd4c=_0x124cab;this[_0x3fbd4c(0x372)]=_0x37355e,this[_0x3fbd4c(0x395)]=new Date()['getTime'](),helper_logger[_0x3fbd4c(0x20e)]()[_0x3fbd4c(0x279)]('onDetect',_0x37355e),typeof this['options']['onDetected']===_0x3fbd4c(0x341)&&this[_0x3fbd4c(0x36c)]['onDetected'](this['lastScanned']);}[_0x124cab(0x39d)](_0x4b34c8){const _0x4035bb=_0x124cab;this['lastCommand']=_0x4b34c8;if(!this['state']['start'])return;typeof this[_0x4035bb(0x36c)][_0x4035bb(0x39d)]==='function'&&this[_0x4035bb(0x36c)][_0x4035bb(0x39d)](_0x4b34c8);}['onCommandResult'](){}['onError'](_0x293fcd){const _0x28e972=_0x124cab;switch(_0x293fcd){case DCScanError['TOO_SMALL']:helper_logger[_0x28e972(0x20e)]()['log'](_0x28e972(0x39f));break;default:}}[_0x124cab(0x228)](){const _0x48524f=_0x124cab;if(this[_0x48524f(0x255)][_0x48524f(0x280)]){let _0x4ff3a9=this['lastScanned']&&this[_0x48524f(0x372)][_0x48524f(0x27e)]?[this[_0x48524f(0x372)][_0x48524f(0x27e)]]:[];if(_0x4ff3a9[_0x48524f(0x3b7)]===0x0&&this[_0x48524f(0x326)]!=null&&this[_0x48524f(0x326)]['length']>0x0){_0x4ff3a9=this[_0x48524f(0x326)];let _0x1bd074='';if(this[_0x48524f(0x254)]===DCScanCommand[_0x48524f(0x297)]&&this[_0x48524f(0x326)][0x0]['class']===_0x48524f(0x223))_0x1bd074=this['options'][_0x48524f(0x204)][_0x48524f(0x1ff)],this['visual'][_0x48524f(0x310)](_0x4ff3a9,_0x48524f(0x300),_0x1bd074);else this[_0x48524f(0x254)]===DCScanCommand['SHOW']&&(this['lastDetected'][0x0][_0x48524f(0x2d9)]===_0x48524f(0x2d7)||this[_0x48524f(0x326)][0x0][_0x48524f(0x2d9)]===_0x48524f(0x362))&&(_0x1bd074=this[_0x48524f(0x36c)][_0x48524f(0x204)][_0x48524f(0x1ff)],this[_0x48524f(0x313)][_0x48524f(0x310)](_0x4ff3a9,_0x48524f(0x300),_0x1bd074));}else{let _0x118628=this[_0x48524f(0x352)](this['lastScannedTime']);_0x118628!=null&&_0x118628<0x7d0&&this['visual']['drawCard'](_0x4ff3a9);}this['analizer']['getStep']()===DCScanSteps[_0x48524f(0x23e)]&&this[_0x48524f(0x313)]['drawArea'](this['analizer']['options']['cardMinSize']);let _0x5313b9=new Date()[_0x48524f(0x29c)]();_0x5313b9-this[_0x48524f(0x3c1)]>this['options'][_0x48524f(0x3d1)]?this[_0x48524f(0x237)]({'status':![],'msg':_0x48524f(0x354)}):this[_0x48524f(0x343)][_0x48524f(0x2d8)]();}}['onCameraLoaded'](_0x1d2429,_0xe4255f){const _0xa1d579=_0x124cab;this['cc'][_0xa1d579(0x2e1)](_0xe4255f);}[_0x124cab(0x209)](){const _0x371afc=_0x124cab;this[_0x371afc(0x255)][_0x371afc(0x222)]&&(this[_0x371afc(0x255)][_0x371afc(0x222)]=![],this[_0x371afc(0x280)]());}[_0x124cab(0x39b)](){}[_0x124cab(0x352)](_0x55e89f){const _0x2b0d30=_0x124cab;if(_0x55e89f==null)return null;return new Date()[_0x2b0d30(0x29c)]()-_0x55e89f;}};const DCAnalyzer={'FACE':_0x124cab(0x3a8),'SCANNER':_0x124cab(0x342)};class DCFaceID{constructor(_0x55052a={}){const _0x5b9905=_0x124cab;this['options']={'url':null,'headers':null,'debug':![]},this['options']=deepMerge(this[_0x5b9905(0x36c)],_0x55052a),this[_0x5b9905(0x2b2)]=new DataModel(_0x55052a[_0x5b9905(0x2e2)]||null,this[_0x5b9905(0x36c)]);let _0x307bc2=new helper_logger({'debug':this[_0x5b9905(0x36c)][_0x5b9905(0x3bd)]});}['createDeepFace'](_0x4cfea5,_0x5d0ca0){let _0x5f3894=new DeepFace(_0x4cfea5,_0x5d0ca0);return _0x5f3894;}['createDeepScan'](_0x1775a5,_0x543061){const _0x78010f=_0x124cab;let _0x3b0010=deepMerge({'url':this[_0x78010f(0x36c)][_0x78010f(0x2e2)],'headers':this[_0x78010f(0x36c)][_0x78010f(0x3b3)]},_0x543061),_0x48e511=new DeepScanner(_0x1775a5,_0x3b0010);return _0x48e511;}[_0x124cab(0x227)](_0x9646a6,_0x3e8bca){}[_0x124cab(0x3a3)](_0x4feaa2,_0x13f47a){const _0x527821=_0x124cab;this[_0x527821(0x2b2)][_0x527821(0x3e6)](_0x4feaa2,_0x144686=>{const _0x2d8758=_0x527821;typeof _0x13f47a===_0x2d8758(0x341)&&_0x13f47a(_0x144686);});}[_0x124cab(0x339)](){return OSPlus['isMobile']();}}
export default DCFaceID
